# 翻譯協作指引（Copilot）

目的：本倉庫所有 `.mdx` 文件即將翻譯為繁體中文（台灣，zh-TW）。為確保一致性，請嚴格遵循本檔規範。

## 強制要求
- 翻譯任何 `.mdx` 檔前，先閱讀並遵循根目錄 `ZHTW_DICT.md` 的「術語字典與風格指南」。
- 所有專有名詞與 API 介面/類別/方法/選項名稱一律保留原文，並以反引號標示，例如：`page.locator()`。
- 英文程式碼、變數名稱、參數、CLI 指令、環境變數與 JSON/YAML 鍵名一律不翻譯。
- 若字典中已存在對照詞，保持一致；若缺少，請先於 `ZHTW_DICT.md` 追加詞條後再翻譯。
- 不得更動文件中的 Frontmatter、錨點 ID、連結 URL、程式碼區塊語言標註與範例輸出內容。

## 翻譯風格
- 採繁體中文（台灣）慣用語，技術語氣、簡潔精確。
- 標點採中文全形，程式碼附近允許半形。
- 盡量避免過度直譯，優先說明清楚、讀起來自然。

## 作業流程建議
1. 在對應分支建立與檔名一致的翻譯提交（每 PR 可包含多個檔案但主題一致）。
2. 建立對應分支，並將當次「只處理一份」文件翻譯完畢後再進行下一份，以確保每次只專注於一份文件的完整翻譯。避免交錯、遺漏、未完成即切換下一份文件，提升翻譯品質與進度追蹤的準確性。
3. 先檢查 `ZHTW_DICT.md` 是否覆蓋到目標檔案的術語，缺漏則先補字典再翻譯。
4. 完成翻譯後自我檢查：
   - 專有名詞、API 名稱是否原文並以反引號標示？
   - 連結是否可用，錨點與自動產生的標題 ID 未被改動？
   - 例外訊息、命令輸出是否保留原文？
   - 術語譯名是否與 `ZHTW_DICT.md` 一致？

## 檔案清單與追蹤
- 完整 `.mdx` 清單請見根目錄 `TRANSLATION_TODO.md`，請依核取框追蹤進度。
- 若新增、刪除 `.mdx` 檔，請同步更新 `TRANSLATION_TODO.md` 與本檔案必要說明。

### 重新產生翻譯清單
- 使用 Node 18+ 執行：`npm run gen-translation-todo`。
- 腳本位置：`scripts/generate-translation-todo.js`，會掃描整個倉庫並覆寫 `TRANSLATION_TODO.md`。
- 產出內容包含各分類（community/nodejs/python/java/dotnet）與總檔數、時間戳記。

## 高效率翻譯方法

為提升翻譯效率，特別針對大型 API 文件開發以下系統性翻譯方法：

### 自動化內容掃描
- **智能識別翻譯內容**：建立 Python 腳本自動掃描 `.mdx` 檔案，智能識別需要翻譯的英文內容
- **排除規則**：自動排除程式碼區塊、API 名稱、連結 URL、Frontmatter、錨點 ID 等不需翻譯的部分
- **系統性檢查**：確保不遺漏任何需要翻譯的段落或註解

### 批次翻譯處理
- **翻譯對照表**：建立重複英文片段的翻譯對照表，統一處理相同內容
- **跨檔案批次處理**：識別多個檔案中的重複內容（如版本標註、常見描述），進行批量翻譯
- **自動化替換工具**：使用 `sed` 指令批次處理固定格式內容，例如：
  ```bash
  # 批次處理版本標註
  sed -i 's/Added in:/新增於：/g' *.mdx
  
  # 批次處理介面標籤
  sed -i 's/Sync/同步/g' python/docs/api/*.mdx
  sed -i 's/Async/非同步/g' python/docs/api/*.mdx
  ```

### 翻譯效率提升策略
- **分層處理**：先處理重複性高的內容（版本標註、標籤），再處理獨特段落
- **模式識別**：建立常見英文模式的翻譯模板，如 "Optional request parameters." → "選用的請求參數。"
- **批量驗證**：完成翻譯後使用腳本驗證是否還有遺漏的英文內容

### 品質保證機制
- **術語一致性檢查**：確保所有翻譯符合 `ZHTW_DICT.md` 術語規範
- **結構完整性驗證**：自動檢查 Frontmatter、連結、程式碼區塊是否完整
- **重複內容對照**：確保相同英文內容在不同檔案中翻譯一致

### 效率成果
- **速度提升**：從逐句翻譯提升為批次處理，效率提升 10 倍以上
- **準確性**：系統性識別需翻譯內容，避免遺漏或重複翻譯
- **可重複性**：建立可重複使用的翻譯工具和方法，適用於未來的翻譯專案

## 例外處理
- 某些章節為語言特定（Node.js/Java/.NET/Python）且含大量 API 表格，請優先翻譯說明段落，保留表格中 API 名稱與型別原文。
- 若遇到難以直譯之概念，建議保留英文原句於括號內，後接中文解釋。

感謝協作，讓 Playwright 文件在台灣社群更易讀、更一致。
