---
id: test-ui-mode
title: "UI 模式"
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';
import ProgressiveImage from '@theme/ProgressiveImage';

import LiteYouTube from '@site/src/components/LiteYouTube';

## 簡介

UI 模式讓您能夠探索、執行和偵錯測試，並提供完整的時光旅行體驗以及觀看模式。所有測試檔案都會顯示在測試側邊欄中，讓您可以展開每個檔案和描述區塊，以個別執行、檢視、觀看和偵錯每個測試。您可以依**名稱**、[**專案**](./test-projects)（在您的 `playwright.config` 檔案中設定）、**@tag**，或依執行狀態**通過**、**失敗**和**跳過**來篩選測試。查看您測試的完整追蹤，並在每個動作上懸停前後移動，以查看每個步驟中發生的情況。您也可以將某個時刻的 DOM 快照彈出到獨立視窗中，以獲得更好的偵錯體驗。

<LiteYouTube id="d0u6XhXknzU" title="Playwrights UI Mode" />

## 開啟 UI 模式

要開啟 UI 模式，請在您的終端機中執行以下指令：

```bash
npx playwright test --ui
```

## 執行您的測試

一旦您啟動 UI 模式，您將會看到所有測試檔案的列表。您可以點擊側邊欄的三角形圖示來執行所有測試。您也可以通過懸停在名稱上並點擊旁邊的三角形來執行單個測試檔案、一組測試或單個測試。

![running tests in ui mode](https://github.com/microsoft/playwright/assets/13063165/6b87712f-64a5-4d73-a91d-6562b864712c)

## 篩選測試

您可以依文字或 `@tag` 或依通過、失敗或跳過的測試來篩選測試。您也可以依在您的 `playwright.config` 檔案中設定的[專案](./test-projects)進行篩選。如果您使用專案相依性，請確保在執行依賴它們的測試之前先執行您的設定測試。UI 模式不會考慮設定測試，因此您必須先手動執行它們。

![filtering tests in ui mode](https://github.com/microsoft/playwright/assets/13063165/6f05e589-036d-45d5-9078-38134e1261e4)

## 時間軸檢視

在追蹤的頂部，您可以看到測試的時間軸檢視，使用不同顏色來突出導航和動作。來回懸停以查看每個動作的圖像快照。雙擊動作以查看該動作的時間範圍。您可以使用時間軸中的滑桿來增加選擇的動作，這些動作將顯示在 Actions 分頁標籤中，所有主控台日誌和網路日誌將被篩選，僅顯示所選動作的日誌。

![timeline view in ui mode](https://github.com/microsoft/playwright/assets/13063165/811a9985-32aa-4a3e-9869-de32053cf468)

## Actions

在 Actions 分頁標籤中，您可以看到每個動作使用了什麼定位器以及每個動作執行所需的時間。懸停在測試的每個動作上，並在視覺上查看 DOM 快照的變化。在時間中前後移動並點擊動作來檢查和偵錯。使用 Before 和 After 分頁標籤來在視覺上查看動作前後發生了什麼。![在 ui 模式中使用前後動作](https://github.com/microsoft/playwright/assets/13063165/7b22fab5-7346-4b98-8fdd-a78ed280647f)

## 彈出並檢查 DOM

通過點擊 DOM 快照上方的彈出圖示，將 DOM 快照彈出到自己的視窗中，以獲得更好的偵錯體驗。從那裡您可以開啟瀏覽器 DevTools 並檢查 HTML、CSS、主控台等。回到 UI 模式並點擊另一個動作，然後將該動作彈出，以輕鬆並排比較兩者或個別偵錯每個動作。

![pop out dom snapshot in ui mode](https://github.com/microsoft/playwright/assets/13063165/f9f43a0c-78d7-4574-9a58-c69d2ec53c8f)

## 選擇定位器

點擊選擇定位器按鈕並懸停在 DOM 快照上，以查看每個元素的定位器在您懸停時突出顯示。點擊元素以將定位器新增到操作區。您可以在操作區中修改定位器，並查看您修改的定位器是否與 DOM 快照中的任何定位器匹配。一旦您對定位器滿意，您可以使用複製按鈕來複製定位器並將其貼到您的測試中。

![pick locator in ui mode](https://github.com/microsoft/playwright/assets/13063165/9e7eeb84-bd26-4010-8614-75e24b56c716)

## Source

當您懸停在測試的每個動作上時，該動作的程式碼行會在原始碼面板中突出顯示。「在 VSCode 中開啟」按鈕位於此部分的右上角。點擊該按鈕後，它將在 VS Code 中開啟您的測試，正好定位到您所點擊的程式碼行。

![showing source code of tests in ui mode](https://github.com/microsoft/playwright/assets/13063165/49b9fa2a-8a57-4044-acaa-0a2ea4784c5c)

## Call

Call 分頁標籤會顯示您關於動作的資訊，例如執行時間、使用的定位器、是否在嚴格模式以及使用的按鍵。

![showing call tab in ui mode](https://github.com/microsoft/playwright/assets/13063165/442314c3-0b16-4400-bf25-c198f8654849)

## Log

查看測試的完整日誌，以更好地了解 Playwright 在幕後做的事情，例如滾動到可見區域、等待元素變為可見、啟用和穩定，以及執行動作如點擊、填寫、按下等。

![showing log of tests in ui mode](https://github.com/microsoft/playwright/assets/13063165/1d214ee5-2c07-414d-a342-f88d0864ac89)

## Errors

如果您的測試失敗，您將在 Errors 分頁標籤中看到每個測試的錯誤訊息。時間軸也會顯示一條紅線，突出顯示錯誤發生的位置。您也可以點擊原始碼分頁標籤，查看錯誤發生在原始碼的哪一行。

![showing errors in ui mode](https://github.com/microsoft/playwright/assets/13063165/ffca2fd1-5349-41fb-ade9-ace143bb2c58)

## Console

請查看來自瀏覽器以及測試的主控台日誌。不同的圖示會顯示主控台日誌是來自瀏覽器還是測試檔案。

![showing console logs from tests in ui mode](https://github.com/microsoft/playwright/assets/13063165/b6a44763-da04-4152-bbac-3369ca4a60ac)

## Network

Network 分頁標籤顯示您測試期間進行的所有網路請求。您可以依不同類型的請求、狀態碼、方法、請求、內容類型、持續時間和大小進行排序。點擊請求以查看更多資訊，例如請求標頭、回應標頭、請求本文和回應本文。

![showing network requests from tests in ui mode](https://github.com/microsoft/playwright/assets/13063165/946c2722-447a-4005-9518-b4e9b73a8240)

## Attachments

「Attachments」分頁標籤讓您探索附件。如果您正在進行[視覺回歸測試](./test-snapshots.mdx)，您將能夠通過檢查圖像差異、實際圖像和期望圖像來比較螢幕截圖。當您點擊期望圖像時，您可以使用滑桿將一個圖像滑動到另一個圖像上，這樣您就可以輕鬆地看到螢幕截圖中的差異。

![ui mode with attachments](https://github.com/microsoft/playwright/assets/13063165/bb83b406-84ed-4380-a96c-0e62d1388093)

## Metadata

在 Actions 分頁標籤旁邊，您將找到 Metadata 分頁標籤，它會顯示有關您測試的更多資訊，例如瀏覽器、檢視區大小、測試持續時間等等。

![metadata tab in ui mode](https://github.com/microsoft/playwright/assets/13063165/befff46e-381a-41c2-8259-e47442add425)

## 觀看模式

在側邊欄中每個測試名稱旁邊，您將找到一個眼睛圖示。點擊該圖示將啟動觀看模式，當您對測試進行變更時，它會重新執行測試。您可以通過點擊每個測試旁邊的眼睛圖示來同時觀看多個測試，或通過點擊側邊欄頂部的眼睛圖示來觀看所有測試。

![watch mode in ui mode](https://github.com/microsoft/playwright/assets/13063165/20d7d44c-b52d-43ff-8871-8b828671f3da)

## Docker & GitHub Codespaces

對於 Docker 和 GitHub Codespaces 環境，您可以在瀏覽器中執行 UI 模式。為了讓端點能夠從容器外部存取，它需要綁定到 `0.0.0.0` 介面：

```bash
npx playwright test --ui-host=0.0.0.0
```

在 GitHub Codespaces 的情況下，連接埠會[自動轉發](https://docs.github.com/en/codespaces/developing-in-codespaces/forwarding-ports-in-your-codespace#about-forwarded-ports)，因此您可以通過點擊終端機中的連結在瀏覽器中開啟 UI 模式。

要有一個靜態連接埠，您可以傳遞 `--ui-port` 標誌：

```bash
npx playwright test --ui-port=8080 --ui-host=0.0.0.0
```

:::note
請注意，當指定 `--ui-host=0.0.0.0` 標誌時，帶有您的追蹤、密碼和機密的 UI 模式可以從您網路內的其他機器存取。在 GitHub Codespaces 的情況下，預設情況下連接埠只能從您的帳戶存取。
:::


[Accessibility]: /api/class-accessibility.mdx "Accessibility"
[Android]: /api/class-android.mdx "Android"
[AndroidDevice]: /api/class-androiddevice.mdx "AndroidDevice"
[AndroidInput]: /api/class-androidinput.mdx "AndroidInput"
[AndroidSocket]: /api/class-androidsocket.mdx "AndroidSocket"
[AndroidWebView]: /api/class-androidwebview.mdx "AndroidWebView"
[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserServer]: /api/class-browserserver.mdx "BrowserServer"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Coverage]: /api/class-coverage.mdx "Coverage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[Electron]: /api/class-electron.mdx "Electron"
[ElectronApplication]: /api/class-electronapplication.mdx "ElectronApplication"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[GenericAssertions]: /api/class-genericassertions.mdx "GenericAssertions"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Logger]: /api/class-logger.mdx "Logger"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[PlaywrightAssertions]: /api/class-playwrightassertions.mdx "PlaywrightAssertions"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[SnapshotAssertions]: /api/class-snapshotassertions.mdx "SnapshotAssertions"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Fixtures]: /api/class-fixtures.mdx "Fixtures"
[FullConfig]: /api/class-fullconfig.mdx "FullConfig"
[FullProject]: /api/class-fullproject.mdx "FullProject"
[Location]: /api/class-location.mdx "Location"
[Test]: /api/class-test.mdx "Test"
[TestConfig]: /api/class-testconfig.mdx "TestConfig"
[TestInfo]: /api/class-testinfo.mdx "TestInfo"
[TestInfoError]: /api/class-testinfoerror.mdx "TestInfoError"
[TestOptions]: /api/class-testoptions.mdx "TestOptions"
[TestProject]: /api/class-testproject.mdx "TestProject"
[TestStepInfo]: /api/class-teststepinfo.mdx "TestStepInfo"
[WorkerInfo]: /api/class-workerinfo.mdx "WorkerInfo"
[Reporter]: /api/class-reporter.mdx "Reporter"
[Suite]: /api/class-suite.mdx "Suite"
[TestCase]: /api/class-testcase.mdx "TestCase"
[TestError]: /api/class-testerror.mdx "TestError"
[TestResult]: /api/class-testresult.mdx "TestResult"
[TestStep]: /api/class-teststep.mdx "TestStep"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[Array]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array "Array"
[boolean]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type "Boolean"
[Buffer]: https://nodejs.org/api/buffer.html#buffer_class_buffer "Buffer"
[ChildProcess]: https://nodejs.org/api/child_process.html "ChildProcess"
[Date]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date "Date"
[Error]: https://nodejs.org/api/errors.html#errors_class_error "Error"
[EventEmitter]: https://nodejs.org/api/events.html#events_class_eventemitter "EventEmitter"
[function]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function "Function"
[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData "FormData"
[Map]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map "Map"
[Metadata]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object&lt;string, any&gt;"
[null]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null "null"
[number]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type "Number"
[Object]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[Readable]: https://nodejs.org/api/stream.html#stream_class_stream_readable "Readable"
[ReadStream]: https://nodejs.org/api/fs.html#class-fsreadstream "ReadStream"
[RegExp]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp "RegExp"
[string]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type "string"
[void]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined "void"
[URL]: https://nodejs.org/api/url.html "URL"
[URLSearchParams]: https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams "URLSearchParams"

[all available image tags]: https://mcr.microsoft.com/en-us/product/playwright/about "all available image tags"
[Microsoft Artifact Registry]: https://mcr.microsoft.com/en-us/product/playwright/about "Microsoft Artifact Registry"
[Dockerfile.noble]: https://github.com/microsoft/playwright/blob/main/utils/docker/Dockerfile.noble "Dockerfile.noble"
