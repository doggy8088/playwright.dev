---
id: release-notes
title: "ç™¼è¡Œèªªæ˜"
toc_max_heading_level: 2
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';
import ProgressiveImage from '@theme/ProgressiveImage';

import LiteYouTube from '@site/src/components/LiteYouTube';

## ç‰ˆæœ¬ 1.55

### æ–°çš„ API
- æ–°å±¬æ€§ [testStepInfo.titlePath](/api/class-teststepinfo.mdx#test-step-info-title-path) å›å‚³å¾æ¸¬è©¦æª”æ¡ˆé–‹å§‹çš„å®Œæ•´æ¨™é¡Œè·¯å¾‘ï¼ŒåŒ…å«æ¸¬è©¦å’Œæ­¥é©Ÿæ¨™é¡Œã€‚

### éŒ„è£½æ¸¬è©¦
- è‡ªå‹• `toBeVisible()` æ–·è¨€ï¼šCodegen ç¾åœ¨å¯ä»¥ç‚ºå¸¸è¦‹çš„ UI äº’å‹•ç”¢ç”Ÿè‡ªå‹• `toBeVisible()` æ–·è¨€ã€‚æ­¤åŠŸèƒ½å¯ä»¥åœ¨ Codegen è¨­å®š UI ä¸­å•Ÿç”¨ã€‚

### é‡å¤§è®Šæ›´
- âš ï¸ å·²ç§»é™¤å° Chromium æ“´å……åŠŸèƒ½ manifest v2 çš„æ”¯æ´ã€‚

### å…¶ä»–
- æ–°å¢å° Debian 13 "Trixie" çš„æ”¯æ´ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 140.0.7339.16
- Mozilla Firefox 141.0
- WebKit 26.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 139
- Microsoft Edge 139

## ç‰ˆæœ¬ 1.54

### é‡é»
- åœ¨ [browserContext.cookies()](/api/class-browsercontext.mdx#browser-context-cookies) å’Œ [browserContext.addCookies()](/api/class-browsercontext.mdx#browser-context-add-cookies) ä¸­æ–°å¢ cookie å±¬æ€§ `partitionKey`ã€‚æ­¤å±¬æ€§å…è¨±å„²å­˜å’Œé‚„åŸåˆ†å‰²çš„ cookiesã€‚è«‹åƒé–± [CHIPS MDN æ–‡ç« ](https://developer.mozilla.org/en-US/docs/Web/Privacy/Guides/Privacy_sandbox/Partitioned_cookies) ä»¥å–å¾—æ›´å¤šè³‡è¨Šã€‚è«‹æ³¨æ„ï¼Œç€è¦½å™¨å° cookie åˆ†å‰²æœ‰ä¸åŒçš„æ”¯æ´å’Œé è¨­å€¼ã€‚
- æ–°é¸é … `noSnippets` ç”¨æ–¼åœ¨ html å ±å‘Šä¸­åœç”¨ç¨‹å¼ç¢¼ç‰‡æ®µã€‚
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    reporter: [['html', { noSnippets: true }]]
  });
  ```
  
- æ¸¬è©¦è¨»é‡‹ä¸­çš„æ–°å±¬æ€§ `location`ï¼Œä¾‹å¦‚åœ¨ [testResult.annotations](/api/class-testresult.mdx#test-result-annotations) å’Œ [testInfo.annotations](/api/class-testinfo.mdx#test-info-annotations) ä¸­ã€‚å®ƒé¡¯ç¤ºåƒ `test.skip` æˆ– `test.fixme` é€™æ¨£çš„è¨»é‡‹æ˜¯åœ¨ä½•è™•æ–°å¢çš„ã€‚

### å‘½ä»¤åˆ—
- åœ¨å¤šå€‹æŒ‡ä»¤ä¸­æ–°å¢é¸é … `--user-data-dir`ã€‚æ‚¨å¯ä»¥æŒ‡å®šç›¸åŒçš„ä½¿ç”¨è€…è³‡æ–™ç›®éŒ„ä¾†é‡è¤‡ä½¿ç”¨ç€è¦½ç‹€æ…‹ï¼Œä¾‹å¦‚é©—è­‰ï¼Œåœ¨ä¸åŒçš„æœƒè©±ä¹‹é–“ã€‚
  
  ```bash
  npx playwright codegen --user-data-dir=./user-data
  ```
  
- é¸é … `-gv` å·²å¾ `npx playwright test` æŒ‡ä»¤ä¸­ç§»é™¤ã€‚è«‹æ”¹ç”¨ `--grep-invert`ã€‚
- `npx playwright open` ä¸å†é–‹å•Ÿæ¸¬è©¦éŒ„è£½å™¨ã€‚è«‹æ”¹ç”¨ `npx playwright codegen`ã€‚

### å…¶ä»–
- å·²ç§»é™¤å° Node.js 16 çš„æ”¯æ´ã€‚
- å·²æ£„ç”¨å° Node.js 18 çš„æ”¯æ´ï¼Œå°‡ä¾†æœƒç§»é™¤ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 139.0.7258.5
- Mozilla Firefox 140.0.2
- WebKit 26.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 140
- Microsoft Edge 140

## ç‰ˆæœ¬ 1.53

### è¿½è¹¤æª¢è¦–å™¨å’Œ HTML å ±å‘Šå™¨æ›´æ–°
- è¿½è¹¤æª¢è¦–å™¨å’Œ HTML å ±å‘Šå™¨ä¸­çš„æ–°æ­¥é©Ÿï¼š![æ–°çš„è¿½è¹¤æª¢è¦–å™¨æ­¥é©Ÿ](https://github.com/user-attachments/assets/1963ff7d-4070-41be-a79b-4333176921a2)
- `'html'` å ±å‘Šå™¨ä¸­çš„æ–°é¸é …ç”¨æ–¼è¨­å®šç‰¹å®šæ¸¬è©¦åŸ·è¡Œçš„æ¨™é¡Œï¼š
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    reporter: [['html', { title: 'Custom test run #1028' }]]
  });
  ```
  
### å…¶ä»–
- [testInfo.snapshotPath()](/api/class-testinfo.mdx#test-info-snapshot-path) ä¸­çš„æ–°é¸é … [kind](/api/class-testinfo.mdx#test-info-snapshot-path-é¸é …-kind) æ§åˆ¶ä½¿ç”¨å“ªå€‹å¿«ç…§è·¯å¾‘ç¯„æœ¬ã€‚
- æ–°æ–¹æ³• [locator.describe()](/api/class-locator.mdx#locator-describe) ç”¨æ–¼æè¿°å®šä½å™¨ã€‚ç”¨æ–¼è¿½è¹¤æª¢è¦–å™¨å’Œå ±å‘Šã€‚
  
  ```js
  const button = page.getByTestId('btn-sub').describe('Subscribe button');
  await button.click();
  ```
  
- `npx playwright install --list` ç¾åœ¨æœƒåˆ—å‡ºæ‰€æœ‰å·²å®‰è£çš„ç€è¦½å™¨ã€ç‰ˆæœ¬å’Œä½ç½®ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 138.0.7204.4
- Mozilla Firefox 139.0
- WebKit 18.5

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 137
- Microsoft Edge 137

## ç‰ˆæœ¬ 1.52

### é‡é»
- æ–°æ–¹æ³• [expect(locator).toContainClass()](/api/class-locatorassertions.mdx#locator-assertions-to-contain-class) ç”¨æ–¼äººé«”å·¥å­¸åœ°æ–·è¨€å…ƒç´ ä¸Šçš„å€‹åˆ¥é¡åˆ¥åç¨±ã€‚
  
  ```ts
  await expect(page.getByRole('listitem', { name: 'Ship v1.52' })).toContainClass('done');
  ```
  
- [Aria å¿«ç…§](./aria-snapshots.mdx) ç²å¾—äº†å…©å€‹æ–°å±¬æ€§ï¼š[`/children`](./aria-snapshots.mdx#strict-matching) ç”¨æ–¼åš´æ ¼æ¯”å°ï¼Œä»¥åŠ `/url` ç”¨æ–¼é€£çµã€‚
  
  ```ts
  await expect(locator).toMatchAriaSnapshot(`
    - list
      - /children: equal
      - listitem: Feature A
      - listitem:
        - link "Feature B":
          - /url: "https://playwright.dev"
  `);
  ```
  
### æ¸¬è©¦åŸ·è¡Œå™¨
- æ–°å±¬æ€§ [testProject.workers](/api/class-testproject.mdx#test-project-workers) å…è¨±æŒ‡å®šç”¨æ–¼æ¸¬è©¦å°ˆæ¡ˆçš„ä¸¦è¡Œå·¥ä½œç¨‹åºæ•¸é‡ã€‚å±¬æ€§ [testConfig.workers](/api/class-testconfig.mdx#test-config-workers) çš„å…¨åŸŸé™åˆ¶ä»ç„¶é©ç”¨ã€‚
- æ–°é¸é … [testConfig.failOnFlakyTests](/api/class-testconfig.mdx#test-config-fail-on-flaky-tests) å¦‚æœæª¢æ¸¬åˆ°ä»»ä½•ä¸ç©©å®šæ¸¬è©¦ï¼Œå‰‡æ¸¬è©¦åŸ·è¡Œå¤±æ•—ï¼Œé¡ä¼¼æ–¼ `--fail-on-flaky-tests`ã€‚é€™å°æ–¼æ‚¨å¸Œæœ›åœ¨éƒ¨ç½²å‰ç¢ºä¿æ‰€æœ‰æ¸¬è©¦ç©©å®šçš„ CI/CD ç’°å¢ƒå¾ˆæœ‰ç”¨ã€‚
- æ–°å±¬æ€§ [testResult.annotations](/api/class-testresult.mdx#test-result-annotations) åŒ…å«æ¯æ¬¡æ¸¬è©¦é‡è©¦çš„è¨»é‡‹ã€‚

### å…¶ä»–
- [apiRequest.newContext()](/api/class-apirequest.mdx#api-request-new-context) ä¸­çš„æ–°é¸é … [maxRedirects](/api/class-apirequest.mdx#api-request-new-context-é¸é …-max-redirects) ç”¨æ–¼æ§åˆ¶é‡æ–°å°å‘çš„æœ€å¤§æ•¸é‡ã€‚
- HTML å ±å‘Šå™¨ç¾åœ¨æ”¯æ´é€é `!@my-tag` æˆ– `!my-file.spec.ts` æˆ– `!p:my-project` é€²è¡Œ *åå‘ç¯©é¸*ã€‚

### é‡å¤§è®Šæ›´
- æ–¹æ³•å¦‚ [page.route()](/api/class-page.mdx#page-route) ä¸­çš„ Glob URL æ¨¡å¼ä¸å†æ”¯æ´ `?` å’Œ `[]`ã€‚æˆ‘å€‘å»ºè­°æ”¹ç”¨æ­£è¦è¡¨ç¤ºå¼ã€‚
- æ–¹æ³• [route.continue()](/api/class-route.mdx#route-continue) ä¸å†å…è¨±è¦†å¯« `Cookie` æ¨™é ­ã€‚å¦‚æœæä¾›äº† `Cookie` æ¨™é ­ï¼Œå®ƒå°‡è¢«å¿½ç•¥ï¼Œcookie å°‡å¾ç€è¦½å™¨çš„ cookie å„²å­˜è¼‰å…¥ã€‚è¦è¨­å®šè‡ªè¨‚ cookiesï¼Œè«‹ä½¿ç”¨ [browserContext.addCookies()](/api/class-browsercontext.mdx#browser-context-add-cookies)ã€‚
- macOS 13 ç¾åœ¨å·²æ£„ç”¨ï¼Œå°‡ä¸å†æ¥æ”¶ WebKit æ›´æ–°ã€‚è«‹å‡ç´šåˆ°æ›´æ–°çš„ macOS ç‰ˆæœ¬ï¼Œä»¥ç¹¼çºŒå—ç›Šæ–¼æœ€æ–°çš„ WebKit æ”¹é€²ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 136.0.7103.25
- Mozilla Firefox 137.0
- WebKit 18.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 135
- Microsoft Edge 135

## ç‰ˆæœ¬ 1.51

### IndexedDB çš„ StorageState
* [browserContext.storageState()](/api/class-browsercontext.mdx#browser-context-storage-state) çš„æ–°é¸é … [indexedDB](/api/class-browsercontext.mdx#browser-context-storage-state-é¸é …-indexed-db) å…è¨±å„²å­˜å’Œé‚„åŸ IndexedDB å…§å®¹ã€‚ç•¶æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨ [IndexedDB API](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API) å„²å­˜é©—è­‰æ¬Šæ–ï¼ˆå¦‚ Firebase é©—è­‰ï¼‰æ™‚å¾ˆæœ‰ç”¨ã€‚
  
  é€™æ˜¯ä¸€å€‹éµå¾ª[é©—è­‰æŒ‡å—](./auth.mdx#basic-shared-account-in-all-tests)çš„ç¯„ä¾‹ï¼š
  
  ```js title="tests/auth.setup.ts"
  import { test as setup, expect } from '@playwright/test';
  import path from 'path';
  
  const authFile = path.join(__dirname, '../playwright/.auth/user.json');
  
  setup('authenticate', async ({ page }) => {
    await page.goto('/');
    // ... perform authentication steps ...
  
    // make sure to save indexedDB
    await page.context().storageState({ path: authFile, indexedDB: true });
  });
  ```
  
### è¤‡è£½ç‚ºæç¤º

HTML å ±å‘Šã€è¿½è¹¤æª¢è¦–å™¨å’Œ UI æ¨¡å¼ä¸­éŒ¯èª¤ä¸Šçš„æ–°ã€Œè¤‡è£½æç¤ºã€æŒ‰éˆ•ã€‚é»æ“Šä»¥è¤‡è£½åŒ…å«éŒ¯èª¤è¨Šæ¯å’Œä¿®å¾©éŒ¯èª¤æœ‰ç”¨å…§å®¹çš„é å¡«å…… LLM æç¤ºã€‚

![è¤‡è£½æç¤º](https://github.com/user-attachments/assets/f3654407-dd6d-4240-9845-0d96df2bf30a)

### ç¯©é¸å¯è¦‹å…ƒç´ 

[locator.filter()](/api/class-locator.mdx#locator-filter) çš„æ–°é¸é … [visible](/api/class-locator.mdx#locator-filter-é¸é …-visible) å…è¨±åƒ…æ¯”å°å¯è¦‹å…ƒç´ ã€‚

```js title="example.spec.ts"
test('some test', async ({ page }) => {
  // å¿½ç•¥ä¸å¯è¦‹çš„å¾…è¾¦äº‹é …ã€‚
  const todoItems = page.getByTestId('todo-item').filter({ visible: true });
  // æª¢æŸ¥ç¢ºå¯¦æœ‰ 3 å€‹å¯è¦‹çš„é …ç›®ã€‚
  await expect(todoItems).toHaveCount(3);
});
```

### HTML å ±å‘Šä¸­çš„ Git è³‡è¨Š

è¨­å®šé¸é … [testConfig.captureGitInfo](/api/class-testconfig.mdx#test-config-capture-git-info) ä»¥å°‡ git è³‡è¨Šæ“·å–åˆ° [testConfig.metadata](/api/class-testconfig.mdx#test-config-metadata) ä¸­ã€‚

```js title="playwright.config.ts"
import { defineConfig } from '@playwright/test';

export default defineConfig({
  captureGitInfo: { commit: true, diff: true }
});
```

HTML å ±å‘Šå°‡åœ¨å¯ç”¨æ™‚é¡¯ç¤ºæ­¤è³‡è¨Šï¼š

![Git information in the report](https://github.com/user-attachments/assets/f5b3f6f4-aa08-4a24-816c-7edf33ef0c37)

### æ¸¬è©¦æ­¥é©Ÿæ”¹é€²

æ–°çš„ [TestStepInfo] ç‰©ä»¶ç¾åœ¨å¯åœ¨æ¸¬è©¦æ­¥é©Ÿä¸­ä½¿ç”¨ã€‚æ‚¨å¯ä»¥æ–°å¢æ­¥é©Ÿé™„ä»¶æˆ–åœ¨æŸäº›æ¢ä»¶ä¸‹è·³éæ­¥é©Ÿã€‚

```js
test('some test', async ({ page, isMobile }) => {
  // Note the new "step" argument:
  await test.step('here is my step', async step => {
    step.skip(isMobile, 'not relevant on mobile layouts');

    // ...
    await step.attach('my attachment', { body: 'some text' });
    // ...
  });
});
```

### å…¶ä»–
* æ–°é¸é … `contrast` é©ç”¨æ–¼æ–¹æ³• [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) å’Œ [browser.newContext()](/api/class-browser.mdx#browser-new-context)ï¼Œå¯æ¨¡æ“¬ `prefers-contrast` åª’é«”åŠŸèƒ½ã€‚
* æ–°é¸é … [failOnStatusCode](/api/class-apirequest.mdx#api-request-new-context-é¸é …-fail-on-status-code) è®“æ‰€æœ‰é€é [APIRequestContext] ç™¼å‡ºçš„ fetch è«‹æ±‚åœ¨å›æ‡‰ç¢¼ä¸æ˜¯ 2xx å’Œ 3xx æ™‚æ‹‹å‡ºä¾‹å¤–ã€‚
* æ–·è¨€ [expect(page).toHaveURL()](/api/class-pageassertions.mdx#page-assertions-to-have-url) ç¾åœ¨æ”¯æ´è¿°è©ï¼ˆpredicateï¼‰ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 134.0.6998.35
* Mozilla Firefox 135.0
* WebKit 18.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 133
* Microsoft Edge 133

## Version 1.50

### æ¸¬è©¦åŸ·è¡Œå™¨
* æ–°é¸é … [timeout](/api/class-test.mdx#test-step-é¸é …-timeout) å…è¨±æŒ‡å®šå€‹åˆ¥æ¸¬è©¦æ­¥é©Ÿçš„æœ€å¤§åŸ·è¡Œæ™‚é–“ã€‚é€¾æ™‚çš„æ­¥é©Ÿå°‡å°è‡´æ¸¬è©¦åŸ·è¡Œå¤±æ•—ã€‚
  
  ```js
  test('some test', async ({ page }) => {
    await test.step('a step', async () => {
      // This step can time out separately from the test
    }, { timeout: 1000 });
  });
  ```
  
* æ–°æ–¹æ³• [test.step.skip()](/api/class-test.mdx#test-step-skip) å¯åœç”¨æ¸¬è©¦æ­¥é©Ÿçš„åŸ·è¡Œã€‚
  
  ```js
  test('some test', async ({ page }) => {
    await test.step('before running step', async () => {
      // Normal step
    });
  
    await test.step.skip('not yet ready', async () => {
      // This step is skipped
    });
  
    await test.step('after running step', async () => {
      // This step still runs even though the previous one was skipped
    });
  });
  ```
  
* æ“´å±•äº† [expect(locator).toMatchAriaSnapshot()](/api/class-locatorassertions.mdx#locator-assertions-to-match-aria-snapshot-2) ä»¥å…è¨±å°‡ aria å¿«ç…§å„²å­˜åœ¨ç¨ç«‹çš„ YAML æª”æ¡ˆä¸­ã€‚
* æ–°å¢æ–¹æ³• [expect(locator).toHaveAccessibleErrorMessage()](/api/class-locatorassertions.mdx#locator-assertions-to-have-accessible-error-message) ç”¨ä¾†æ–·è¨€å®šä½å™¨æŒ‡å‘å…·æœ‰æŒ‡å®š [aria errormessage](https://w3c.github.io/aria/#aria-errormessage) çš„å…ƒç´ ã€‚
* é¸é … [testConfig.updateSnapshots](/api/class-testconfig.mdx#test-config-update-snapshots) æ–°å¢äº†è¨­å®šåˆ—èˆ‰å€¼ `changed`ã€‚`changed` åªæ›´æ–°å·²è®Šæ›´çš„å¿«ç…§ï¼Œè€Œ `all` ç¾åœ¨æœƒæ›´æ–°æ‰€æœ‰å¿«ç…§ï¼Œç„¡è«–æ˜¯å¦æœ‰ä»»ä½•å·®ç•°ã€‚
* æ–°é¸é … [testConfig.updateSourceMethod](/api/class-testconfig.mdx#test-config-update-source-æ–¹æ³•) å®šç¾©ç•¶é…ç½® [testConfig.updateSnapshots](/api/class-testconfig.mdx#test-config-update-snapshots) æ™‚æ›´æ–°åŸå§‹ç¢¼çš„æ–¹å¼ã€‚æ–°å¢äº†å°‡è®Šæ›´å¯«å…¥åŸå§‹ç¢¼çš„ `overwrite` å’Œ `3-way` æ¨¡å¼ï¼Œé™¤äº†ç¾æœ‰å»ºç«‹è£œä¸æª”æ¡ˆçš„ `patch` æ¨¡å¼ã€‚
  
  ```bash
  npx playwright test --update-snapshots=changed --update-source-æ–¹æ³•=3way
  ```
  
* é¸é … [testConfig.webServer](/api/class-testconfig.mdx#test-config-web-server) æ–°å¢äº† `gracefulShutdown` æ¬„ä½ï¼Œç”¨æ–¼æŒ‡å®šé™¤é è¨­ `SIGKILL` ä¹‹å¤–çš„ç¨‹åºçµ‚æ­¢ä¿¡è™Ÿã€‚
* å¾å ±å‘Šå™¨ API å…¬é–‹äº† [testStep.attachments](/api/class-teststep.mdx#test-step-attachments)ï¼Œä»¥å…è¨±æª¢ç´¢è©²æ­¥é©Ÿå»ºç«‹çš„æ‰€æœ‰é™„ä»¶ã€‚
* æ–°é¸é … `pathTemplate` ç”¨æ–¼ [testConfig.expect](/api/class-testconfig.mdx#test-config-expect) è¨­å®šä¸­çš„ `toHaveScreenshot` å’Œ `toMatchAriaSnapshot` æ–·è¨€ã€‚

### UI æ›´æ–°
* æ›´æ–°äº†é è¨­ HTML å ±å‘Šå™¨ä»¥æ”¹å–„é™„ä»¶çš„é¡¯ç¤ºã€‚
* Codegen ä¸­ç”¨æ–¼é¸æ“‡å…ƒç´ ä»¥ç”¢ç”Ÿ aria å¿«ç…§çš„æ–°æŒ‰éˆ•ã€‚
* ç¾åœ¨åœ¨è¿½è¹¤ä¸­çš„å‹•ä½œ API å‘¼å«æ—é‚Šé¡¯ç¤ºé¡å¤–çš„è©³ç´°è³‡è¨Šï¼ˆä¾‹å¦‚æŒ‰ä¸‹çš„æŒ‰éµï¼‰ã€‚
* åœ¨è¿½è¹¤ä¸­é¡¯ç¤º `canvas` å…§å®¹å®¹æ˜“å‡ºéŒ¯ã€‚é¡¯ç¤ºåŠŸèƒ½ç¾åœ¨é è¨­åœç”¨ï¼Œå¯é€é `Display canvas content` UI è¨­å®šå•Ÿç”¨ã€‚
* `Call` å’Œ `Network` é¢æ¿ç¾åœ¨é¡¯ç¤ºé¡å¤–çš„æ™‚é–“è³‡è¨Šã€‚

### é‡å¤§è®Šæ›´
* [expect(locator).toBeEditable()](/api/class-locatorassertions.mdx#locator-assertions-to-be-editable) å’Œ [locator.isEditable()](/api/class-locator.mdx#locator-is-editable) ç¾åœ¨å¦‚æœç›®æ¨™å…ƒç´ ä¸æ˜¯ `<input>`ã€`<select>` æˆ–å…¶ä»–å¯ç·¨è¼¯å…ƒç´ æœƒæ‹‹å‡ºä¾‹å¤–ã€‚
* é¸é … [testConfig.updateSnapshots](/api/class-testconfig.mdx#test-config-update-snapshots) ç•¶è¨­å®šç‚º `all` æ™‚ç¾åœ¨æœƒæ›´æ–°æ‰€æœ‰å¿«ç…§ï¼Œè€Œä¸æ˜¯åªæ›´æ–°å¤±æ•—/è®Šæ›´çš„å¿«ç…§ã€‚ä½¿ç”¨æ–°çš„æšèˆ‰ `changed` ä¾†ä¿æŒåªæ›´æ–°è®Šæ›´å¿«ç…§çš„èˆŠåŠŸèƒ½ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 133.0.6943.16
* Mozilla Firefox 134.0
* WebKit 18.2

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 132
* Microsoft Edge 132

## Version 1.49

<LiteYouTube id="S5wCft-ImKk" title="Playwright 1.49" />

### Aria å¿«ç…§

æ–°æ–·è¨€ [expect(locator).toMatchAriaSnapshot()](/api/class-locatorassertions.mdx#locator-assertions-to-match-aria-snapshot) é€éèˆ‡é æœŸçš„ç„¡éšœç¤™æ¨¹ï¼ˆä»¥ YAML è¡¨ç¤ºï¼‰æ¯”è¼ƒä¾†é©—è­‰é é¢çµæ§‹ã€‚

```js
await page.goto('https://playwright.dev');
await expect(page.locator('body')).toMatchAriaSnapshot(`
  - banner:
    - heading /Playwright enables reliable/ [level=1]
    - link "Get started"
    - link "Star microsoft/playwright on GitHub"
  - main:
    - img "Browsers (Chromium, Firefox, WebKit)"
    - heading "Any browser â€¢ Any platform â€¢ One API"
`);
```

æ‚¨å¯ä»¥ä½¿ç”¨ [Test Generator](./codegen) ç”¢ç”Ÿé€™å€‹æ–·è¨€ï¼Œä¸¦ä½¿ç”¨ `--update-snapshots` å‘½ä»¤åˆ—åƒæ•¸æ›´æ–°é æœŸçš„å¿«ç…§ã€‚

Learn more in the [aria snapshots guide](./aria-snapshots).

### æ¸¬è©¦åŸ·è¡Œå™¨
- æ–°é¸é … [testConfig.tsconfig](/api/class-testconfig.mdx#test-config-tsconfig) å…è¨±æŒ‡å®šå–®ä¸€ `tsconfig` ä¾›æ‰€æœ‰æ¸¬è©¦ä½¿ç”¨ã€‚
- æ–°æ–¹æ³• [test.fail.only()](/api/class-test.mdx#test-fail-only) ç”¨æ–¼å°ˆæ³¨æ–¼å¤±æ•—çš„æ¸¬è©¦ã€‚
- é¸é … [testConfig.globalSetup](/api/class-testconfig.mdx#test-config-global-setup) å’Œ [testConfig.globalTeardown](/api/class-testconfig.mdx#test-config-global-teardown) ç¾åœ¨æ”¯æ´å¤šå€‹è¨­å®š/æ¸…ç†ã€‚
- [testOptions.screenshot](/api/class-testoptions.mdx#test-options-screenshot) çš„æ–°å€¼ `'on-first-failure'`ã€‚
- åœ¨ HTML å ±å‘Šä¸­æ–°å¢ã€Œä¸Šä¸€å€‹ã€å’Œã€Œä¸‹ä¸€å€‹ã€æŒ‰éˆ•ï¼Œå¯å¿«é€Ÿåˆ‡æ›æ¸¬è©¦æ¡ˆä¾‹ã€‚
- æ–°å±¬æ€§ [testInfoError.cause](/api/class-testinfoerror.mdx#test-info-error-cause) å’Œ [testError.cause](/api/class-testerror.mdx#test-error-cause) å°æ‡‰ [`Error.cause`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/cause)ã€‚

### Breaking: `chrome` å’Œ `msedge` é »é“åˆ‡æ›åˆ°æ–°çš„ç„¡é ­æ¨¡å¼

å¦‚æœæ‚¨åœ¨ `playwright.config.ts` ä¸­ä½¿ç”¨ä»¥ä¸‹ä»»ä¸€é€šé“ï¼Œæ­¤è®Šæ›´æœƒå½±éŸ¿æ‚¨ï¼š
- `chrome`, `chrome-dev`, `chrome-beta`, or `chrome-canary`
- `msedge`, `msedge-dev`, `msedge-beta`, or `msedge-canary`

#### æˆ‘éœ€è¦åšä»€éº¼ï¼Ÿ

æ›´æ–°åˆ° Playwright v1.49 å¾Œï¼ŒåŸ·è¡Œæ‚¨çš„æ¸¬è©¦å¥—ä»¶ã€‚å¦‚æœä»ç„¶é€šéï¼Œæ‚¨å°±å¯ä»¥ç¹¼çºŒã€‚å¦‚æœæ²’æœ‰ï¼Œæ‚¨å¯èƒ½éœ€è¦æ›´æ–°å¿«ç…§ï¼Œä¸¦èª¿æ•´ä¸€äº›é—œæ–¼ PDF æª¢è¦–å™¨å’Œæ“´å……åŠŸèƒ½çš„æ¸¬è©¦ç¨‹å¼ç¢¼ã€‚è«‹åƒé–± [issue #33566](https://github.com/microsoft/playwright/issues/33566) ä»¥å–å¾—æ›´å¤šè©³ç´°è³‡è¨Šã€‚

### å…¶ä»–é‡å¤§è®Šæ›´
- Ubuntu 20.04 å’Œ Debian 11 çš„ WebKit å°‡ä¸å†æœ‰æ›´æ–°ã€‚å»ºè­°å°‡æ‚¨çš„ä½œæ¥­ç³»çµ±æ›´æ–°åˆ°æ›´æ–°ç‰ˆæœ¬ã€‚
- å¥—ä»¶ `@playwright/experimental-ct-vue2` å°‡ä¸å†æ›´æ–°ã€‚
- å¥—ä»¶ `@playwright/experimental-ct-solid` å°‡ä¸å†æ›´æ–°ã€‚

### å˜—è©¦æ–°çš„ Chromium ç„¡é ­æ¨¡å¼

æ‚¨å¯ä»¥é€éä½¿ç”¨ `'chromium'` é »é“é¸æ“‡æ–°çš„ç„¡é ­æ¨¡å¼ã€‚å¦‚ [å®˜æ–¹ Chrome æ–‡ä»¶æ‰€è¿°](https://developer.chrome.com/blog/chrome-headless-shell)ï¼š

> å¦ä¸€æ–¹é¢ï¼Œæ–°çš„ç„¡é ­æ¨¡å¼æ˜¯çœŸæ­£çš„ Chrome ç€è¦½å™¨ï¼Œå› æ­¤æ›´çœŸå¯¦ã€å¯é ï¼Œä¸¦æä¾›æ›´å¤šåŠŸèƒ½ã€‚é€™ä½¿å…¶æ›´é©åˆé«˜ç²¾åº¦çš„ç«¯åˆ°ç«¯ç¶²é æ‡‰ç”¨ç¨‹å¼æ¸¬è©¦æˆ–ç€è¦½å™¨æ“´å……åŠŸèƒ½æ¸¬è©¦ã€‚

è«‹åƒé–±...ä»¥å–å¾—æ›´å¤šè©³ç´°è³‡è¨Š.

### æ¸¬è©¦åŸ·è¡Œå™¨
- æ–°çš„ CLI é¸é … `--fail-on-flaky-tests` æœƒåœ¨ä»»ä½•ä¸ç©©å®šæ¸¬è©¦æ™‚å°‡çµæŸä»£ç¢¼è¨­ç‚º `1`ã€‚è«‹æ³¨æ„ï¼Œé è¨­æƒ…æ³ä¸‹ï¼Œç•¶æ‰€æœ‰å¤±æ•—çš„æ¸¬è©¦åœ¨é‡è©¦å¾Œæ¢å¾©æ™‚ï¼Œæ¸¬è©¦åŸ·è¡Œå™¨æœƒä»¥ä»£ç¢¼ `0` çµæŸã€‚ä½¿ç”¨æ­¤é¸é …æ™‚ï¼Œåœ¨é€™ç¨®æƒ…æ³ä¸‹æ¸¬è©¦åŸ·è¡Œå°‡å¤±æ•—ã€‚
- æ–°çš„ç’°å¢ƒè®Šæ•¸ `PLAYWRIGHT_FORCE_TTY` æ§åˆ¶å…§å»º `list`ã€`line` å’Œ `dot` å ±å‘Šå™¨æ˜¯å¦å‡è¨­ç‚ºå³æ™‚çµ‚ç«¯ã€‚ä¾‹å¦‚ï¼Œç•¶æ‚¨çš„ CI ç’°å¢ƒç„¡æ³•è‰¯å¥½è™•ç† ANSI æ§åˆ¶åºåˆ—æ™‚ï¼Œé€™å¯èƒ½æœ‰åŠ©æ–¼åœç”¨ tty è¡Œç‚ºã€‚æˆ–è€…ï¼Œå³ä½¿æ²’æœ‰å³æ™‚çµ‚ç«¯å­˜åœ¨ï¼Œå¦‚æœæ‚¨è¨ˆåŠƒå¾Œè™•ç†è¼¸å‡ºä¸¦è™•ç†æ§åˆ¶åºåˆ—ï¼Œæ‚¨ä¹Ÿå¯ä»¥å•Ÿç”¨ tty è¡Œç‚ºã€‚
  
  ```sh
  # Avoid TTY features that output ANSI control sequences
  PLAYWRIGHT_FORCE_TTY=0 npx playwright test
  
  # Enable TTY features, assuming a terminal width 80
  PLAYWRIGHT_FORCE_TTY=80 npx playwright test
  ```
  
- æ–°é¸é … [testConfig.respectGitIgnore](/api/class-testconfig.mdx#test-config-respect-git-ignore) å’Œ [testProject.respectGitIgnore](/api/class-testproject.mdx#test-project-respect-git-ignore) æ§åˆ¶åœ¨æœå°‹æ¸¬è©¦æ™‚æ˜¯å¦æ’é™¤ç¬¦åˆ `.gitignore` æ¨¡å¼çš„æª”æ¡ˆã€‚
- æ–°å±¬æ€§ `timeout` ç¾åœ¨å¯ç”¨æ–¼è‡ªå®šç¾©é æœŸæ¯”å°å™¨ã€‚æ­¤å±¬æ€§æœƒè€ƒæ…® `playwright.config.ts` å’Œ `expect.configure()`ã€‚
  
  ```js
  import { expect as baseExpect } from '@playwright/test';
  
  export const expect = baseExpect.extend({
    async toHaveAmount(locator: Locator, expected: number, options?: { timeout?: number }) {
      // ç•¶æœªæŒ‡å®š timeout é¸é …æ™‚ï¼Œä½¿ç”¨é…ç½®çš„ timeoutã€‚
      const timeout = options?.timeout ?? this.timeout;
      // ... implement the assertion ...
    },
  });
  ```
  
### å…¶ä»–
- æ–¹æ³• [locator.setInputFiles()](/api/class-locator.mdx#locator-set-input-files) ç¾åœ¨æ”¯æ´ç‚º `<input type=file webkitdirectory>` å…ƒç´ ä¸Šå‚³ç›®éŒ„ã€‚
  
  ```js
  await page.getByLabel('Upload directory').setInputFiles(path.join(__dirname, 'mydir'));
  ```
  
- å¤šå€‹æ–¹æ³•ï¼ˆå¦‚ [locator.click()](/api/class-locator.mdx#locator-click) æˆ– [locator.press()](/api/class-locator.mdx#locator-press)ï¼‰ç¾åœ¨æ”¯æ´ `ControlOrMeta` ä¿®é£¾éµã€‚æ­¤éµåœ¨ macOS ä¸Šå°æ‡‰åˆ° `Meta`ï¼Œåœ¨ Windows å’Œ Linux ä¸Šå°æ‡‰åˆ° `Control`ã€‚
  
  ```js
  // Press the common keyboard shortcut Control+S or Meta+S to trigger a "Save" operation.
  await page.keyboard.press('ControlOrMeta+S');
  ```
  
- æ–°å±¬æ€§ `httpCredentials.send` in [apiRequest.newContext()](/api/class-apirequest.mdx#api-request-new-context) that å…è¨± either always send the `Authorization` header or only send it in response to `401 Unauthorized`.
- æ–°é¸é … `reason` åœ¨ [apiRequestContext.dispose()](/api/class-apirequestcontext.mdx#api-request-context-dispose) ä¸­æœƒåŒ…å«åœ¨å› å…§å®¹è™•ç½®ä¸­æ–·çš„æŒçºŒæ“ä½œçš„éŒ¯èª¤è¨Šæ¯ä¸­ã€‚
- æ–°é¸é … `host` åœ¨ [browserType.launchServer()](/api/class-browsertype.mdx#browser-type-launch-server) ä¸­å…è¨±åœ¨ç‰¹å®šä½å€ä¸Šæ¥å— websocket é€£ç·šï¼Œè€ŒéæœªæŒ‡å®šçš„ `0.0.0.0`ã€‚
- Playwright ç¾åœ¨æ”¯æ´ Chromium, Firefox and WebKit on Ubuntu 24.04.
- v1.45 æ˜¯æœ€å¾Œä¸€å€‹ç‚º macOS 12 Monterey æ¥æ”¶ WebKit æ›´æ–°çš„ç‰ˆæœ¬ã€‚è«‹æ›´æ–° macOS ä»¥ç¹¼çºŒä½¿ç”¨æœ€æ–°çš„ WebKitã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 127.0.6533.5
* Mozilla Firefox 127.0
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 126
* Microsoft Edge 126

## Version 1.44

<LiteYouTube id="avjSahFWdCI" title="Playwright 1.44" />

### æ–°çš„ API

**ç„¡éšœç¤™æ–·è¨€**
- [expect(locator).toHaveAccessibleName()](/api/class-locatorassertions.mdx#locator-assertions-to-have-accessible-name) æª¢æŸ¥å…ƒç´ æ˜¯å¦å…·æœ‰æŒ‡å®šçš„ç„¡éšœç¤™åç¨±ï¼š
  
  ```js
  const locator = page.getByRole('button');
  await expect(locator).toHaveAccessibleName('Submit');
  ```
  
- [expect(locator).toHaveAccessibleDescription()](/api/class-locatorassertions.mdx#locator-assertions-to-have-accessible-description) checks if the element has the specified accessible description:
  
  ```js
  const locator = page.getByRole('button');
  await expect(locator).toHaveAccessibleDescription('Upload a photo');
  ```
  
- [expect(locator).toHaveRole()](/api/class-locatorassertions.mdx#locator-assertions-to-have-role) checks if the element has the specified ARIA role:
  
  ```js
  const locator = page.getByTestId('save-button');
  await expect(locator).toHaveRole('button');
  ```
  
**å®šä½å™¨è™•ç†å™¨**
- åŸ·è¡Œä½¿ç”¨ [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) æ–°å¢çš„è™•ç†å™¨å¾Œï¼ŒPlaywright ç¾åœ¨æœƒç­‰å¾…ç›´åˆ°è§¸ç™¼è™•ç†å™¨çš„è¦†è“‹å±¤ä¸å†å¯è¦‹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„ `noWaitAfter` é¸é …é€€å‡ºæ­¤è¡Œç‚ºã€‚
- æ‚¨å¯ä»¥åœ¨ [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) ä¸­ä½¿ç”¨æ–°çš„ `times` é¸é …ä¾†æŒ‡å®šè™•ç†å™¨æ‡‰åŸ·è¡Œçš„æœ€å¤§æ¬¡æ•¸ã€‚
- [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) ä¸­çš„è™•ç†å™¨ç¾åœ¨æ¥å— locator ä½œç‚ºåƒæ•¸ã€‚
- æ–°çš„ [page.removeLocatorHandler()](/api/class-page.mdx#page-remove-locator-handler) æ–¹æ³•ç”¨æ–¼ç§»é™¤å…ˆå‰æ–°å¢çš„ locator è™•ç†å™¨ã€‚

```js
const locator = page.getByText('This interstitial covers the button');
await page.addLocatorHandler(locator, async overlay => {
  await overlay.locator('#close').click();
}, { times: 3, noWaitAfter: true });
// Run your tests that can be interrupted by the overlay.
// ...
await page.removeLocatorHandler(locator);
```

**å…¶ä»–é¸é …**
- [`multipart`](./api/class-apirequestcontext#api-request-context-fetch-é¸é …-multipart) é¸é …åœ¨ `apiRequestContext.fetch()` ä¸­ç¾åœ¨æ¥å— [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) ä¸¦æ”¯æ´å…·æœ‰ç›¸åŒåç¨±çš„é‡è¤‡æ¬„ä½ã€‚
  
  ```js
  const formData = new FormData();
  formData.append('file', new File(['let x = 2024;'], 'f1.js', { type: 'text/javascript' }));
  formData.append('file', new File(['hello'], 'f2.txt', { type: 'text/plain' }));
  context.request.post('https://example.com/uploadFiles', {
    multipart: formData
  });
  ```
  
- `expect(callback).toPass({ intervals })` ç¾åœ¨å¯ä»¥ configured by `expect.toPass.intervals` é¸é … globally in [testConfig.expect](/api/class-testconfig.mdx#test-config-expect) or per project in [testProject.expect](/api/class-testproject.mdx#test-project-expect).
- `expect(page).toHaveURL(url)` ç¾åœ¨æ”¯æ´ `ignoreCase` [é¸é …](./api/class-pageassertions#page-assertions-to-have-url-é¸é …-ignore-case).
- [testProject.ignoreSnapshots](./api/class-testproject#test-project-ignore-snapshots) å…è¨± configure  per project whether to skip screenshot expectations.

**å ±å‘Šå™¨ API**
- æ–°æ–¹æ³• [suite.entries()](/api/class-suite.mdx#suite-entries) æŒ‰ç…§å®£å‘Šé †åºå›å‚³å­æ¸¬è©¦å¥—ä»¶å’Œæ¸¬è©¦æ¡ˆä¾‹ã€‚[suite.type](/api/class-suite.mdx#suite-type) å’Œ [testCase.type](/api/class-testcase.mdx#test-case-type) å¯ä»¥ç”¨ä¾†åœ¨æ¸…å–®ä¸­å€åˆ†æ¸¬è©¦æ¡ˆä¾‹å’Œå¥—ä»¶ã€‚
- [Blob](./test-reporters#blob-reporter) å ±å‘Šå™¨ç¾åœ¨å…è¨±ä½¿ç”¨å–®ä¸€é¸é … `outputFile` è¦†å¯«å ±å‘Šæª”æ¡ˆè·¯å¾‘ã€‚åŒä¸€é¸é …ä¹Ÿå¯ä»¥æŒ‡å®šç‚º `PLAYWRIGHT_BLOB_OUTPUT_FILE` ç’°å¢ƒè®Šæ•¸ï¼Œé€™åœ¨ CI/CD ä¸Šå¯èƒ½æ›´æ–¹ä¾¿ã€‚
- [JUnit](./test-reporters#junit-reporter) å ±å‘Šå™¨ç¾åœ¨æ”¯æ´ `includeProjectInTestName` é¸é …ã€‚

**å‘½ä»¤åˆ—**
- `--last-failed` CLI é¸é …ç”¨æ–¼åƒ…åŸ·è¡Œä¸Šæ¬¡åŸ·è¡Œä¸­å¤±æ•—çš„æ¸¬è©¦ã€‚
  
  é¦–å…ˆåŸ·è¡Œæ‰€æœ‰æ¸¬è©¦ï¼š
  
  ```sh
  $ npx playwright test
  
  Running 103 tests using 5 workers
  ...
  2 failed
    [chromium] â€º my-test.spec.ts:8:5 â€º two â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    [chromium] â€º my-test.spec.ts:13:5 â€º three â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  101 passed (30.0s)
  ```
  
  Now fix the failing tests and run Playwright again with `--last-failed` é¸é …:
  
  ```sh
  $ npx playwright test --last-failed
  
  Running 2 tests using 2 workers
    2 passed (1.2s)
  ```
  
### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 125.0.6422.14
* Mozilla Firefox 125.0.1
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 124
* Microsoft Edge 124

## Version 1.43

### æ–°çš„ API
- æ–¹æ³• [browserContext.clearCookies()](/api/class-browsercontext.mdx#browser-context-clear-cookies) ç¾åœ¨æ”¯æ´ filters to remove only some cookies.
  
  ```js
  // Clear all cookies.
  await context.clearCookies();
  // New: clear cookies with a particular name.
  await context.clearCookies({ name: 'session-id' });
  // New: clear cookies for a particular domain.
  await context.clearCookies({ domain: 'my-origin.com' });
  ```
  
- æ–°æ¨¡å¼ `retain-on-first-failure` ç”¨æ–¼ [testOptions.trace](/api/class-testoptions.mdx#test-options-trace)ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œè¿½è¹¤æœƒç‚ºæ¯å€‹æ¸¬è©¦çš„ç¬¬ä¸€æ¬¡åŸ·è¡Œé€²è¡Œè¨˜éŒ„ï¼Œä½†ä¸æœƒç‚ºé‡è©¦è¨˜éŒ„ã€‚ç•¶æ¸¬è©¦åŸ·è¡Œå¤±æ•—æ™‚ï¼Œè¿½è¹¤æª”æ¡ˆæœƒè¢«ä¿ç•™ï¼Œå¦å‰‡æœƒè¢«ç§»é™¤ã€‚
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    use: {
      trace: 'retain-on-first-failure',
    },
  });
  ```
  
- æ–°å±¬æ€§ [testInfo.tags](/api/class-testinfo.mdx#test-info-tags) exposes test tags during test execution.
  
  ```js
  test('example', async ({ page }) => {
    console.log(test.info().tags);
  });
  ```
  
- æ–°æ–¹æ³• [locator.contentFrame()](/api/class-locator.mdx#locator-content-frame) å°‡ [Locator] ç‰©ä»¶è½‰æ›ç‚º [FrameLocator]ã€‚ç•¶æ‚¨åœ¨æŸè™•å–å¾— [Locator] ç‰©ä»¶ï¼Œç¨å¾Œæƒ³è¦èˆ‡æ¡†æ¶å…§çš„å…§å®¹äº’å‹•æ™‚ï¼Œé€™æœƒå¾ˆæœ‰ç”¨ã€‚
  
  ```js
  const locator = page.locator('iframe[name="embedded"]');
  // ...
  const frameLocator = locator.contentFrame();
  await frameLocator.getByRole('button').click();
  ```
  
- æ–°æ–¹æ³• [frameLocator.owner()](/api/class-framelocator.mdx#frame-locator-owner) å°‡ [FrameLocator] ç‰©ä»¶è½‰æ›ç‚º [Locator]ã€‚ç•¶æ‚¨åœ¨æŸè™•å–å¾— [FrameLocator] ç‰©ä»¶ï¼Œç¨å¾Œæƒ³è¦èˆ‡ `iframe` å…ƒç´ äº’å‹•æ™‚ï¼Œé€™æœƒå¾ˆæœ‰ç”¨ã€‚
  
  ```js
  const frameLocator = page.frameLocator('iframe[name="embedded"]');
  // ...
  const locator = frameLocator.owner();
  await expect(locator).toBeVisible();
  ```
  
### UI æ¨¡å¼æ›´æ–°

![Playwright UI Mode](https://github.com/microsoft/playwright/assets/9881434/61ca7cfc-eb7a-4305-8b62-b6c9f098f300)
* See tags in the test list.
* Filter by tags by typing `@fast` or clicking on the tag itself.
* æ–°çš„å¿«é€Ÿéµï¼š
  - "F5" to run tests.
  - "Shift F5" to stop running tests.
  - "Ctrl `" to toggle test output.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 124.0.6367.8
* Mozilla Firefox 124.0
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 123
* Microsoft Edge 123

## Version 1.42

<LiteYouTube id="KjSaIQLlgns" title="Playwright 1.41 & 1.42" />

### æ–°çš„ API
- æ–°æ–¹æ³• [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) è¨»å†Šä¸€å€‹å›å‘¼å‡½æ•¸ï¼Œç•¶æŒ‡å®šå…ƒç´ è®Šç‚ºå¯è¦‹ä¸”å¯èƒ½é˜»æ“‹ Playwright å‹•ä½œæ™‚æœƒè¢«èª¿ç”¨ã€‚å›å‘¼å‡½æ•¸å¯ä»¥ç§»é™¤è¦†è“‹å±¤ã€‚ä»¥ä¸‹æ˜¯ä¸€å€‹ç•¶ cookie å°è©±æ¡†å‡ºç¾æ™‚é—œé–‰å®ƒçš„ç¯„ä¾‹ï¼š

```js
// Setup the handler.
await page.addLocatorHandler(
    page.getByRole('heading', { name: 'Hej! You are in control of your cookies.' }),
    async () => {
      await page.getByRole('button', { name: 'Accept all' }).click();
    });
// Write the test as usual.
await page.goto('https://www.ikea.com/');
await page.getByRole('link', { name: 'Collection of blue and white' }).click();
await expect(page.getByRole('heading', { name: 'Light and easy' })).toBeVisible();
```

- `expect(callback).toPass()` timeout ç¾åœ¨å¯ä»¥ configured by `expect.toPass.timeout` é¸é … [globally](./api/class-testconfig#test-config-expect) or in [project config](./api/class-testproject#test-project-expect)
- [electronApplication.on('console')](/api/class-electronapplication.mdx#electron-application-event-console) event is emitted when Electron main process calls console API methods.

```js
electronApp.on('console', async msg => {
  const values = [];
  for (const arg of msg.args())
    values.push(await arg.jsonValue());
  console.log(...values);
});
await electronApp.evaluate(() => console.log('hello', 5, { foo: 'bar' }));
```

- [æ–°èªæ³•](./test-annotations#tag-tests) ç”¨æ–¼ç‚ºæ¸¬è©¦æ–°å¢æ¨™ç±¤ï¼ˆä»æ”¯æ´æ¨™é¡Œä¸­çš„ @-tokenï¼‰ï¼š

```js
test('test customer login', {
  tag: ['@fast', '@login'],
}, async ({ page }) => {
  // ...
});
```

Use `--grep` command line é¸é … to run only tests with certain tags.

```sh
npx playwright test --grep @fast
```

- `--project` command line [flag](./test-cli#all-options) ç¾åœ¨æ”¯æ´ '*' wildcard:

```sh
npx playwright test --project='*mobile*'
```

- [æ–°èªæ³•](./test-annotations#annotate-tests) ç”¨æ–¼æ¸¬è©¦è¨»é‡‹ï¼š

```js
test('test full report', {
  annotation: [
    { type: 'issue', description: 'https://github.com/microsoft/playwright/issues/23180' },
    { type: 'docs', description: 'https://playwright.dev/docs/test-annotations#tag-tests' },
  ],
}, async ({ page }) => {
  // ...
});
```

- [page.pdf()](/api/class-page.mdx#page-pdf) æ¥å—å…©å€‹æ–°é¸é … [`tagged`](./api/class-page#page-pdf-é¸é …-tagged) å’Œ [`outline`](./api/class-page#page-pdf-é¸é …-outline)ã€‚

### å…¬å‘Š
* âš ï¸ Ubuntu 18 is not supported anymore.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 123.0.6312.4
* Mozilla Firefox 123.0
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 122
* Microsoft Edge 123

## Version 1.41

### æ–°çš„ API
- æ–°æ–¹æ³• [page.unrouteAll()](/api/class-page.mdx#page-unroute-all) removes all routes registered by [page.route()](/api/class-page.mdx#page-route) and [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har). Optionally å…è¨± wait for ongoing routes to finish, or ignore any errors from them.
- æ–°æ–¹æ³• [browserContext.unrouteAll()](/api/class-browsercontext.mdx#browser-context-unroute-all) removes all routes registered by [browserContext.route()](/api/class-browsercontext.mdx#browser-context-route) and [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har). Optionally å…è¨± wait for ongoing routes to finish, or ignore any errors from them.
- æ–°é¸é … [style](/api/class-page.mdx#page-screenshot-é¸é …-style) in [page.screenshot()](/api/class-page.mdx#page-screenshot) and [style](/api/class-locator.mdx#locator-screenshot-é¸é …-style) in [locator.screenshot()](/api/class-locator.mdx#locator-screenshot) to add custom CSS to the page before taking a screenshot.
- æ–°é¸é … `stylePath` for methods [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) and [expect(locator).toHaveScreenshot()](/api/class-locatorassertions.mdx#locator-assertions-to-have-screenshot-1) to apply a custom stylesheet while making the screenshot.
- æ–°çš„ `fileName` é¸é …ç”¨æ–¼ [Blob reporter](./test-reporters#blob-reporter)ï¼Œä»¥æŒ‡å®šè¦å»ºç«‹çš„å ±å‘Šåç¨±ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 121.0.6167.57
* Mozilla Firefox 121.0
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 120
* Microsoft Edge 120

## Version 1.40

<LiteYouTube id="mn892dV81_8" title="Playwright 1.40" />

### æ¸¬è©¦ç”¢ç”Ÿå™¨æ›´æ–°

![Playwright Test Generator](https://github.com/microsoft/playwright/assets/9881434/e8d67e2e-f36d-4301-8631-023948d3e190)

æ–°çš„ç”¢ç”Ÿæ–·è¨€å·¥å…·ï¼š
- "Assert visibility" tool generates [expect(locator).toBeVisible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible).
- "Assert value" tool generates [expect(locator).toHaveValue()](/api/class-locatorassertions.mdx#locator-assertions-to-have-value).
- "Assert text" tool generates [expect(locator).toContainText()](/api/class-locatorassertions.mdx#locator-assertions-to-contain-text).

Here is an example of a generated test with assertions:

```js
import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await page.goto('https://playwright.dev/');
  await page.getByRole('link', { name: 'Get started' }).click();
  await expect(page.getByLabel('Breadcrumbs').getByRole('list')).toContainText('Installation');
  await expect(page.getByLabel('Search')).toBeVisible();
  await page.getByLabel('Search').click();
  await page.getByPlaceholder('Search docs').fill('locator');
  await expect(page.getByPlaceholder('Search docs')).toHaveValue('locator');
});
```

### æ–°çš„ API
- Options [reason](/api/class-page.mdx#page-close-é¸é …-reason) in [page.close()](/api/class-page.mdx#page-close), [reason](/api/class-browsercontext.mdx#browser-context-close-é¸é …-reason) in [browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) and [reason](/api/class-browser.mdx#browser-close-é¸é …-reason) in [browser.close()](/api/class-browser.mdx#browser-close). Close reason is reported for all operations interrupted by the closure.
- é¸é … [firefoxUserPrefs](/api/class-browsertype.mdx#browser-type-launch-persistent-context-é¸é …-firefox-user-prefs) in [browserType.launchPersistentContext()](/api/class-browsertype.mdx#browser-type-launch-persistent-context).

### å…¶ä»–è®Šæ›´
- Methods [download.path()](/api/class-download.mdx#download-path) and [download.createReadStream()](/api/class-download.mdx#download-create-read-stream) throw an error for failed and cancelled downloads.
- Playwright [docker image](./docker.mdx) now comes with Node.js v20.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 120.0.6099.28
* Mozilla Firefox 119.0
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 119
* Microsoft Edge 119

## Version 1.39

<LiteYouTube id="KqVuRAlOkm0" title="Playwright 1.39" />

### ç‚ºæ‚¨çš„ expect æ–°å¢è‡ªå®šç¾©æ¯”å°å™¨

æ‚¨å¯ä»¥é€éæä¾›è‡ªè¨‚åŒ¹é…å™¨ä¾†æ“´å±• Playwright æ–·è¨€ã€‚é€™äº›åŒ¹é…å™¨å°‡å¯åœ¨ expect ç‰©ä»¶ä¸Šä½¿ç”¨ã€‚

```js title="test.spec.ts"
import { expect as baseExpect } from '@playwright/test';
export const expect = baseExpect.extend({
  async toHaveAmount(locator: Locator, expected: number, options?: { timeout?: number }) {
    // ... see documentation for how to write matchers.
  },
});

test('pass', async ({ page }) => {
  await expect(page.getByTestId('cart')).toHaveAmount(5);
});
```

See the documentation [for a full example](./test-assertions#add-custom-matchers-using-expectextend).

### åˆä½µæ¸¬è©¦ä½ˆç½®

æ‚¨ç¾åœ¨å¯ä»¥ merge test fixtures from multiple files or modules:

```js title="fixtures.ts"
import { mergeTests } from '@playwright/test';
import { test as dbTest } from 'database-test-utils';
import { test as a11yTest } from 'a11y-test-utils';

export const test = mergeTests(dbTest, a11yTest);
```

```js title="test.spec.ts"
import { test } from './fixtures';

test('passes', async ({ database, page, a11y }) => {
  // use database and a11y fixtures.
});
```

### åˆä½µè‡ªå®šç¾© expect æ¯”å°å™¨

æ‚¨ç¾åœ¨å¯ä»¥ merge custom expect matchers from multiple files or modules:

```js title="fixtures.ts"
import { mergeTests, mergeExpects } from '@playwright/test';
import { test as dbTest, expect as dbExpect } from 'database-test-utils';
import { test as a11yTest, expect as a11yExpect } from 'a11y-test-utils';

export const test = mergeTests(dbTest, a11yTest);
export const expect = mergeExpects(dbExpect, a11yExpect);
```

```js title="test.spec.ts"
import { test, expect } from './fixtures';

test('passes', async ({ page, database }) => {
  await expect(database).toHaveDatabaseUser('admin');
  await expect(page).toPassA11yAudit();
});
```

### éš±è—å¯¦ä½œç´°ç¯€ï¼šæ¡†æ¶æ¸¬è©¦æ­¥é©Ÿ

You can mark a [test.step()](/api/class-test.mdx#test-step) as "boxed" so that errors inside it point to the step call site.

```js
async function login(page) {
  await test.step('login', async () => {
    // ...
  }, { box: true });  // Note the "box" é¸é … here.
}
```

```txt
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  ... error details omitted ...

  14 |   await page.goto('https://github.com/login');
> 15 |   await login(page);
     |         ^
  16 | });
```

See [test.step()](/api/class-test.mdx#test-step) documentation for a full example.

### æ–°çš„ API
- [expect(locator).toHaveAttribute()](/api/class-locatorassertions.mdx#locator-assertions-to-have-attribute-2)

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 119.0.6045.9
* Mozilla Firefox 118.0.1
* WebKit 17.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 118
* Microsoft Edge 118

## Version 1.38

<LiteYouTube id="YGJTeXaZDTM" title="Playwright 1.38" />

### UI æ¨¡å¼æ›´æ–°

![Playwright UI Mode](https://github.com/microsoft/playwright/assets/746130/8ba27be0-58fd-4f62-8561-950480610369)
1. Zoom into time range.
1. Network panel redesign.

### æ–°çš„ API
- [browserContext.on('weberror')](/api/class-browsercontext.mdx#browser-context-event-web-error)
- [locator.pressSequentially()](/api/class-locator.mdx#locator-press-sequentially)
- The [reporter.onEnd()](/api/class-reporter.mdx#reporter-on-end) now reports `startTime` and total run `duration`.

### æ£„ç”¨
* ä»¥ä¸‹æ–¹æ³•å·²æ£„ç”¨ï¼š[page.type()](/api/class-page.mdx#page-type)ã€[frame.type()](/api/class-frame.mdx#frame-type)ã€[locator.type()](/api/class-locator.mdx#locator-type) å’Œ [elementHandle.type()](/api/class-elementhandle.mdx#element-handle-type)ã€‚è«‹æ”¹ç”¨ [locator.fill()](/api/class-locator.mdx#locator-fill)ï¼Œå®ƒå¿«å¾—å¤šã€‚åªæœ‰ç•¶é é¢ä¸Šæœ‰ç‰¹æ®Šçš„éµç›¤è™•ç†ï¼Œä¸¦ä¸”æ‚¨éœ€è¦é€å€‹æŒ‰éµæ™‚ï¼Œæ‰ä½¿ç”¨ [locator.pressSequentially()](/api/class-locator.mdx#locator-press-sequentially)ã€‚

### é‡å¤§è®Šæ›´ï¼šPlaywright ä¸å†è‡ªå‹•ä¸‹è¼‰ç€è¦½å™¨

> **æ³¨æ„**ï¼šå¦‚æœæ‚¨ä½¿ç”¨ `@playwright/test` å¥—ä»¶ï¼Œæ­¤è®Šæ›´ä¸æœƒå½±éŸ¿æ‚¨ã€‚

Playwright å»ºè­°ä½¿ç”¨ `@playwright/test` å¥—ä»¶ä¸¦é€é `npx playwright install` å‘½ä»¤ä¸‹è¼‰ç€è¦½å™¨ã€‚å¦‚æœæ‚¨éµå¾ªæ­¤å»ºè­°ï¼Œå°æ‚¨ä¾†èªªæ²’æœ‰ä»»ä½•è®ŠåŒ–ã€‚

ç„¶è€Œï¼Œåˆ° v1.38 ä¹‹å‰ï¼Œå®‰è£ `playwright` å¥—ä»¶è€Œä¸æ˜¯ `@playwright/test` æœƒè‡ªå‹•ä¸‹è¼‰ç€è¦½å™¨ã€‚ç¾åœ¨ä¸å†å¦‚æ­¤ï¼Œæˆ‘å€‘å»ºè­°é€é `npx playwright install` å‘½ä»¤æ˜ç¢ºä¸‹è¼‰ç€è¦½å™¨ã€‚

**v1.37 åŠæ›´æ—©ç‰ˆæœ¬**

`playwright` å¥—ä»¶åœ¨ `npm install` æœŸé–“ä¸‹è¼‰ç€è¦½å™¨ï¼Œè€Œ `@playwright/test` å‰‡ä¸æœƒã€‚

**v1.38 åŠæ›´æ–°ç‰ˆæœ¬**

`playwright` å’Œ `@playwright/test` å¥—ä»¶åœ¨ `npm install` æœŸé–“éƒ½ä¸æœƒä¸‹è¼‰ç€è¦½å™¨ã€‚

**å»ºè­°çš„é·ç§»**

åœ¨ `npm install` ä¹‹å¾ŒåŸ·è¡Œ `npx playwright install` ä¾†ä¸‹è¼‰ç€è¦½å™¨ã€‚ä¾‹å¦‚ï¼Œåœ¨æ‚¨çš„ CI é…ç½®ä¸­ï¼š

```yml
- run: npm ci
- run: npx playwright install --with-deps
```

**æ›¿ä»£é·ç§»é¸é … - ä¸å»ºè­°**

æ–°å¢ `@playwright/browser-chromium`ã€`@playwright/browser-firefox` å’Œ `@playwright/browser-webkit` ä½œç‚ºä¾è³´é …ã€‚é€™äº›å¥—ä»¶åœ¨ `npm install` æœŸé–“ä¸‹è¼‰å°æ‡‰çš„ç€è¦½å™¨ã€‚ç¢ºä¿æ‚¨ä¿æŒæ‰€æœ‰ playwright å¥—ä»¶ç‰ˆæœ¬åŒæ­¥ï¼š

```json
// package.json
{
  "devDependencies": {
    "playwright": "1.38.0",
    "@playwright/browser-chromium": "1.38.0",
    "@playwright/browser-firefox": "1.38.0",
    "@playwright/browser-webkit": "1.38.0"
  }
}
```

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 117.0.5938.62
* Mozilla Firefox 117.0
* WebKit 17.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 116
* Microsoft Edge 116

## Version 1.37

<LiteYouTube id="cEd4SH_Xf5U" title="Playwright 1.36 & 1.37" />

### æ–°çš„ `npx playwright merge-reports` å·¥å…·

If you run tests on multiple shards, æ‚¨ç¾åœ¨å¯ä»¥ merge all reports in a single HTML report (or any other report) using the new `merge-reports` CLI tool.

Using `merge-reports` tool requires the following steps:
1. Adding a new "blob" reporter to the config when running on CI:
   
   ```js title="playwright.config.ts"
   export default defineConfig({
     testDir: './tests',
     reporter: process.env.CI ? 'blob' : 'html',
   });
   ```
   
   The "blob" reporter will produce ".zip" files that contain all the information about the test run.

2. Copying all "blob" reports in a single shared location and running `npx playwright merge-reports`:

```bash
npx playwright merge-reports --reporter html ./all-blob-reports
```

Read more in [our documentation](./test-sharding.mdx).

### ğŸ“š Debian 12 Bookworm Support

Playwright ç¾åœ¨æ”¯æ´ Debian 12 Bookworm on both x86_64 and arm64 for Chromium, Firefox and WebKit. å¦‚æœæ‚¨é‡åˆ°ä»»ä½•å•é¡Œï¼Œè«‹å‘Šè¨´æˆ‘å€‘ï¼

Linux support looks like this:

|          | Ubuntu 20.04 | Ubuntu 22.04 | Debian 11 | Debian 12 |
| :--- | :---: | :---: | :---: | :---: |
| Chromium | âœ… | âœ… | âœ… | âœ… |
| WebKit | âœ… | âœ… | âœ… | âœ… |
| Firefox | âœ… | âœ… | âœ… | âœ… |

### UI æ¨¡å¼æ›´æ–°
- UI Mode now respects project dependencies. You can control which dependencies to respect by checking/unchecking them in a projects list.
- æ¸¬è©¦çš„ä¸»æ§å°æ—¥èªŒç¾åœ¨é¡¯ç¤ºåœ¨ Console é ç±¤ä¸­ã€‚

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 116.0.5845.82
* Mozilla Firefox 115.0
* WebKit 17.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 115
* Microsoft Edge 115

## Version 1.36

ğŸï¸ Summer maintenance release.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 115.0.5790.75
* Mozilla Firefox 115.0
* WebKit 17.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 114
* Microsoft Edge 114

## Version 1.35

<LiteYouTube id="pJiirfyJwcA" title="Playwright 1.35" />

### é‡é»
* UI mode ç¾åœ¨å¯ç”¨ in VSCode Playwright extension via a new "Show trace viewer" button:
  
  ![Playwright UI Mode](https://github.com/microsoft/playwright/assets/746130/13094128-259b-477a-8bbb-c1181178e8a2)
* UI mode and trace viewer mark network requests handled with [page.route()](/api/class-page.mdx#page-route) and [browserContext.route()](/api/class-browsercontext.mdx#browser-context-route) handlers, as well as those issued via the [API testing](./api-testing):
  
  ![Trace Viewer](https://github.com/microsoft/playwright/assets/746130/0df2d4b6-faa3-465c-aff3-c435b430bfe1)
* æ–°é¸é … `maskColor` for methods [page.screenshot()](/api/class-page.mdx#page-screenshot), [locator.screenshot()](/api/class-locator.mdx#locator-screenshot), [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) and [expect(locator).toHaveScreenshot()](/api/class-locatorassertions.mdx#locator-assertions-to-have-screenshot-1) to change default masking color:
  
  ```js
  await page.goto('https://playwright.dev');
  await expect(page).toHaveScreenshot({
    mask: [page.locator('img')],
    maskColor: '#00FF00', // green
  });
  ```
  
* New `uninstall` CLI command to uninstall browser binaries:
  
  ```bash
  $ npx playwright uninstall # remove browsers installed by this installation
  $ npx playwright uninstall --all # remove all ever-install Playwright browsers
  ```
  
* Both UI mode and trace viewer now could be opened in a browser tab:
  
  ```bash
  $ npx playwright test --ui-port 0 # open UI mode in a tab on a random port
  $ npx playwright show-trace --port 0 # open trace viewer in tab on a random port
  ```
  
### âš ï¸ Breaking changes
* `playwright-core` binary got renamed from `playwright` to `playwright-core`. So if you use `playwright-core` CLI, make sure to update the name:
  
  ```bash
  $ npx playwright-core install # the new way to install browsers when using playwright-core
  ```
  
  This change **does not** affect `@playwright/test` and `playwright` package users.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 115.0.5790.13
* Mozilla Firefox 113.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 114
* Microsoft Edge 114

## Version 1.34

<LiteYouTube id="JeFD6rqDbBo" title="Playwright 1.34" />

### é‡é»
* UI Mode now shows steps, fixtures and attachments: ![UI Mode attachments](https://github.com/microsoft/playwright/assets/746130/1d280419-d79a-4a56-b2dc-54d631281d56)
* æ–°å±¬æ€§ [testProject.teardown](/api/class-testproject.mdx#test-project-teardown) ç”¨æ–¼æŒ‡å®šåœ¨æ­¤å°ˆæ¡ˆå’Œæ‰€æœ‰ç›¸ä¾å°ˆæ¡ˆå®Œæˆå¾Œéœ€è¦åŸ·è¡Œçš„å°ˆæ¡ˆã€‚æ¸…ç†å°æ–¼æ¸…ç†æ­¤å°ˆæ¡ˆå–å¾—çš„ä»»ä½•è³‡æºå¾ˆæœ‰ç”¨ã€‚
  
  A common pattern would be a `setup` dependency with a corresponding `teardown`:
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    projects: [
      {
        name: 'setup',
        testMatch: /global.setup\.ts/,
        teardown: 'teardown',
      },
      {
        name: 'teardown',
        testMatch: /global.teardown\.ts/,
      },
      {
        name: 'chromium',
        use: devices['Desktop Chrome'],
        dependencies: ['setup'],
      },
      {
        name: 'firefox',
        use: devices['Desktop Firefox'],
        dependencies: ['setup'],
      },
      {
        name: 'webkit',
        use: devices['Desktop Safari'],
        dependencies: ['setup'],
      },
    ],
  });
  ```
  
* æ–°æ–¹æ³• [`expect.configure`](./test-assertions.mdx#expectconfigure) to create pre-configured expect instance with its own defaults such as `timeout` and `soft`.
  
  ```js
  const slowExpect = expect.configure({ timeout: 10000 });
  await slowExpect(locator).toHaveText('Submit');
  
  // Always do soft assertions.
  const softExpect = expect.configure({ soft: true });
  ```
  
* æ–°é¸é … `stderr` and `stdout`  in [testConfig.webServer](/api/class-testconfig.mdx#test-config-web-server) to configure output handling:
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    // Run your local dev server before starting the tests
    webServer: {
      command: 'npm run start',
      url: 'http://127.0.0.1:3000',
      reuseExistingServer: !process.env.CI,
      stdout: 'pipe',
      stderr: 'pipe',
    },
  });
  ```
  
* New [locator.and()](/api/class-locator.mdx#locator-and) to create a locator that matches both locators.
  
  ```js
  const button = page.getByRole('button').and(page.getByTitle('Subscribe'));
  ```
  
* New events [browserContext.on('console')](/api/class-browsercontext.mdx#browser-context-event-console) and [browserContext.on('dialog')](/api/class-browsercontext.mdx#browser-context-event-dialog) to subscribe to any dialogs and console messages from any page from the given browser context. Use the new methods [consoleMessage.page()](/api/class-consolemessage.mdx#console-message-page) and [dialog.page()](/api/class-dialog.mdx#dialog-page) to pin-point event source.

### âš ï¸ Breaking changes
* `npx playwright test` no longer works if you install both `playwright` and `@playwright/test`. There's no need to install both, since you can always import browser automation APIs from `@playwright/test` directly:
  
  ```js title="automation.ts"
  import { chromium, firefox, webkit } from '@playwright/test';
  /* ... */
  ```
  
* Node.js 14 is no longer supported since it [reached its end-of-life](https://nodejs.dev/en/about/releases/) on April 30, 2023.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 114.0.5735.26
* Mozilla Firefox 113.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 113
* Microsoft Edge 113

## Version 1.33

<LiteYouTube id="JeFD6rqDbBo" title="Playwright 1.33" />

### å®šä½å™¨æ›´æ–°
* Use [locator.or()](/api/class-locator.mdx#locator-or) to create a locator that matches either of the two locators. Consider a scenario where you'd like to click on a "New email" button, but sometimes a security settings dialog shows up instead. In this case, you can wait for either a "New email" button, or a dialog and act accordingly:
  
  ```js
  const newEmail = page.getByRole('button', { name: 'New email' });
  const dialog = page.getByText('Confirm security settings');
  await expect(newEmail.or(dialog)).toBeVisible();
  if (await dialog.isVisible())
    await page.getByRole('button', { name: 'Dismiss' }).click();
  await newEmail.click();
  ```
  
* Use new options [hasNot](/api/class-locator.mdx#locator-filter-é¸é …-has-not) and [hasNotText](/api/class-locator.mdx#locator-filter-é¸é …-has-not-text) in [locator.filter()](/api/class-locator.mdx#locator-filter) to find elements that **do not match** certain conditions.
  
  ```js
  const rowLocator = page.locator('tr');
  await rowLocator
      .filter({ hasNotText: 'text in column 1' })
      .filter({ hasNot: page.getByRole('button', { name: 'column 2 button' }) })
      .screenshot();
  ```
  
* Use new web-first assertion [expect(locator).toBeAttached()](/api/class-locatorassertions.mdx#locator-assertions-to-be-attached) to ensure that the element is present in the page's DOM. Do not confuse with the [expect(locator).toBeVisible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible) that ensures that element is both attached & visible.

### æ–°çš„ API
- [locator.or()](/api/class-locator.mdx#locator-or)
- æ–°é¸é … [hasNot](/api/class-locator.mdx#locator-filter-é¸é …-has-not) in [locator.filter()](/api/class-locator.mdx#locator-filter)
- æ–°é¸é … [hasNotText](/api/class-locator.mdx#locator-filter-é¸é …-has-not-text) in [locator.filter()](/api/class-locator.mdx#locator-filter)
- [expect(locator).toBeAttached()](/api/class-locatorassertions.mdx#locator-assertions-to-be-attached)
- æ–°é¸é … [timeout](/api/class-route.mdx#route-fetch-é¸é …-timeout) in [route.fetch()](/api/class-route.mdx#route-fetch)
- [reporter.onExit()](/api/class-reporter.mdx#reporter-on-exit)

### âš ï¸ Breaking change
* The `mcr.microsoft.com/playwright:v1.33.0` now serves a Playwright image based on Ubuntu Jammy. To use the focal-based image, please use `mcr.microsoft.com/playwright:v1.33.0-focal` instead.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 113.0.5672.53
* Mozilla Firefox 112.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 112
* Microsoft Edge 112

## Version 1.32

<LiteYouTube id="jF0yA-JLQW0" title="Playwright 1.32" />

### ä»‹ç´¹ UI æ¨¡å¼ï¼ˆé è¦½ï¼‰

New [UI Mode](./test-ui-mode.mdx) lets you explore, run and debug tests. Comes with a built-in watch mode.

![Playwright UI Mode](https://user-images.githubusercontent.com/746130/227004851-3901a691-4f8e-43d6-8d6b-cbfeafaeb999.png)

Engage with a new flag `--ui`:

```sh
npx playwright test --ui
```

### æ–°çš„ API
- æ–°é¸é … [updateMode](/api/class-page.mdx#page-route-from-har-é¸é …-update-mode) and [updateContent](/api/class-page.mdx#page-route-from-har-é¸é …-update-content) in [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) and [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har).
- Chaining existing locator objects, see [locator docs](./locators.mdx#matching-inside-a-locator) for details.
- æ–°å±¬æ€§ [testInfo.testId](/api/class-testinfo.mdx#test-info-test-id).
- æ–°é¸é … [name](/api/class-tracing.mdx#tracing-start-chunk-é¸é …-name) in æ–¹æ³• [tracing.startChunk()](/api/class-tracing.mdx#tracing-start-chunk).

### âš ï¸ Breaking change in component tests

Note: **component tests only**, does not affect end-to-end tests.
* `@playwright/experimental-ct-react` ç¾åœ¨æ”¯æ´ **React 18 only**.
* If you're running component tests with React 16 or 17, please replace `@playwright/experimental-ct-react` with `@playwright/experimental-ct-react17`.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 112.0.5615.29
* Mozilla Firefox 111.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 111
* Microsoft Edge 111

## Version 1.31

<LiteYouTube id="PI50YAPTAs4" title="Playwright 1.31" />

### æ–°çš„ API
- æ–°å±¬æ€§ [testProject.dependencies](/api/class-testproject.mdx#test-project-dependencies) to configure dependencies between projects.
  
  ä½¿ç”¨ä¾è³´é …å…è¨±å…¨åŸŸè¨­å®šç”¢ç”Ÿè¿½è¹¤å’Œå…¶ä»–å·¥ä»¶ï¼Œè«‹æŸ¥çœ‹æ¸¬è©¦å ±å‘Šä¸­çš„è¨­å®šæ­¥é©Ÿç­‰ç­‰ã€‚
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    projects: [
      {
        name: 'setup',
        testMatch: /global.setup\.ts/,
      },
      {
        name: 'chromium',
        use: devices['Desktop Chrome'],
        dependencies: ['setup'],
      },
      {
        name: 'firefox',
        use: devices['Desktop Firefox'],
        dependencies: ['setup'],
      },
      {
        name: 'webkit',
        use: devices['Desktop Safari'],
        dependencies: ['setup'],
      },
    ],
  });
  ```
  
- New assertion [expect(locator).toBeInViewport()](/api/class-locatorassertions.mdx#locator-assertions-to-be-in-viewport) ensures that locator points to an element that intersects viewport, according to the [intersection observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API).
  
  ```js
  const button = page.getByRole('button');
  
  // Make sure at least some part of element intersects viewport.
  await expect(button).toBeInViewport();
  
  // Make sure element is fully outside of viewport.
  await expect(button).not.toBeInViewport();
  
  // Make sure that at least half of the element intersects viewport.
  await expect(button).toBeInViewport({ ratio: 0.5 });
  ```
  
### å…¶ä»–
- DOM snapshots in trace viewer can be now opened in a separate window.
- æ–°æ–¹æ³• `defineConfig` to be used in `playwright.config`.
- æ–°é¸é … [maxRedirects](/api/class-route.mdx#route-fetch-é¸é …-max-redirects) for æ–¹æ³• [route.fetch()](/api/class-route.mdx#route-fetch).
- Playwright ç¾åœ¨æ”¯æ´ Debian 11 arm64.
- Official [docker images](./docker.mdx) now include Node 18 instead of Node 16.

### âš ï¸ Breaking change in component tests

Note: **component tests only**, does not affect end-to-end tests.

`playwright-ct.config` configuration file for [component testing](./test-components.mdx) now requires calling `defineConfig`.

```js
// Before

import { type PlaywrightTestConfig, devices } from '@playwright/experimental-ct-react';
const config: PlaywrightTestConfig = {
  // ... config goes here ...
};
export default config;
```

Replace `config` variable definition with `defineConfig` call:

```js
// After

import { defineConfig, devices } from '@playwright/experimental-ct-react';
export default defineConfig({
  // ... config goes here ...
});
```

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 111.0.5563.19
* Mozilla Firefox 109.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 110
* Microsoft Edge 110

## Version 1.30

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 110.0.5481.38
* Mozilla Firefox 108.0.2
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 109
* Microsoft Edge 109

## Version 1.29

<LiteYouTube id="VbVlz61VtNo" title="Playwright 1.29" />

### æ–°çš„ API
- æ–°æ–¹æ³• [route.fetch()](/api/class-route.mdx#route-fetch) and new é¸é … `json` for [route.fulfill()](/api/class-route.mdx#route-fulfill):
  
  ```js
  await page.route('**/api/settings', async route => {
    // Fetch original settings.
    const response = await route.fetch();
  
    // Force settings theme to a predefined value.
    const json = await response.json();
    json.theme = 'Solorized';
  
    // Fulfill with modified data.
    await route.fulfill({ json });
  });
  ```
  
- æ–°æ–¹æ³• [locator.all()](/api/class-locator.mdx#locator-all) to iterate over all matching elements:
  
  ```js
  // Check all checkboxes!
  const checkboxes = page.getByRole('checkbox');
  for (const checkbox of await checkboxes.all())
    await checkbox.check();
  ```
  
- [locator.selectOption()](/api/class-locator.mdx#locator-select-é¸é …) matches now by value or label:
  
  ```html
  <select multiple>
    <é¸é … value="red">Red</é¸é …>
    <é¸é … value="green">Green</é¸é …>
    <é¸é … value="blue">Blue</é¸é …>
  </select>
  ```
  
  ```js
  await element.selectOption('Red');
  ```
  
- Retry blocks of code until all assertions pass:
  
  ```js
  await expect(async () => {
    const response = await page.request.get('https://api.example.com');
    await expect(response).toBeOK();
  }).toPass();
  ```
  
  Read more in [our documentation](./test-assertions.mdx#expecttopass).
- Automatically capture **full page screenshot** on test failure:
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  export default defineConfig({
    use: {
      screenshot: {
        mode: 'only-on-failure',
        fullPage: true,
      }
    }
  });
  ```
  
### å…¶ä»–
- Playwright Test now respects [`jsconfig.json`](https://code.visualstudio.com/docs/languages/jsconfig).
- æ–°é¸é … `args` and `proxy` for [androidDevice.launchBrowser()](/api/class-androiddevice.mdx#android-device-launch-browser).
- é¸é … `postData` in æ–¹æ³• [route.continue()](/api/class-route.mdx#route-continue) ç¾åœ¨æ”¯æ´ [Serializable] values.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 109.0.5414.46
* Mozilla Firefox 107.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 108
* Microsoft Edge 108

## Version 1.28

<LiteYouTube id="tVSq-0n-TY4" title="Playwright 1.28" />

### Playwright å·¥å…·
* **åœ¨ VSCode ä¸­æ¸¸æ¨™è™•éŒ„è£½ã€‚** æ‚¨å¯ä»¥åŸ·è¡Œæ¸¬è©¦ï¼Œå°‡æ¸¸æ¨™ç½®æ–¼æ¸¬è©¦æœ«å°¾ä¸¦ç¹¼çºŒç”¢ç”Ÿæ¸¬è©¦ã€‚

![New VSCode Extension](https://user-images.githubusercontent.com/746130/202005839-aba2eeba-217b-424d-8496-8b4f5fa72f41.png)
* **VSCode ä¸­çš„å³æ™‚å®šä½å™¨ã€‚** æ‚¨å¯ä»¥åœ¨ VSCode ä¸­æ‡¸åœä¸¦ç·¨è¼¯å®šä½å™¨ï¼Œä½¿å…¶åœ¨é–‹å•Ÿçš„ç€è¦½å™¨ä¸­è¢«çªé¡¯é¡¯ç¤ºã€‚
* **Live Locators in CodeGen.** Generate a locator for any element on the page using "Explore" tool.

![Locator Explorer](https://user-images.githubusercontent.com/746130/201796876-01567a0b-ca61-4a9d-b12b-04786c471671.png)
* **Codegen and Trace Viewer Dark Theme.** Automatically picked up from operating system settings.

![Dark Theme](https://user-images.githubusercontent.com/746130/201797969-603f74df-d7cf-4c56-befd-798dbd269796.png)

### æ¸¬è©¦åŸ·è¡Œå™¨
* Configure retries and test timeout for a file or a test with [test.describe.configure()](/api/class-test.mdx#test-describe-configure).
  
  ```js
  // Each test in the file will be retried twice and have a timeout of 20 seconds.
  test.describe.configure({ retries: 2, timeout: 20_000 });
  test('runs first', async ({ page }) => {});
  test('runs second', async ({ page }) => {});
  ```
  
* Use [testProject.snapshotPathTemplate](/api/class-testproject.mdx#test-project-snapshot-path-template) and [testConfig.snapshotPathTemplate](/api/class-testconfig.mdx#test-config-snapshot-path-template) to configure a template controlling location of snapshots generated by [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) and [expect(value).toMatchSnapshot()](/api/class-snapshotassertions.mdx#snapshot-assertions-to-match-snapshot-1).
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  export default defineConfig({
    testDir: './tests',
    snapshotPathTemplate: '{testDir}/__screenshots__/{testFilePath}/{arg}{ext}',
  });
  ```
  
### æ–°çš„ API
- [locator.blur()](/api/class-locator.mdx#locator-blur)
- [locator.clear()](/api/class-locator.mdx#locator-clear)
- [android.launchServer()](/api/class-android.mdx#android-launch-server) and  [android.connect()](/api/class-android.mdx#android-connect)
- [androidDevice.on('close')](/api/class-androiddevice.mdx#android-device-event-close)

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 108.0.5359.29
* Mozilla Firefox 106.0
* WebKit 16.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 107
* Microsoft Edge 107

## Version 1.27

<LiteYouTube id="b84eqab3kwc" title="Playwright 1.27" />

### å®šä½å™¨

With these new APIs writing locators is a joy:
- [page.getByText()](/api/class-page.mdx#page-get-by-text) to locate by text content.
- [page.getByRole()](/api/class-page.mdx#page-get-by-role) to locate by [ARIA role](https://www.w3.org/TR/wai-aria-1.2/#roles), [ARIA attributes](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) and [accessible name](https://w3c.github.io/accname/#dfn-accessible-name).
- [page.getByLabel()](/api/class-page.mdx#page-get-by-label) to locate a form control by associated label's text.
- [page.getByTestId()](/api/class-page.mdx#page-get-by-test-id) to locate an element based on its `data-testid` attribute (other attribute can be configured).
- [page.getByPlaceholder()](/api/class-page.mdx#page-get-by-placeholder) to locate an input by placeholder.
- [page.getByAltText()](/api/class-page.mdx#page-get-by-alt-text) to locate an element, usually image, by its text alternative.
- [page.getByTitle()](/api/class-page.mdx#page-get-by-title) to locate an element by its title.

```js
await page.getByLabel('User Name').fill('John');

await page.getByLabel('Password').fill('secret-password');

await page.getByRole('button', { name: 'Sign in' }).click();

await expect(page.getByText('Welcome, John!')).toBeVisible();
```

All the same methods are also available on [Locator], [FrameLocator] and [Frame] classes.

### å…¶ä»–é‡é»
- `workers` é¸é … in the `playwright.config.ts` now accepts a percentage string to use some of the available CPUs. You can also pass it in the command line:
  
  ```bash
  npx playwright test --workers=20%
  ```
  
- æ–°é¸é … `host` and `port` for the html reporter.
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    reporter: [['html', { host: 'localhost', port: '9223' }]],
  });
  ```
  
- New field `FullConfig.configFile` å¯ç”¨ to test reporters, specifying the path to the config file if any.
- As announced in v1.25, Ubuntu 18 will not be supported as of Dec 2022. In addition to that, there will be no WebKit updates on Ubuntu 18 starting from the next Playwright release.

### è¡Œç‚ºè®Šæ›´
- [expect(locator).toHaveAttribute()](/api/class-locatorassertions.mdx#locator-assertions-to-have-attribute) with an empty value does not match missing attribute anymore. For example, the following snippet will succeed when `button` **does not** have a `disabled` attribute.
  
  ```js
  await expect(page.getByRole('button')).toHaveAttribute('disabled', '');
  ```
  
- Command line options `--grep` and `--grep-invert` previously incorrectly ignored `grep` and `grepInvert` options specified in the config. Now all of them are applied together.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 107.0.5304.18
* Mozilla Firefox 105.0.1
* WebKit 16.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 106
* Microsoft Edge 106

## Version 1.26

<LiteYouTube id="b84eqab3kwc" title="Playwright 1.26" />

### æ–·è¨€
- æ–°é¸é … `enabled` for [expect(locator).toBeEnabled()](/api/class-locatorassertions.mdx#locator-assertions-to-be-enabled).
- [expect(locator).toHaveText()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text) now pierces open shadow roots.
- æ–°é¸é … `editable` for [expect(locator).toBeEditable()](/api/class-locatorassertions.mdx#locator-assertions-to-be-editable).
- æ–°é¸é … `visible` for [expect(locator).toBeVisible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible).

### å…¶ä»–é‡é»
- æ–°é¸é … `maxRedirects` for [apiRequestContext.get()](/api/class-apirequestcontext.mdx#api-request-context-get) and others to limit redirect count.
- æ–°çš„å‘½ä»¤åˆ—æ——æ¨™ `--pass-with-no-tests` å…è¨±æ¸¬è©¦å¥—ä»¶åœ¨æ‰¾ä¸åˆ°æª”æ¡ˆæ™‚é€šéã€‚
- æ–°çš„å‘½ä»¤åˆ—æ——æ¨™ `--ignore-snapshots` ç”¨æ–¼è·³éå¿«ç…§é æœŸï¼Œä¾‹å¦‚ `expect(value).toMatchSnapshot()` å’Œ `expect(page).toHaveScreenshot()`ã€‚

### è¡Œç‚ºè®Šæ›´

A bunch of Playwright APIs already support the `waitUntil: 'domcontentloaded'` é¸é …. For example:

```js
await page.goto('https://playwright.dev', {
  waitUntil: 'domcontentloaded',
});
```

Prior to 1.26, this would wait for all iframes to fire the `DOMContentLoaded` event.

To align with web specification, the `'domcontentloaded'` value only waits for the target frame to fire the `'DOMContentLoaded'` event. Use `waitUntil: 'load'` to wait for all iframes.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 106.0.5249.30
* Mozilla Firefox 104.0
* WebKit 16.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 105
* Microsoft Edge 105

## Version 1.25

<LiteYouTube id="NFLHA57a-so" title="Playwright 1.25" />

### VSCode Extension
* Watch your tests running live & keep devtools open.
* Pick selector.
* Record new test from current page state.

![vscode extension screenshot](https://user-images.githubusercontent.com/746130/183781999-1b9fdbc5-cfae-47d6-b4f7-5d4ae89716a8.jpg)

### æ¸¬è©¦åŸ·è¡Œå™¨
* [test.step()](/api/class-test.mdx#test-step) now å›å‚³ the value of the step function:
  
  ```js
  test('should work', async ({ page }) => {
    const pageTitle = await test.step('get title', async () => {
      await page.goto('https://playwright.dev');
      å›å‚³ await page.title();
    });
    console.log(pageTitle);
  });
  ```
  
* Added [test.describe.fixme()](/api/class-test.mdx#test-describe-fixme).
* New `'interrupted'` test status.
* Enable tracing via CLI flag: `npx playwright test --trace=on`.

### å…¬å‘Š
* ğŸ We now ship Ubuntu 22.04 Jammy Jellyfish docker image: `mcr.microsoft.com/playwright:v1.34.0-jammy`.
* ğŸª¦ This is the last release with macOS 10.15 support (deprecated as of 1.21).
* ğŸª¦ This is the last release with Node.js 12 support, we recommend upgrading to Node.js LTS (16).
* âš ï¸ Ubuntu 18 is now deprecated and will not be supported as of Dec 2022.

### ç€è¦½å™¨ç‰ˆæœ¬
* Chromium 105.0.5195.19
* Mozilla Firefox 103.0
* WebKit 16.0

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
* Google Chrome 104
* Microsoft Edge 104

## Version 1.24

<LiteYouTube id="9F05o1shxcY" title="Playwright 1.24" />

### ğŸŒ Multiple Web Servers in `playwright.config.ts`

Launch multiple web servers, databases, or other processes by passing an array of configurations:

```js title="playwright.config.ts"
import { defineConfig } from '@playwright/test';
export default defineConfig({
  webServer: [
    {
      command: 'npm run start',
      url: 'http://127.0.0.1:3000',
      timeout: 120 * 1000,
      reuseExistingServer: !process.env.CI,
    },
    {
      command: 'npm run backend',
      url: 'http://127.0.0.1:3333',
      timeout: 120 * 1000,
      reuseExistingServer: !process.env.CI,
    }
  ],
  use: {
    baseURL: 'http://localhost:3000/',
  },
});
```

### ğŸ‚ Debian 11 Bullseye Support

Playwright ç¾åœ¨æ”¯æ´ Debian 11 Bullseye on x86_64 for Chromium, Firefox and WebKit. å¦‚æœæ‚¨é‡åˆ°ä»»ä½•å•é¡Œï¼Œè«‹å‘Šè¨´æˆ‘å€‘ï¼

Linux support looks like this:

|          | Ubuntu 20.04 | Ubuntu 22.04 | Debian 11
| :--- | :---: | :---: | :---: | :---: |
| Chromium | âœ… | âœ… | âœ… |
| WebKit | âœ… | âœ… | âœ… |
| Firefox | âœ… | âœ… | âœ… |

### ğŸ•µï¸ Anonymous Describe

It is now possible to call [test.describe()](/api/class-test.mdx#test-describe) to create suites without a title. This is useful for giving a group of tests a common é¸é … with [test.use()](/api/class-test.mdx#test-use).

```js
test.describe(() => {
  test.use({ colorScheme: 'dark' });

  test('one', async ({ page }) => {
    // ...
  });

  test('two', async ({ page }) => {
    // ...
  });
});
```

### ğŸ§© Component Tests Update

Playwright 1.24 Component Tests introduce `beforeMount` and `afterMount` hooks. Use these to configure your app for tests.

For example, this could be used to setup App router in Vue.js:

```js title="src/component.spec.ts"
import { test } from '@playwright/experimental-ct-vue';
import { Component } from './mycomponent';

test('should work', async ({ mount }) => {
  const component = await mount(Component, {
    hooksConfig: {
      /* anything to configure your app */
    }
  });
});
```

```js title="playwright/index.ts"
import { router } from '../router';
import { beforeMount } from '@playwright/experimental-ct-vue/hooks';

beforeMount(async ({ app, hooksConfig }) => {
  app.use(router);
});
```

A similar configuration in Next.js would look like this:

```js title="src/component.spec.jsx"
import { test } from '@playwright/experimental-ct-react';
import { Component } from './mycomponent';

test('should work', async ({ mount }) => {
  const component = await mount(<Component></Component>, {
    // Pass mock value from test into `beforeMount`.
    hooksConfig: {
      router: {
        query: { page: 1, per_page: 10 },
        asPath: '/posts'
      }
    }
  });
});
```

```js title="playwright/index.js"
import router from 'next/router';
import { beforeMount } from '@playwright/experimental-ct-react/hooks';

beforeMount(async ({ hooksConfig }) => {
  // Before mount, redefine useRouter to å›å‚³ mock value from test.
  router.useRouter = () => hooksConfig.router;
});
```

## Version 1.23

<LiteYouTube id="NRGOV46P3kU" title="Playwright 1.23" />

### ç¶²è·¯é‡æ’­

Now you can record network traffic into a HAR file and re-use this traffic in your tests.

To record network into HAR file:

```bash
npx playwright open --save-har=github.har.zip https://github.com/microsoft
```

Alternatively, you can record HAR programmatically:

```js
const context = await browser.newContext({
  recordHar: { path: 'github.har.zip' }
});
// ... do stuff ...
await context.close();
```

Use the new methods [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) or [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har) to serve matching responses from the [HAR](http://www.softwareishard.com/blog/har-12-spec/) file:

```js
await context.routeFromHAR('github.har.zip');
```

Read more in [our documentation](./mock.mdx#mocking-with-har-files).

### é€²éšè·¯ç”±

æ‚¨ç¾åœ¨å¯ä»¥ use [route.fallback()](/api/class-route.mdx#route-fallback) to defer routing to other handlers.

Consider the following example:

```js
// Remove a header from all requests.
test.beforeEach(async ({ page }) => {
  await page.route('**/*', async route => {
    const headers = await route.request().allHeaders();
    delete headers['if-none-match'];
    await route.fallback({ headers });
  });
});

test('should work', async ({ page }) => {
  await page.route('**/*', async route => {
    if (route.request().resourceType() === 'image')
      await route.abort();
    else
      await route.fallback();
  });
});
```

Note that the new methods [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) and [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har) also participate in routing and could be deferred to.

### Web-First æ–·è¨€æ›´æ–°
* æ–°æ–¹æ³• [expect(locator).toHaveValues()](/api/class-locatorassertions.mdx#locator-assertions-to-have-values) that asserts all selected values of `<select multiple>` element.
* Methods [expect(locator).toContainText()](/api/class-locatorassertions.mdx#locator-assertions-to-contain-text) and [expect(locator).toHaveText()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text) now accept `ignoreCase` é¸é ….

### å…ƒä»¶æ¸¬è©¦æ›´æ–°
* Support for Vue2 via the [`@playwright/experimental-ct-vue2`](https://www.npmjs.com/package/@playwright/experimental-ct-vue2) package.
* Support for component tests for [create-react-app](https://www.npmjs.com/package/create-react-app) with components in `.js` files.

Read more about [component testing with Playwright](./test-components).

### å…¶ä»–
* If there's a service worker that's in your way, æ‚¨ç¾åœ¨å¯ä»¥ easily disable it with a new context é¸é … `serviceWorkers`:
  
  ```js title="playwright.config.ts"
  export default {
    use: {
      serviceWorkers: 'block',
    }
  };
  ```
  
* Using `.zip` path for `recordHar` context é¸é … automatically zips the resulting HAR:
  
  ```js
  const context = await browser.newContext({
    recordHar: {
      path: 'github.har.zip',
    }
  });
  ```
  
* If you intend to edit HAR by hand, consider using the `"minimal"` HAR recording mode that only records information that is essential for replaying:
  
  ```js
  const context = await browser.newContext({
    recordHar: {
      path: 'github.har',
      mode: 'minimal',
    }
  });
  ```
  
* Playwright now runs on Ubuntu 22 amd64 and Ubuntu 22 arm64. We also publish new docker image `mcr.microsoft.com/playwright:v1.34.0-jammy`.

### âš ï¸ Breaking Changes âš ï¸

WebServer is now considered "ready" if request to the specified url has any of the following HTTP status codes:
* `200-299`
* `300-399` (new)
* `400`, `401`, `402`, `403` (new)

## Version 1.22

<LiteYouTube id="keV2CIgtBlg" title="Playwright 1.22" />

### é‡é»
- Components Testing (preview)
  
  Playwright Test can now test your [React](https://reactjs.org/), [Vue.js](https://vuejs.org/) or [Svelte](https://svelte.dev/) components. You can use all the features of Playwright Test (such as parallelization, emulation & debugging) while running components in real browsers.
  
  Here is what a typical component test looks like:
  
  ```js title="App.spec.tsx"
  import { test, expect } from '@playwright/experimental-ct-react';
  import App from './App';
  
  // Let's test component in a dark scheme!
  test.use({ colorScheme: 'dark' });
  
  test('should render', async ({ mount }) => {
    const component = await mount(<App></App>);
  
    // As with any Playwright test, assert locator text.
    await expect(component).toContainText('React');
    // Or do a screenshot ğŸš€
    await expect(component).toHaveScreenshot();
    // Or use any Playwright æ–¹æ³•
    await component.click();
  });
  ```
  
  Read more in [our documentation](./test-components).
- Role selectors that allow selecting elements by their [ARIA role](https://www.w3.org/TR/wai-aria-1.2/#roles), [ARIA attributes](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) and [accessible name](https://w3c.github.io/accname/#dfn-accessible-name).
  
  ```js
  // Click a button with accessible name "log in"
  await page.locator('role=button[name="log in"]').click();
  ```
  
  Read more in [our documentation](./locators.mdx#locate-by-role).
- New [locator.filter()](/api/class-locator.mdx#locator-filter) API to filter an existing locator
  
  ```js
  const buttons = page.locator('role=button');
  // ...
  const submitButton = buttons.filter({ hasText: 'Submit' });
  await submitButton.click();
  ```
  
- New web-first assertions [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) and [expect(locator).toHaveScreenshot()](/api/class-locatorassertions.mdx#locator-assertions-to-have-screenshot-1) that wait for screenshot stabilization and enhances test reliability.
  
  The new assertions has screenshot-specific defaults, such as:
  * disables animations
  * uses CSS scale é¸é …
  
  ```js
  await page.goto('https://playwright.dev');
  await expect(page).toHaveScreenshot();
  ```
  
  The new [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) saves screenshots at the same location as [expect(value).toMatchSnapshot()](/api/class-snapshotassertions.mdx#snapshot-assertions-to-match-snapshot-1).

## Version 1.21

<LiteYouTube id="45HZdbmgEw8" title="Playwright 1.21" />

### é‡é»
- æ–°çš„è§’è‰²é¸æ“‡å™¨å…è¨±é€é [ARIA è§’è‰²](https://www.w3.org/TR/wai-aria-1.2/#roles)ã€[ARIA å±¬æ€§](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) å’Œ [å¯å­˜å–çš„åç¨±](https://w3c.github.io/accname/#dfn-accessible-name) ä¾†é¸å–å…ƒç´ ã€‚
  
  ```js
  // Click a button with accessible name "log in"
  await page.locator('role=button[name="log in"]').click();
  ```
  
  Read more in [our documentation](./locators.mdx#locate-by-role).
- New `scale` é¸é … in [page.screenshot()](/api/class-page.mdx#page-screenshot) for smaller sized screenshots.
- New `caret` é¸é … in [page.screenshot()](/api/class-page.mdx#page-screenshot) to control text caret. Defaults to `"hide"`.
- æ–°æ–¹æ³• `expect.poll` to wait for an arbitrary condition:
  
  ```js
  // Poll the æ–¹æ³• until it å›å‚³ an expected result.
  await expect.poll(async () => {
    const response = await page.request.get('https://api.example.com');
    å›å‚³ response.status();
  }).toBe(200);
  ```
  
  `expect.poll` supports most synchronous matchers, like `.toBe()`, `.toContain()`, etc. Read more in [our documentation](./test-assertions.mdx#expectpoll).

### è¡Œç‚ºè®Šæ›´
- ESM support when running TypeScript tests is now enabled by default. The `PLAYWRIGHT_EXPERIMENTAL_TS_ESM` env variable is no longer required.
- The `mcr.microsoft.com/playwright` docker image no longer contains Python. Please use `mcr.microsoft.com/playwright/python` as a Playwright-ready docker image with pre-installed Python.
- Playwright ç¾åœ¨æ”¯æ´ large file uploads (100s of MBs) via [locator.setInputFiles()](/api/class-locator.mdx#locator-set-input-files) API.

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 101.0.4951.26
- Mozilla Firefox 98.0.2
- WebKit 15.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 100
- Microsoft Edge 100

## Version 1.20

<LiteYouTube id="6vV-XXKsrbA" title="Playwright 1.20" />

### é‡é»
- æ–°é¸é … for methods [page.screenshot()](/api/class-page.mdx#page-screenshot), [locator.screenshot()](/api/class-locator.mdx#locator-screenshot) and [elementHandle.screenshot()](/api/class-elementhandle.mdx#element-handle-screenshot):
  * é¸é … `animations: "disabled"` rewinds all CSS animations and transitions to a consistent state
  * é¸é … `mask: Locator[]` masks given elements, overlaying them with pink `#FF00FF` boxes.
- `expect().toMatchSnapshot()` ç¾åœ¨æ”¯æ´ anonymous snapshots: when snapshot name is missing, Playwright Test will generate one automatically:
  
  ```js
  expect('Web is Awesome <3').toMatchSnapshot();
  ```
  
- New `maxDiffPixels` and `maxDiffPixelRatio` options for fine-grained screenshot comparison using `expect().toMatchSnapshot()`:
  
  ```js
  expect(await page.screenshot()).toMatchSnapshot({
    maxDiffPixels: 27, // allow no more than 27 different pixels.
  });
  ```
  
  It is most convenient to specify `maxDiffPixels` or `maxDiffPixelRatio` once in [testConfig.expect](/api/class-testconfig.mdx#test-config-expect).
- Playwright Test now adds [testConfig.fullyParallel](/api/class-testconfig.mdx#test-config-fully-parallel) mode. By default, Playwright Test parallelizes between files. In fully parallel mode, tests inside a single file are also run in parallel. You can also use `--fully-parallel` command line flag.
  
  ```js title="playwright.config.ts"
  export default {
    fullyParallel: true,
  };
  ```
  
- [testProject.grep](/api/class-testproject.mdx#test-project-grep) and [testProject.grepInvert](/api/class-testproject.mdx#test-project-grep-invert) are now configurable per project. For example, æ‚¨ç¾åœ¨å¯ä»¥ configure smoke tests project using `grep`:
  
  ```js title="playwright.config.ts"
  export default {
    projects: [
      {
        name: 'smoke tests',
        grep: /@smoke/,
      },
    ],
  };
  ```
  
- [Trace Viewer](./trace-viewer) now shows [API testing requests](./api-testing).
- [locator.highlight()](/api/class-locator.mdx#locator-highlight) visually reveals element(s) for easier debugging.

### å…¬å‘Š
- We now ship a designated Python docker image `mcr.microsoft.com/playwright/python`. Please switch over to it if you use Python. This is the last release that includes Python inside our javascript `mcr.microsoft.com/playwright` docker image.
- v1.20 is the last release to receive WebKit update for macOS 10.15 Catalina. Please update macOS to keep using latest & greatest WebKit!

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 101.0.4921.0
- Mozilla Firefox 97.0.1
- WebKit 15.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 99
- Microsoft Edge 99

## Version 1.19

<LiteYouTube id="z0EOFvlf14U" title="Playwright 1.19" />

### Playwright Test æ›´æ–°
- Playwright Test v1.19 ç¾åœ¨æ”¯æ´ *soft assertions*. Failed soft assertions
  
  **do not** terminate test execution, but mark the test as failed.
  
  ```js
  // Make a few checks that will not stop the test when failed...
  await expect.soft(page.locator('#status')).toHaveText('Success');
  await expect.soft(page.locator('#eta')).toHaveText('1 day');
  
  // ... and continue the test to check more things.
  await page.locator('#next-page').click();
  await expect.soft(page.locator('#title')).toHaveText('Make another order');
  ```
  
  Read more in [our documentation](./test-assertions#soft-assertions)
- æ‚¨ç¾åœ¨å¯ä»¥ specify a **custom expect message** as a second argument to the `expect` and `expect.soft` functions, for example:
  
  ```js
  await expect(page.locator('text=Name'), 'should be logged in').toBeVisible();
  ```
  
  The error would look like this:
  
  ```bash
      Error: should be logged in
  
      Call log:
        - expect.toBeVisible with timeout 5000ms
        - waiting for "getByText('Name')"
  
  
        2 |
        3 | test('example test', async({ page }) => {
      > 4 |   await expect(page.locator('text=Name'), 'should be logged in').toBeVisible();
          |                                                                  ^
        5 | });
        6 |
  ```
  
  Read more in [our documentation](./test-assertions#custom-expect-message)
- é è¨­æƒ…æ³ä¸‹ï¼Œå–®ä¸€æª”æ¡ˆä¸­çš„æ¸¬è©¦æœƒä¾åºåŸ·è¡Œã€‚å¦‚æœæ‚¨åœ¨å–®ä¸€æª”æ¡ˆä¸­æœ‰è¨±å¤šç¨ç«‹çš„æ¸¬è©¦ï¼Œæ‚¨ç¾åœ¨å¯ä»¥ä½¿ç”¨ [test.describe.configure()](/api/class-test.mdx#test-describe-configure) å¹³è¡ŒåŸ·è¡Œå®ƒå€‘ã€‚

### å…¶ä»–æ›´æ–°
- Locator ç¾åœ¨æ”¯æ´ `has` é¸é …ï¼Œç¢ºä¿å®ƒåœ¨å…§éƒ¨åŒ…å«å¦ä¸€å€‹ locatorï¼š
  
  ```js
  await page.locator('article', {
    has: page.locator('.highlight'),
  }).click();
  ```
  
  Read more in [locator documentation](./api/class-locator#locator-locator)
- New [locator.page()](/api/class-locator.mdx#locator-page)
- [page.screenshot()](/api/class-page.mdx#page-screenshot) and [locator.screenshot()](/api/class-locator.mdx#locator-screenshot) now automatically hide blinking caret
- Playwright Codegen now generates locators and frame locators
- æ–°é¸é … `url`  in [testConfig.webServer](/api/class-testconfig.mdx#test-config-web-server) to ensure your web server is ready before running the tests
- New [testInfo.errors](/api/class-testinfo.mdx#test-info-errors) and [testResult.errors](/api/class-testresult.mdx#test-result-errors) that contain all failed assertions and soft assertions.

### Playwright Test å…¨åŸŸè¨­å®šä¸­çš„æ½›åœ¨é‡å¤§è®Šæ›´

It is unlikely that this change will affect you, no action is required if your tests keep running as they did.

We've noticed that in rare cases, the set of tests to be executed was configured in the global setup by means of the environment variables. We also noticed some applications that were post processing the reporters' output in the global teardown. If you are doing one of the two, [learn more](https://github.com/microsoft/playwright/issues/12018)

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 100.0.4863.0
- Mozilla Firefox 96.0.1
- WebKit 15.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 98
- Microsoft Edge 98

## Version 1.18

<LiteYouTube id="ABLYpw2BN_g" title="Playwright 1.18" />

### å®šä½å™¨æ”¹é€²
- [locator.dragTo()](/api/class-locator.mdx#locator-drag-to)
- [`expect(locator).toBeChecked({ checked })`](./api/class-locatorassertions#locator-assertions-to-be-checked)
- Each locator ç¾åœ¨å¯ä»¥ optionally filtered by the text it contains:
  
  ```js
  await page.locator('li', { hasText: 'my item' }).locator('button').click();
  ```
  
  Read more in [locator documentation](./api/class-locator#locator-locator)

### æ¸¬è©¦ API æ”¹é€²
- [`expect(response).toBeOK()`](./test-assertions)
- [`testInfo.attach()`](./api/class-testinfo#test-info-attach)
- [`test.info()`](./api/class-test#test-info)

### æ”¹é€²çš„ TypeScript æ”¯æ´
1. Playwright Test ç¾åœ¨éµå¾ª `tsconfig.json` çš„ [`baseUrl`](https://www.typescriptlang.org/tsconfig#baseUrl) å’Œ [`paths`](https://www.typescriptlang.org/tsconfig#paths)ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨åˆ¥å
1. æœ‰ä¸€å€‹æ–°çš„ç’°å¢ƒè®Šæ•¸ `PW_EXPERIMENTAL_TS_ESM` å…è¨±åœ¨æ‚¨çš„ TS ç¨‹å¼ç¢¼ä¸­åŒ¯å…¥ ESM æ¨¡çµ„ï¼Œç„¡éœ€ç·¨è­¯æ­¥é©Ÿã€‚ç•¶æ‚¨åŒ¯å…¥ esm æ¨¡çµ„æ™‚ï¼Œè«‹ä¸è¦å¿˜è¨˜ `.js` å¾Œç¶´ã€‚åŸ·è¡Œæ¸¬è©¦å¦‚ä¸‹ï¼š

```bash
npm i --save-dev @playwright/test@1.18.0-rc1
PW_EXPERIMENTAL_TS_ESM=1 npx playwright test
```

### å»ºç«‹ Playwright

The `npm init playwright` command is now generally available for your use:

```sh
# Run from your project's root directory
npm init playwright@latest
# Or create a new project
npm init playwright@latest new-project
```

This will create a Playwright Test configuration file, optionally add examples, a GitHub Action workflow and a first test `example.spec.ts`.

### æ–°çš„ API èˆ‡è®Šæ›´
- new [`testCase.repeatEachIndex`](./api/class-testcase#test-case-repeat-each-index) API
- [`acceptDownloads`](./api/class-browser#browser-new-context-é¸é …-accept-downloads) é¸é … now defaults to `true`

### é‡å¤§è®Šæ›´ï¼šè‡ªå®šç¾©é…ç½®é¸é …

Custom config options are a convenient way to parametrize projects with different values. Learn more in [this guide](./test-parameterize#parameterized-projects).

Previously, any fixture introduced through [test.extend()](/api/class-test.mdx#test-extend) could be overridden in the [testProject.use](/api/class-testproject.mdx#test-project-use) config section. For example,

```js
// WRONG: THIS SNIPPET DOES NOT WORK SINCE v1.18.

// fixtures.js
const test = base.extend({
  myParameter: 'default',
});

// playwright.config.js
module.exports = {
  use: {
    myParameter: 'value',
  },
};
```

The proper way to make a fixture parametrized in the config file is to specify `é¸é …: true` when defining the fixture. For example,

```js
// CORRECT: THIS SNIPPET WORKS SINCE v1.18.

// fixtures.js
const test = base.extend({
  // Fixtures marked as "é¸é …: true" will get a value specified in the config,
  // or fallback to the default value.
  myParameter: ['default', { é¸é …: true }],
});

// playwright.config.js
module.exports = {
  use: {
    myParameter: 'value',
  },
};
```

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 99.0.4812.0
- Mozilla Firefox 95.0
- WebKit 15.4

æ­¤ç‰ˆæœ¬ä¹Ÿå°ä»¥ä¸‹ç©©å®šé »é“é€²è¡Œäº†æ¸¬è©¦ï¼š
- Google Chrome 97
- Microsoft Edge 97

## Version 1.17

<LiteYouTube id="7iyIdeoAP04" title="Playwright 1.17" />

### æ¡†æ¶å®šä½å™¨

Playwright 1.17 introduces [frame locators](./api/class-framelocator) - a locator to the iframe on the page. Frame locators capture the logic sufficient to retrieve the `iframe` and then locate elements in that iframe. Frame locators are strict by default, will wait for `iframe` to appear and å¯ä»¥ä½¿ç”¨ in Web-First assertions.

![Graphics](https://user-images.githubusercontent.com/746130/142082759-2170db38-370d-43ec-8d41-5f9941f57d83.png)

Frame locators can be created with either [page.frameLocator()](/api/class-page.mdx#page-frame-locator) or [locator.frameLocator()](/api/class-locator.mdx#locator-frame-locator) æ–¹æ³•.

```js
const locator = page.frameLocator('#my-iframe').locator('text=Submit');
await locator.click();
```

Read more at [our documentation](./api/class-framelocator).

### è¿½è¹¤æª¢è¦–å™¨æ›´æ–°

Playwright Trace Viewer is now **available online** at https://trace.playwright.dev! Just drag-and-drop your `trace.zip` file to inspect its contents.

> **NOTE**: trace files are not uploaded anywhere; [trace.playwright.dev](https://trace.playwright.dev) is a [progressive web application](https://web.dev/progressive-web-apps/) that processes traces locally.
- Playwright Test traces now include sources by default (these could be turned off with tracing é¸é …)
- Trace Viewer now shows test name
- New trace metadata tab with browser details
- Snapshots now have URL bar

![image](https://user-images.githubusercontent.com/746130/141877831-29e37cd1-e574-4bd9-aab5-b13a463bb4ae.png)

### HTML Report Update
- HTML report ç¾åœ¨æ”¯æ´ dynamic filtering
- Report is now a **single static HTML file** that could be sent by e-mail or as a slack attachment.

![image](https://user-images.githubusercontent.com/746130/141877402-e486643d-72c7-4db3-8844-ed2072c5d676.png)

### Ubuntu ARM64 æ”¯æ´èˆ‡æ›´å¤šåŠŸèƒ½
- Playwright ç¾åœ¨æ”¯æ´ **Ubuntu 20.04 ARM64**. æ‚¨ç¾åœ¨å¯ä»¥ run Playwright tests inside Docker on Apple M1 and on Raspberry Pi.
- æ‚¨ç¾åœ¨å¯ä»¥ use Playwright to install stable version of Edge on Linux:
  
  ```bash
  npx playwright install msedge
  ```
  
### æ–°çš„ API
- Tracing ç¾åœ¨æ”¯æ´ a [`'title'`](./api/class-tracing#tracing-start-é¸é …-title) é¸é …
- Page navigations support a new [`'commit'`](./api/class-page#page-goto) waiting é¸é …
- HTML reporter got [new configuration options](./test-reporters#html-reporter)
- [`testConfig.snapshotDir` é¸é …](./api/class-testconfig#test-config-snapshot-dir)
- [`testInfo.parallelIndex`](./api/class-testinfo#test-info-parallel-index)
- [`testInfo.titlePath`](./api/class-testinfo#test-info-title-path)
- [`testOptions.trace`](./api/class-testoptions#test-options-trace) has new options
- [`expect.toMatchSnapshot`](./api/class-genericassertions.mdx) supports subdirectories
- [`reporter.printsToStdio()`](./api/class-reporter#reporter-prints-to-stdio)

## Version 1.16

<LiteYouTube id="OQKwFDmY64g" title="Playwright 1.16" />

### ğŸ­ Playwright Test

#### API Testing

Playwright 1.16 introduces new [API Testing](./api/class-apirequestcontext) that lets you send requests to the server directly from Node.js! Now you can:
- test your server API
- prepare server side state before visiting the web application in a test
- validate server side post-conditions after running some actions in the browser

To do a request on behalf of Playwright's Page, use **new [page.request](/api/class-page.mdx#page-request) API**:

```js
import { test, expect } from '@playwright/test';

test('context fetch', async ({ page }) => {
  // Do a GET request on behalf of page
  const response = await page.request.get('http://example.com/foo.json');
  // ...
});
```

To do a stand-alone request from node.js to an API endpoint, use **new [`request` fixture](./api/class-fixtures#fixtures-request)**:

```js
import { test, expect } from '@playwright/test';

test('context fetch', async ({ request }) => {
  // Do a GET request on behalf of page
  const response = await request.get('http://example.com/foo.json');
  // ...
});
```

Read more about it in our [API testing guide](./api-testing).

#### Response Interception

It is now possible to do response interception by combining [API Testing](./api-testing) with [request interception](./network#modify-requests).

For example, we can blur all the images on the page:

```js
import { test, expect } from '@playwright/test';
import jimp from 'jimp'; // image processing library

test('response interception', async ({ page }) => {
  await page.route('**/*.jpeg', async route => {
    const response = await page._request.fetch(route.request());
    const image = await jimp.read(await response.body());
    await image.blur(5);
    await route.fulfill({
      response,
      body: await image.getBufferAsync('image/jpeg'),
    });
  });
  const response = await page.goto('https://playwright.dev');
  expect(response.status()).toBe(200);
});
```

Read more about [response interception](./network#modify-responses).

#### New HTML reporter

Try it out new HTML reporter with either `--reporter=html` or a `reporter` entry in `playwright.config.ts` file:

```bash
$ npx playwright test --reporter=html
```

The HTML reporter has all the information about tests and their failures, including surfacing trace and image artifacts.

![html reporter](https://user-images.githubusercontent.com/746130/138324311-94e68b39-b51a-4776-a446-f60037a77f32.png)

Read more about [our reporters](./test-reporters#html-reporter).

### ğŸ­ Playwright Library

#### locator.waitFor

Wait for a locator to resolve to a single element with a given state. Defaults to the `state: 'visible'`.

Comes especially handy when working with lists:

```js
import { test, expect } from '@playwright/test';

test('context fetch', async ({ page }) => {
  const completeness = page.locator('text=Success');
  await completeness.waitFor();
  expect(await page.screenshot()).toMatchSnapshot('screen.png');
});
```

Read more about [locator.waitFor()](/api/class-locator.mdx#locator-wait-for).

### Docker support for Arm64

Playwright Docker image is now published for Arm64 so it å¯ä»¥ä½¿ç”¨ on Apple Silicon.

Read more about [Docker integration](./docker).

### ğŸ­ Playwright Trace Viewer
- web-first assertions inside trace viewer
- run trace viewer with `npx playwright show-trace` and drop trace files to the trace viewer PWA
- API testing is integrated with trace viewer
- better visual attribution of action targets

Read more about [Trace Viewer](./trace-viewer).

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 97.0.4666.0
- Mozilla Firefox 93.0
- WebKit 15.4

This version of Playwright was also tested against the following stable channels:
- Google Chrome 94
- Microsoft Edge 94

## Version 1.15

<LiteYouTube id="6RwzsDeEj7Y" title="Playwright 1.15" />

### ğŸ­ Playwright Library

#### ğŸ–±ï¸ Mouse Wheel

By using [mouse.wheel()](/api/class-mouse.mdx#mouse-wheel) you are now able to scroll vertically or horizontally.

#### ğŸ“œ New Headers API

Previously it was not possible to get multiple header values of a response. This is now  possible and additional helper functions are available:
- [request.allHeaders()](/api/class-request.mdx#request-all-headers)
- [request.headersArray()](/api/class-request.mdx#request-headers-array)
- [request.headerValue()](/api/class-request.mdx#request-header-value)
- [response.allHeaders()](/api/class-response.mdx#response-all-headers)
- [response.headersArray()](/api/class-response.mdx#response-headers-array)
- [response.headerValue()](/api/class-response.mdx#response-header-value)
- [response.headerValues()](/api/class-response.mdx#response-header-values)

#### ğŸŒˆ Forced-Colors emulation

Its now possible to emulate the `forced-colors` CSS media feature by passing it in the [browser.newContext()](/api/class-browser.mdx#browser-new-context) or calling [page.emulateMedia()](/api/class-page.mdx#page-emulate-media).

#### æ–°çš„ API
- [page.route()](/api/class-page.mdx#page-route) æ¥å—æ–°çš„ `times` é¸é …ä¾†æŒ‡å®šæ­¤è·¯ç”±æ‡‰åŒ¹é…å¤šå°‘æ¬¡ã€‚
- [page.setChecked()](/api/class-page.mdx#page-set-checked) and [locator.setChecked()](/api/class-locator.mdx#locator-set-checked) were introduced to set the checked state of a checkbox.
- [request.sizes()](/api/class-request.mdx#request-sizes) å›å‚³ resource size information for given http request.
- [tracing.startChunk()](/api/class-tracing.mdx#tracing-start-chunk) - Start a new trace chunk.
- [tracing.stopChunk()](/api/class-tracing.mdx#tracing-stop-chunk) - Stops a new trace chunk.

### ğŸ­ Playwright Test

#### ğŸ¤ `test.parallel()` run tests in the same file in parallel

```js
test.describe.parallel('group', () => {
  test('runs in parallel 1', async ({ page }) => {
  });
  test('runs in parallel 2', async ({ page }) => {
  });
});
```

By default, tests in a single file are run in order. If you have many independent tests in a single file, æ‚¨ç¾åœ¨å¯ä»¥ run them in parallel with [test.describe.parallel(title, callback)](./api/class-test#test-describe-parallel).

#### ğŸ›  Add `--debug` CLI flag

By using `npx playwright test --debug` it will enable the [Playwright Inspector](./debug#playwright-inspector) for you to debug your tests.

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 96.0.4641.0
- Mozilla Firefox 92.0
- WebKit 15.0

## Version 1.14

<LiteYouTube id="LczBDR0gOhk" title="Playwright 1.14" />

### ğŸ­ Playwright Library

#### âš¡ï¸ New "strict" mode

Selector ambiguity is a common problem in automation testing. **"strict" mode** ensures that your selector points to a single element and throws otherwise.

Pass `strict: true` into your action calls to opt in.

```js
// This will throw if you have more than one button!
await page.click('button', { strict: true });
```

#### ğŸ“ New [**Locators API**](./api/class-locator)

Locator represents a view to the element(s) on the page. It captures the logic sufficient to retrieve the element at any given moment.

The difference between the [Locator](./api/class-locator) and [ElementHandle](./api/class-elementhandle) is that the latter points to a particular element, while [Locator](./api/class-locator) captures the logic of how to retrieve that element.

Also, locators are **"strict" by default**!

```js
const locator = page.locator('button');
await locator.click();
```

Learn more in the [documentation](./api/class-locator).

#### ğŸ§© Experimental [**React**](./other-locators.mdx#react-locator) and [**Vue**](./other-locators.mdx#vue-locator) selector engines

React and Vue selectors allow selecting elements by its component name and/or å±¬æ€§ values. The syntax is very similar to [attribute selectors](https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors) and supports all attribute selector operators.

```js
await page.locator('_react=SubmitButton[enabled=true]').click();
await page.locator('_vue=submit-button[enabled=true]').click();
```

Learn more in the [react selectors documentation](./other-locators.mdx#react-locator) and the [vue selectors documentation](./other-locators.mdx#vue-locator).

#### âœ¨ New [**`nth`**](./other-locators.mdx#n-th-element-locator) and [**`visible`**](./other-locators.mdx#css-matching-only-visible-elements) selector engines
- [`nth`](./other-locators.mdx#n-th-element-locator) selector engine is equivalent to the `:nth-match` pseudo class, but could be combined with other selector engines.
- [`visible`](./other-locators.mdx#css-matching-only-visible-elements) selector engine is equivalent to the `:visible` pseudo class, but could be combined with other selector engines.

```js
// select the first button among all buttons
await button.click('button >> nth=0');
// or if you are using locators, you can use first(), nth() and last()
await page.locator('button').first().click();

// click a visible button
await button.click('button >> visible=true');
```

### ğŸ­ Playwright Test

#### âœ… Web-First Assertions

`expect` ç¾åœ¨æ”¯æ´ lots of new web-first assertions.

Consider the following example:

```js
await expect(page.locator('.status')).toHaveText('Submitted');
```

Playwright Test will be re-testing the node with the selector `.status` until fetched Node has the `"Submitted"` text. It will be re-fetching the node and checking it over and over, until the condition is met or until the timeout is reached. You can either pass this timeout or configure it once via the [`testProject.expect`](./api/class-testproject#test-project-expect) value in test config.

By default, the timeout for assertions is not set, so it'll wait forever, until the whole test times out.

List of all new assertions:
- [`expect(locator).toBeChecked()`](./api/class-locatorassertions#locator-assertions-to-be-checked)
- [`expect(locator).toBeDisabled()`](./api/class-locatorassertions#locator-assertions-to-be-disabled)
- [`expect(locator).toBeEditable()`](./api/class-locatorassertions#locator-assertions-to-be-editable)
- [`expect(locator).toBeEmpty()`](./api/class-locatorassertions#locator-assertions-to-be-empty)
- [`expect(locator).toBeEnabled()`](./api/class-locatorassertions#locator-assertions-to-be-enabled)
- [`expect(locator).toBeFocused()`](./api/class-locatorassertions#locator-assertions-to-be-focused)
- [`expect(locator).toBeHidden()`](./api/class-locatorassertions#locator-assertions-to-be-hidden)
- [`expect(locator).toBeVisible()`](./api/class-locatorassertions#locator-assertions-to-be-visible)
- [`expect(locator).toContainText(text, options?)`](./api/class-locatorassertions#locator-assertions-to-contain-text)
- [`expect(locator).toHaveAttribute(name, value)`](./api/class-locatorassertions#locator-assertions-to-have-attribute)
- [`expect(locator).toHaveClass(expected)`](./api/class-locatorassertions#locator-assertions-to-have-class)
- [`expect(locator).toHaveCount(count)`](./api/class-locatorassertions#locator-assertions-to-have-count)
- [`expect(locator).toHaveCSS(name, value)`](./api/class-locatorassertions#locator-assertions-to-have-css)
- [`expect(locator).toHaveId(id)`](./api/class-locatorassertions#locator-assertions-to-have-id)
- [`expect(locator).toHaveJSProperty(name, value)`](./api/class-locatorassertions#locator-assertions-to-have-js-å±¬æ€§)
- [`expect(locator).toHaveText(expected, options)`](./api/class-locatorassertions#locator-assertions-to-have-text)
- [`expect(page).toHaveTitle(title)`](./api/class-pageassertions#page-assertions-to-have-title)
- [`expect(page).toHaveURL(url)`](./api/class-pageassertions#page-assertions-to-have-url)
- [`expect(locator).toHaveValue(value)`](./api/class-locatorassertions#locator-assertions-to-have-value)

#### â›“ Serial mode with [`describe.serial`](./api/class-test#test-describe-serial)

Declares a group of tests that should always be run serially. If one of the tests fails, all subsequent tests are skipped. All tests in a group are retried together.

```js
test.describe.serial('group', () => {
  test('runs first', async ({ page }) => { /* ... */ });
  test('runs second', async ({ page }) => { /* ... */ });
});
```

Learn more in the [documentation](./api/class-test#test-describe-serial).

#### ğŸ¾ Steps API with [`test.step`](./api/class-test#test-step)

Split long tests into multiple steps using `test.step()` API:

```js
import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await test.step('Log in', async () => {
    // ...
  });
  await test.step('news feed', async () => {
    // ...
  });
});
```

Step information is exposed in reporters API.

#### ğŸŒ Launch web server before running tests

To launch a server during the tests, use the [`webServer`](./test-webserver) é¸é … in the configuration file. The server will wait for a given url to be available before running the tests, and the url will be passed over to Playwright as a [`baseURL`](./api/class-testoptions#test-options-base-url) when creating a context.

```js title="playwright.config.ts"
import { defineConfig } from '@playwright/test';
export default defineConfig({
  webServer: {
    command: 'npm run start', // command to launch
    url: 'http://127.0.0.1:3000', // url to await for
    timeout: 120 * 1000,
    reuseExistingServer: !process.env.CI,
  },
});
```

Learn more in the [documentation](./test-webserver).

### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 94.0.4595.0
- Mozilla Firefox 91.0
- WebKit 15.0

## Version 1.13

#### Playwright Test
- **âš¡ï¸ Introducing [Reporter API](https://github.com/microsoft/playwright/blob/65a9037461ffc15d70cdc2055832a0c5512b227c/packages/playwright-test/types/testReporter.d.ts)** which is already used to create an [Allure Playwright reporter](https://github.com/allure-framework/allure-js/pull/297).
- **â›ºï¸ New [`baseURL` fixture](./test-configuration#basic-configuration)** to support relative paths in tests.

#### Playwright
- **ğŸ–– Programmatic drag-and-drop support** via the [page.dragAndDrop()](/api/class-page.mdx#page-drag-and-drop) API.
- **ğŸ” Enhanced HAR** with body sizes for requests and responses. Use via `recordHar` é¸é … in [browser.newContext()](/api/class-browser.mdx#browser-new-context).

#### å·¥å…·
- Playwright Trace Viewer now shows parameters, returned values and `console.log()` calls.
- Playwright Inspector can generate Playwright Test tests.

#### æ–°å¢èˆ‡é‡æ–°ç·¨å¯«çš„æŒ‡å—
- [Intro](./intro.mdx)
- [Authentication](./auth.mdx)
- [Chrome Extensions](./chrome-extensions.mdx)
- [Playwright Test Annotations](./test-annotations.mdx)
- [Playwright Test Configuration](./test-configuration.mdx)
- [Playwright Test Fixtures](./test-fixtures.mdx)

#### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 93.0.4576.0
- Mozilla Firefox 90.0
- WebKit 14.2

#### æ–°çš„ Playwright API
- new `baseURL` é¸é … in [browser.newContext()](/api/class-browser.mdx#browser-new-context) and [browser.newPage()](/api/class-browser.mdx#browser-new-page)
- [response.securityDetails()](/api/class-response.mdx#response-security-details) and [response.serverAddr()](/api/class-response.mdx#response-server-addr)
- [page.dragAndDrop()](/api/class-page.mdx#page-drag-and-drop) and [frame.dragAndDrop()](/api/class-frame.mdx#frame-drag-and-drop)
- [download.cancel()](/api/class-download.mdx#download-cancel)
- [page.inputValue()](/api/class-page.mdx#page-input-value), [frame.inputValue()](/api/class-frame.mdx#frame-input-value) and [elementHandle.inputValue()](/api/class-elementhandle.mdx#element-handle-input-value)
- new `force` é¸é … in [page.fill()](/api/class-page.mdx#page-fill), [frame.fill()](/api/class-frame.mdx#frame-fill), and [elementHandle.fill()](/api/class-elementhandle.mdx#element-handle-fill)
- new `force` é¸é … in [page.selectOption()](/api/class-page.mdx#page-select-é¸é …), [frame.selectOption()](/api/class-frame.mdx#frame-select-é¸é …), and [elementHandle.selectOption()](/api/class-elementhandle.mdx#element-handle-select-é¸é …)

## Version 1.12

#### âš¡ï¸ Introducing Playwright Test

[Playwright Test](./intro.mdx) is a **new test runner** built from scratch by Playwright team specifically to accommodate end-to-end testing needs:
- Run tests across all browsers.
- Execute tests in parallel.
- Enjoy context isolation and sensible defaults out of the box.
- Capture videos, screenshots and other artifacts on failure.
- Integrate your POMs as extensible fixtures.

Installation:

```bash
npm i -D @playwright/test
```

Simple test `tests/foo.spec.ts`:

```js
import { test, expect } from '@playwright/test';

test('basic test', async ({ page }) => {
  await page.goto('https://playwright.dev/');
  const name = await page.innerText('.navbar__title');
  expect(name).toBe('Playwright');
});
```

Running:

```bash
npx playwright test
```

ğŸ‘‰  Read more in [Playwright Test documentation](./intro.mdx).

#### ğŸ§Ÿâ€â™‚ï¸ Introducing Playwright Trace Viewer

[Playwright Trace Viewer](./trace-viewer.mdx) is a new GUI tool that helps exploring recorded Playwright traces after the script ran. Playwright traces let you examine:
- page DOM before and after each Playwright action
- page rendering before and after each Playwright action
- browser network during script execution

Traces are recorded using the new [browserContext.tracing](/api/class-browsercontext.mdx#browser-context-tracing) API:

```js
const browser = await chromium.launch();
const context = await browser.newContext();

// Start tracing before creating / navigating a page.
await context.tracing.start({ screenshots: true, snapshots: true });

const page = await context.newPage();
await page.goto('https://playwright.dev');

// Stop tracing and export it into a zip archive.
await context.tracing.stop({ path: 'trace.zip' });
```

Traces are examined later with the Playwright CLI:

```sh
npx playwright show-trace trace.zip
```

That will open the following GUI:

![image](https://user-images.githubusercontent.com/746130/121109654-d66c4480-c7c0-11eb-8d4d-eb70d2b03811.png)

ğŸ‘‰ Read more in [trace viewer documentation](./trace-viewer.mdx).

#### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 93.0.4530.0
- Mozilla Firefox 89.0
- WebKit 14.2

This version of Playwright was also tested against the following stable channels:
- Google Chrome 91
- Microsoft Edge 91

#### æ–°çš„ API
- `reducedMotion` é¸é … in [page.emulateMedia()](/api/class-page.mdx#page-emulate-media), [browserType.launchPersistentContext()](/api/class-browsertype.mdx#browser-type-launch-persistent-context), [browser.newContext()](/api/class-browser.mdx#browser-new-context) and [browser.newPage()](/api/class-browser.mdx#browser-new-page)
- [browserContext.on('request')](/api/class-browsercontext.mdx#browser-context-event-request)
- [browserContext.on('requestfailed')](/api/class-browsercontext.mdx#browser-context-event-request-failed)
- [browserContext.on('requestfinished')](/api/class-browsercontext.mdx#browser-context-event-request-finished)
- [browserContext.on('response')](/api/class-browsercontext.mdx#browser-context-event-response)
- `tracesDir` é¸é … in [browserType.launch()](/api/class-browsertype.mdx#browser-type-launch) and [browserType.launchPersistentContext()](/api/class-browsertype.mdx#browser-type-launch-persistent-context)
- new [browserContext.tracing](/api/class-browsercontext.mdx#browser-context-tracing) API namespace
- new [download.page()](/api/class-download.mdx#download-page) æ–¹æ³•

## Version 1.11

ğŸ¥  New video: [Playwright: A New Test Automation Framework for the Modern Web](https://youtu.be/_Jla6DyuEu4) ([slides](https://docs.google.com/presentation/d/1xFhZIJrdHkVe2CuMKOrni92HoG2SWslo0DhJJQMR1DI/edit?usp=sharing))
- We talked about Playwright
- Showed engineering work behind the scenes
- Did live demos with new features âœ¨
- **Special thanks** to [applitools](http://applitools.com/) for hosting the event and inviting us!

#### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 92.0.4498.0
- Mozilla Firefox 89.0b6
- WebKit 14.2

#### æ–°çš„ API
- support for **async predicates** across the API in methods such as [page.waitForRequest()](/api/class-page.mdx#page-wait-for-request) and others
- new **emulation devices**: Galaxy S8, Galaxy S9+, Galaxy Tab S4, Pixel 3, Pixel 4
- new methods:
  * [page.waitForURL()](/api/class-page.mdx#page-wait-for-url) to await navigations to URL
  * [video.delete()](/api/class-video.mdx#video-delete) and [video.saveAs()](/api/class-video.mdx#video-save-as) to manage screen recording
- new options:
  * `screen` é¸é … in the [browser.newContext()](/api/class-browser.mdx#browser-new-context) æ–¹æ³• to emulate `window.screen` dimensions
  * `position` é¸é … in [page.check()](/api/class-page.mdx#page-check) and [page.uncheck()](/api/class-page.mdx#page-uncheck) methods
  * `trial` é¸é … to dry-run actions in [page.check()](/api/class-page.mdx#page-check), [page.uncheck()](/api/class-page.mdx#page-uncheck), [page.click()](/api/class-page.mdx#page-click), [page.dblclick()](/api/class-page.mdx#page-dblclick), [page.hover()](/api/class-page.mdx#page-hover) and [page.tap()](/api/class-page.mdx#page-tap)

## Version 1.10
- [Playwright for Java v1.10](https://github.com/microsoft/playwright-java) is **now stable**!
- Run Playwright against **Google Chrome** and **Microsoft Edge** stable channels with the [new channels API](./browsers).
- Chromium screenshots are **fast** on Mac & Windows.

#### Bundled Browser Versions
- Chromium 90.0.4430.0
- Mozilla Firefox 87.0b10
- WebKit 14.2

This version of Playwright was also tested against the following stable channels:
- Google Chrome 89
- Microsoft Edge 89

#### æ–°çš„ API
- [browserType.launch()](/api/class-browsertype.mdx#browser-type-launch) now accepts the new `'channel'` é¸é …. Read more in [our documentation](./browsers).

## Version 1.9
- [Playwright Inspector](./debug.mdx) is a **new GUI tool** to author and debug your tests.
  - **Line-by-line debugging** of your Playwright scripts, with play, pause and step-through.
  - Author new scripts by **recording user actions**.
  - **Generate element selectors** for your script by hovering over elements.
  - Set the `PWDEBUG=1` environment variable to launch the Inspector
- **Pause script execution** with [page.pause()](/api/class-page.mdx#page-pause) in headed mode. Pausing the page launches [Playwright Inspector](./debug.mdx) for debugging.
- **New has-text pseudo-class** for CSS selectors. `:has-text("example")` matches any element containing `"example"` somewhere inside, possibly in a child or a descendant element. See [more examples](./other-locators.mdx#css-matching-by-text).
- **Page dialogs are now auto-dismissed** during execution, unless a listener for `dialog` event is configured. [Learn more](./dialogs.mdx) about this.
- [Playwright for Python](https://github.com/microsoft/playwright-python) is **now stable** with an idiomatic snake case API and pre-built [Docker image](./docker.mdx) to run tests in CI/CD.

#### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 90.0.4421.0
- Mozilla Firefox 86.0b10
- WebKit 14.1

#### æ–°çš„ API
- [page.pause()](/api/class-page.mdx#page-pause).

## Version 1.8
- [Selecting elements based on layout](./other-locators.mdx#css-matching-elements-based-on-layout) with `:left-of()`, `:right-of()`, `:above()` and `:below()`.
- Playwright now includes [command line interface](./test-cli.mdx), former playwright-cli.
  
  ```bash
  npx playwright --help
  ```
  
- [page.selectOption()](/api/class-page.mdx#page-select-é¸é …) now waits for the options to be present.
- æ–°æ–¹æ³• to [assert element state](./actionability#assertions) like [page.isEditable()](/api/class-page.mdx#page-is-editable).

#### æ–°çš„ API
- [elementHandle.isChecked()](/api/class-elementhandle.mdx#element-handle-is-checked).
- [elementHandle.isDisabled()](/api/class-elementhandle.mdx#element-handle-is-disabled).
- [elementHandle.isEditable()](/api/class-elementhandle.mdx#element-handle-is-editable).
- [elementHandle.isEnabled()](/api/class-elementhandle.mdx#element-handle-is-enabled).
- [elementHandle.isHidden()](/api/class-elementhandle.mdx#element-handle-is-hidden).
- [elementHandle.isVisible()](/api/class-elementhandle.mdx#element-handle-is-visible).
- [page.isChecked()](/api/class-page.mdx#page-is-checked).
- [page.isDisabled()](/api/class-page.mdx#page-is-disabled).
- [page.isEditable()](/api/class-page.mdx#page-is-editable).
- [page.isEnabled()](/api/class-page.mdx#page-is-enabled).
- [page.isHidden()](/api/class-page.mdx#page-is-hidden).
- [page.isVisible()](/api/class-page.mdx#page-is-visible).
- æ–°é¸é … `'editable'` in [elementHandle.waitForElementState()](/api/class-elementhandle.mdx#element-handle-wait-for-element-state).

#### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 90.0.4392.0
- Mozilla Firefox 85.0b5
- WebKit 14.1

## Version 1.7
- **New Java SDK**: [Playwright for Java](https://github.com/microsoft/playwright-java) is now on par with [JavaScript](https://github.com/microsoft/playwright), [Python](https://github.com/microsoft/playwright-python) and [.NET bindings](https://github.com/microsoft/playwright-dotnet).
- **Browser storage API**: New convenience APIs to save and load browser storage state (cookies, local storage) to simplify automation scenarios with authentication.
- **New CSS selectors**: We heard your feedback for more flexible selectors and have revamped the selectors implementation. Playwright 1.7 introduces [new CSS extensions](./other-locators.mdx#css-locator) and there's more coming soon.
- **New website**: The docs website at [playwright.dev](https://playwright.dev/) å·²è¢« updated and is now built with [Docusaurus](https://v2.docusaurus.io/).
- **Support for Apple Silicon**: Playwright browser binaries for WebKit and Chromium are now built for Apple Silicon.

#### æ–°çš„ API
- [browserContext.storageState()](/api/class-browsercontext.mdx#browser-context-storage-state) to get current state for later reuse.
- `storageState` é¸é … in [browser.newContext()](/api/class-browser.mdx#browser-new-context) and [browser.newPage()](/api/class-browser.mdx#browser-new-page) to setup browser context state.

#### ç€è¦½å™¨ç‰ˆæœ¬
- Chromium 89.0.4344.0
- Mozilla Firefox 84.0b9
- WebKit 14.1


[Accessibility]: /api/class-accessibility.mdx "Accessibility"
[Android]: /api/class-android.mdx "Android"
[AndroidDevice]: /api/class-androiddevice.mdx "AndroidDevice"
[AndroidInput]: /api/class-androidinput.mdx "AndroidInput"
[AndroidSocket]: /api/class-androidsocket.mdx "AndroidSocket"
[AndroidWebView]: /api/class-androidwebview.mdx "AndroidWebView"
[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserServer]: /api/class-browserserver.mdx "BrowserServer"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Coverage]: /api/class-coverage.mdx "Coverage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[Electron]: /api/class-electron.mdx "Electron"
[ElectronApplication]: /api/class-electronapplication.mdx "ElectronApplication"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[GenericAssertions]: /api/class-genericassertions.mdx "GenericAssertions"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Logger]: /api/class-logger.mdx "Logger"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[PlaywrightAssertions]: /api/class-playwrightassertions.mdx "PlaywrightAssertions"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[SnapshotAssertions]: /api/class-snapshotassertions.mdx "SnapshotAssertions"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Fixtures]: /api/class-fixtures.mdx "Fixtures"
[FullConfig]: /api/class-fullconfig.mdx "FullConfig"
[FullProject]: /api/class-fullproject.mdx "FullProject"
[Location]: /api/class-location.mdx "Location"
[Test]: /api/class-test.mdx "Test"
[TestConfig]: /api/class-testconfig.mdx "TestConfig"
[TestInfo]: /api/class-testinfo.mdx "TestInfo"
[TestInfoError]: /api/class-testinfoerror.mdx "TestInfoError"
[TestOptions]: /api/class-testoptions.mdx "TestOptions"
[TestProject]: /api/class-testproject.mdx "TestProject"
[TestStepInfo]: /api/class-teststepinfo.mdx "TestStepInfo"
[WorkerInfo]: /api/class-workerinfo.mdx "WorkerInfo"
[Reporter]: /api/class-reporter.mdx "Reporter"
[Suite]: /api/class-suite.mdx "Suite"
[TestCase]: /api/class-testcase.mdx "TestCase"
[TestError]: /api/class-testerror.mdx "TestError"
[TestResult]: /api/class-testresult.mdx "TestResult"
[TestStep]: /api/class-teststep.mdx "TestStep"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[Array]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array "Array"
[boolean]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type "Boolean"
[Buffer]: https://nodejs.org/api/buffer.html#buffer_class_buffer "Buffer"
[ChildProcess]: https://nodejs.org/api/child_process.html "ChildProcess"
[Date]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date "Date"
[Error]: https://nodejs.org/api/errors.html#errors_class_error "Error"
[EventEmitter]: https://nodejs.org/api/events.html#events_class_eventemitter "EventEmitter"
[function]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function "Function"
[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData "FormData"
[Map]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map "Map"
[Metadata]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object&lt;string, any&gt;"
[null]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null "null"
[number]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type "Number"
[Object]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[Readable]: https://nodejs.org/api/stream.html#stream_class_stream_readable "Readable"
[ReadStream]: https://nodejs.org/api/fs.html#class-fsreadstream "ReadStream"
[RegExp]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp "RegExp"
[string]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type "string"
[void]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined "void"
[URL]: https://nodejs.org/api/url.html "URL"
[URLSearchParams]: https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams "URLSearchParams"

[all available image tags]: https://mcr.microsoft.com/en-us/product/playwright/about "all available image tags"
[Microsoft Artifact Registry]: https://mcr.microsoft.com/en-us/product/playwright/about "Microsoft Artifact Registry"
[Dockerfile.noble]: https://github.com/microsoft/playwright/blob/main/utils/docker/Dockerfile.noble "Dockerfile.noble"
