---
id: release-notes
title: "發行說明"
toc_max_heading_level: 2
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import HTMLCard from '@site/src/components/HTMLCard';
import ProgressiveImage from '@theme/ProgressiveImage';

import LiteYouTube from '@site/src/components/LiteYouTube';

## 版本 1.55

### 新的 API
- 新屬性 [testStepInfo.titlePath](/api/class-teststepinfo.mdx#test-step-info-title-path) 回傳從測試檔案開始的完整標題路徑，包含測試和步驟標題。

### 錄製測試
- 自動 `toBeVisible()` 斷言：Codegen 現在可以為常見的 UI 互動產生自動 `toBeVisible()` 斷言。此功能可以在 Codegen 設定 UI 中啟用。

### 重大變更
- ⚠️ 已移除對 Chromium 擴充功能 manifest v2 的支援。

### 其他
- 新增對 Debian 13 "Trixie" 的支援。

### 瀏覽器版本
- Chromium 140.0.7339.16
- Mozilla Firefox 141.0
- WebKit 26.0

此版本也對以下穩定頻道進行了測試：
- Google Chrome 139
- Microsoft Edge 139

## 版本 1.54

### 重點
- 在 [browserContext.cookies()](/api/class-browsercontext.mdx#browser-context-cookies) 和 [browserContext.addCookies()](/api/class-browsercontext.mdx#browser-context-add-cookies) 中新增 cookie 屬性 `partitionKey`。此屬性允許儲存和還原分割的 cookies。請參閱 [CHIPS MDN 文章](https://developer.mozilla.org/en-US/docs/Web/Privacy/Guides/Privacy_sandbox/Partitioned_cookies) 以取得更多資訊。請注意，瀏覽器對 cookie 分割有不同的支援和預設值。
- 新選項 `noSnippets` 用於在 html 報告中停用程式碼片段。
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    reporter: [['html', { noSnippets: true }]]
  });
  ```
  
- 測試註釋中的新屬性 `location`，例如在 [testResult.annotations](/api/class-testresult.mdx#test-result-annotations) 和 [testInfo.annotations](/api/class-testinfo.mdx#test-info-annotations) 中。它顯示像 `test.skip` 或 `test.fixme` 這樣的註釋是在何處新增的。

### 命令列
- 在多個指令中新增選項 `--user-data-dir`。您可以指定相同的使用者資料目錄來重複使用瀏覽狀態，例如驗證，在不同的會話之間。
  
  ```bash
  npx playwright codegen --user-data-dir=./user-data
  ```
  
- 選項 `-gv` 已從 `npx playwright test` 指令中移除。請改用 `--grep-invert`。
- `npx playwright open` 不再開啟測試錄製器。請改用 `npx playwright codegen`。

### 其他
- 已移除對 Node.js 16 的支援。
- 已棄用對 Node.js 18 的支援，將來會移除。

### 瀏覽器版本
- Chromium 139.0.7258.5
- Mozilla Firefox 140.0.2
- WebKit 26.0

此版本也對以下穩定頻道進行了測試：
- Google Chrome 140
- Microsoft Edge 140

## 版本 1.53

### 追蹤檢視器和 HTML 報告器更新
- 追蹤檢視器和 HTML 報告器中的新步驟：![新的追蹤檢視器步驟](https://github.com/user-attachments/assets/1963ff7d-4070-41be-a79b-4333176921a2)
- `'html'` 報告器中的新選項用於設定特定測試執行的標題：
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    reporter: [['html', { title: 'Custom test run #1028' }]]
  });
  ```
  
### 其他
- [testInfo.snapshotPath()](/api/class-testinfo.mdx#test-info-snapshot-path) 中的新選項 [kind](/api/class-testinfo.mdx#test-info-snapshot-path-選項-kind) 控制使用哪個快照路徑範本。
- 新方法 [locator.describe()](/api/class-locator.mdx#locator-describe) 用於描述定位器。用於追蹤檢視器和報告。
  
  ```js
  const button = page.getByTestId('btn-sub').describe('Subscribe button');
  await button.click();
  ```
  
- `npx playwright install --list` 現在會列出所有已安裝的瀏覽器、版本和位置。

### 瀏覽器版本
- Chromium 138.0.7204.4
- Mozilla Firefox 139.0
- WebKit 18.5

此版本也對以下穩定頻道進行了測試：
- Google Chrome 137
- Microsoft Edge 137

## 版本 1.52

### 重點
- 新方法 [expect(locator).toContainClass()](/api/class-locatorassertions.mdx#locator-assertions-to-contain-class) 用於人體工學地斷言元素上的個別類別名稱。
  
  ```ts
  await expect(page.getByRole('listitem', { name: 'Ship v1.52' })).toContainClass('done');
  ```
  
- [Aria 快照](./aria-snapshots.mdx) 獲得了兩個新屬性：[`/children`](./aria-snapshots.mdx#strict-matching) 用於嚴格比對，以及 `/url` 用於連結。
  
  ```ts
  await expect(locator).toMatchAriaSnapshot(`
    - list
      - /children: equal
      - listitem: Feature A
      - listitem:
        - link "Feature B":
          - /url: "https://playwright.dev"
  `);
  ```
  
### 測試執行器
- 新屬性 [testProject.workers](/api/class-testproject.mdx#test-project-workers) 允許指定用於測試專案的並行工作程序數量。屬性 [testConfig.workers](/api/class-testconfig.mdx#test-config-workers) 的全域限制仍然適用。
- 新選項 [testConfig.failOnFlakyTests](/api/class-testconfig.mdx#test-config-fail-on-flaky-tests) 如果檢測到任何不穩定測試，則測試執行失敗，類似於 `--fail-on-flaky-tests`。這對於您希望在部署前確保所有測試穩定的 CI/CD 環境很有用。
- 新屬性 [testResult.annotations](/api/class-testresult.mdx#test-result-annotations) 包含每次測試重試的註釋。

### 其他
- [apiRequest.newContext()](/api/class-apirequest.mdx#api-request-new-context) 中的新選項 [maxRedirects](/api/class-apirequest.mdx#api-request-new-context-選項-max-redirects) 用於控制重新導向的最大數量。
- HTML 報告器現在支援透過 `!@my-tag` 或 `!my-file.spec.ts` 或 `!p:my-project` 進行 *反向篩選*。

### 重大變更
- 方法如 [page.route()](/api/class-page.mdx#page-route) 中的 Glob URL 模式不再支援 `?` 和 `[]`。我們建議改用正規表示式。
- 方法 [route.continue()](/api/class-route.mdx#route-continue) 不再允許覆寫 `Cookie` 標頭。如果提供了 `Cookie` 標頭，它將被忽略，cookie 將從瀏覽器的 cookie 儲存載入。要設定自訂 cookies，請使用 [browserContext.addCookies()](/api/class-browsercontext.mdx#browser-context-add-cookies)。
- macOS 13 現在已棄用，將不再接收 WebKit 更新。請升級到更新的 macOS 版本，以繼續受益於最新的 WebKit 改進。

### 瀏覽器版本
- Chromium 136.0.7103.25
- Mozilla Firefox 137.0
- WebKit 18.4

此版本也對以下穩定頻道進行了測試：
- Google Chrome 135
- Microsoft Edge 135

## 版本 1.51

### IndexedDB 的 StorageState
* [browserContext.storageState()](/api/class-browsercontext.mdx#browser-context-storage-state) 的新選項 [indexedDB](/api/class-browsercontext.mdx#browser-context-storage-state-選項-indexed-db) 允許儲存和還原 IndexedDB 內容。當您的應用程式使用 [IndexedDB API](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API) 儲存驗證權杖（如 Firebase 驗證）時很有用。
  
  這是一個遵循[驗證指南](./auth.mdx#basic-shared-account-in-all-tests)的範例：
  
  ```js title="tests/auth.setup.ts"
  import { test as setup, expect } from '@playwright/test';
  import path from 'path';
  
  const authFile = path.join(__dirname, '../playwright/.auth/user.json');
  
  setup('authenticate', async ({ page }) => {
    await page.goto('/');
    // ... perform authentication steps ...
  
    // make sure to save indexedDB
    await page.context().storageState({ path: authFile, indexedDB: true });
  });
  ```
  
### 複製為提示

HTML 報告、追蹤檢視器和 UI 模式中錯誤上的新「複製提示」按鈕。點擊以複製包含錯誤訊息和修復錯誤有用內容的預填充 LLM 提示。

![複製提示](https://github.com/user-attachments/assets/f3654407-dd6d-4240-9845-0d96df2bf30a)

### 篩選可見元素

[locator.filter()](/api/class-locator.mdx#locator-filter) 的新選項 [visible](/api/class-locator.mdx#locator-filter-選項-visible) 允許僅比對可見元素。

```js title="example.spec.ts"
test('some test', async ({ page }) => {
  // 忽略不可見的待辦事項。
  const todoItems = page.getByTestId('todo-item').filter({ visible: true });
  // 檢查確實有 3 個可見的項目。
  await expect(todoItems).toHaveCount(3);
});
```

### HTML 報告中的 Git 資訊

設定選項 [testConfig.captureGitInfo](/api/class-testconfig.mdx#test-config-capture-git-info) 以將 git 資訊擷取到 [testConfig.metadata](/api/class-testconfig.mdx#test-config-metadata) 中。

```js title="playwright.config.ts"
import { defineConfig } from '@playwright/test';

export default defineConfig({
  captureGitInfo: { commit: true, diff: true }
});
```

HTML 報告將在可用時顯示此資訊：

![Git information in the report](https://github.com/user-attachments/assets/f5b3f6f4-aa08-4a24-816c-7edf33ef0c37)

### 測試步驟改進

新的 [TestStepInfo] 物件現在可在測試步驟中使用。您可以新增步驟附件或在某些條件下跳過步驟。

```js
test('some test', async ({ page, isMobile }) => {
  // Note the new "step" argument:
  await test.step('here is my step', async step => {
    step.skip(isMobile, 'not relevant on mobile layouts');

    // ...
    await step.attach('my attachment', { body: 'some text' });
    // ...
  });
});
```

### 其他
* 新選項 `contrast` 適用於方法 [page.emulateMedia()](/api/class-page.mdx#page-emulate-media) 和 [browser.newContext()](/api/class-browser.mdx#browser-new-context)，可模擬 `prefers-contrast` 媒體功能。
* 新選項 [failOnStatusCode](/api/class-apirequest.mdx#api-request-new-context-選項-fail-on-status-code) 讓所有透過 [APIRequestContext] 發出的 fetch 請求在回應碼不是 2xx 和 3xx 時拋出例外。
* 斷言 [expect(page).toHaveURL()](/api/class-pageassertions.mdx#page-assertions-to-have-url) 現在支援述詞（predicate）。

### 瀏覽器版本
* Chromium 134.0.6998.35
* Mozilla Firefox 135.0
* WebKit 18.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 133
* Microsoft Edge 133

## 版本 1.50

### 測試執行器
* 新選項 [timeout](/api/class-test.mdx#test-step-選項-timeout) 允許指定個別測試步驟的最大執行時間。逾時的步驟將導致測試執行失敗。
  
  ```js
  test('some test', async ({ page }) => {
    await test.step('a step', async () => {
      // This step can time out separately from the test
    }, { timeout: 1000 });
  });
  ```
  
* 新方法 [test.step.skip()](/api/class-test.mdx#test-step-skip) 可停用測試步驟的執行。
  
  ```js
  test('some test', async ({ page }) => {
    await test.step('before running step', async () => {
      // Normal step
    });
  
    await test.step.skip('not yet ready', async () => {
      // This step is skipped
    });
  
    await test.step('after running step', async () => {
      // This step still runs even though the previous one was skipped
    });
  });
  ```
  
* 擴展了 [expect(locator).toMatchAriaSnapshot()](/api/class-locatorassertions.mdx#locator-assertions-to-match-aria-snapshot-2) 以允許將 aria 快照儲存在獨立的 YAML 檔案中。
* 新增方法 [expect(locator).toHaveAccessibleErrorMessage()](/api/class-locatorassertions.mdx#locator-assertions-to-have-accessible-error-message) 用來斷言定位器指向具有指定 [aria errormessage](https://w3c.github.io/aria/#aria-errormessage) 的元素。
* 選項 [testConfig.updateSnapshots](/api/class-testconfig.mdx#test-config-update-snapshots) 新增了設定列舉值 `changed`。`changed` 只更新已變更的快照，而 `all` 現在會更新所有快照，無論是否有任何差異。
* 新選項 [testConfig.updateSourceMethod](/api/class-testconfig.mdx#test-config-update-source-方法) 定義當配置 [testConfig.updateSnapshots](/api/class-testconfig.mdx#test-config-update-snapshots) 時更新原始碼的方式。新增了將變更寫入原始碼的 `overwrite` 和 `3-way` 模式，除了現有建立補丁檔案的 `patch` 模式。
  
  ```bash
  npx playwright test --update-snapshots=changed --update-source-方法=3way
  ```
  
* 選項 [testConfig.webServer](/api/class-testconfig.mdx#test-config-web-server) 新增了 `gracefulShutdown` 欄位，用於指定除預設 `SIGKILL` 之外的程序終止信號。
* 從報告器 API 公開了 [testStep.attachments](/api/class-teststep.mdx#test-step-attachments)，以允許檢索該步驟建立的所有附件。
* 新選項 `pathTemplate` 用於 [testConfig.expect](/api/class-testconfig.mdx#test-config-expect) 設定中的 `toHaveScreenshot` 和 `toMatchAriaSnapshot` 斷言。

### UI 更新
* 更新了預設 HTML 報告器以改善附件的顯示。
* Codegen 中用於選擇元素以產生 aria 快照的新按鈕。
* 現在在追蹤中的動作 API 呼叫旁邊顯示額外的詳細資訊（例如按下的按鍵）。
* 在追蹤中顯示 `canvas` 內容容易出錯。顯示功能現在預設停用，可透過 `Display canvas content` UI 設定啟用。
* `Call` 和 `Network` 面板現在顯示額外的時間資訊。

### 重大變更
* [expect(locator).toBeEditable()](/api/class-locatorassertions.mdx#locator-assertions-to-be-editable) 和 [locator.isEditable()](/api/class-locator.mdx#locator-is-editable) 現在如果目標元素不是 `<input>`、`<select>` 或其他可編輯元素會拋出例外。
* 選項 [testConfig.updateSnapshots](/api/class-testconfig.mdx#test-config-update-snapshots) 當設定為 `all` 時現在會更新所有快照，而不是只更新失敗/變更的快照。使用新的枚舉 `changed` 來保持只更新變更快照的舊功能。

### 瀏覽器版本
* Chromium 133.0.6943.16
* Mozilla Firefox 134.0
* WebKit 18.2

此版本也對以下穩定頻道進行了測試：
* Google Chrome 132
* Microsoft Edge 132

## 版本 1.49

<LiteYouTube id="S5wCft-ImKk" title="Playwright 1.49" />

### Aria 快照

新斷言 [expect(locator).toMatchAriaSnapshot()](/api/class-locatorassertions.mdx#locator-assertions-to-match-aria-snapshot) 透過與預期的無障礙樹（以 YAML 表示）比較來驗證頁面結構。

```js
await page.goto('https://playwright.dev');
await expect(page.locator('body')).toMatchAriaSnapshot(`
  - banner:
    - heading /Playwright enables reliable/ [level=1]
    - link "Get started"
    - link "Star microsoft/playwright on GitHub"
  - main:
    - img "Browsers (Chromium, Firefox, WebKit)"
    - heading "Any browser • Any platform • One API"
`);
```

您可以使用 [Test Generator](./codegen) 產生這個斷言，並使用 `--update-snapshots` 命令列參數更新預期的快照。

在[aria 快照指南](./aria-snapshots)中了解更多。

### 測試執行器
- 新選項 [testConfig.tsconfig](/api/class-testconfig.mdx#test-config-tsconfig) 允許指定單一 `tsconfig` 供所有測試使用。
- 新方法 [test.fail.only()](/api/class-test.mdx#test-fail-only) 用於專注於失敗的測試。
- 選項 [testConfig.globalSetup](/api/class-testconfig.mdx#test-config-global-setup) 和 [testConfig.globalTeardown](/api/class-testconfig.mdx#test-config-global-teardown) 現在支援多個設定/清理。
- [testOptions.screenshot](/api/class-testoptions.mdx#test-options-screenshot) 的新值 `'on-first-failure'`。
- 在 HTML 報告中新增「上一個」和「下一個」按鈕，可快速切換測試案例。
- 新屬性 [testInfoError.cause](/api/class-testinfoerror.mdx#test-info-error-cause) 和 [testError.cause](/api/class-testerror.mdx#test-error-cause) 對應 [`Error.cause`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/cause)。

### Breaking: `chrome` 和 `msedge` 頻道切換到新的無頭模式

如果您在 `playwright.config.ts` 中使用以下任一通道，此變更會影響您：
- `chrome`, `chrome-dev`, `chrome-beta`, or `chrome-canary`
- `msedge`, `msedge-dev`, `msedge-beta`, or `msedge-canary`

#### 我需要做什麼？

更新到 Playwright v1.49 後，執行您的測試套件。如果仍然通過，您就可以繼續。如果沒有，您可能需要更新快照，並調整一些關於 PDF 檢視器和擴充功能的測試程式碼。請參閱 [issue #33566](https://github.com/microsoft/playwright/issues/33566) 以取得更多詳細資訊。

### 其他重大變更
- Ubuntu 20.04 和 Debian 11 的 WebKit 將不再有更新。建議將您的作業系統更新到更新版本。
- 套件 `@playwright/experimental-ct-vue2` 將不再更新。
- 套件 `@playwright/experimental-ct-solid` 將不再更新。

### 嘗試新的 Chromium 無頭模式

您可以透過使用 `'chromium'` 頻道選擇新的無頭模式。如 [官方 Chrome 文件所述](https://developer.chrome.com/blog/chrome-headless-shell)：

> 另一方面，新的無頭模式是真正的 Chrome 瀏覽器，因此更真實、可靠，並提供更多功能。這使其更適合高精度的端到端網頁應用程式測試或瀏覽器擴充功能測試。

請參閱...以取得更多詳細資訊.

### 測試執行器
- 新的 CLI 選項 `--fail-on-flaky-tests` 會在任何不穩定測試時將結束代碼設為 `1`。請注意，預設情況下，當所有失敗的測試在重試後恢復時，測試執行器會以代碼 `0` 結束。使用此選項時，在這種情況下測試執行將失敗。
- 新的環境變數 `PLAYWRIGHT_FORCE_TTY` 控制內建 `list`、`line` 和 `dot` 報告器是否假設為即時終端。例如，當您的 CI 環境無法良好處理 ANSI 控制序列時，這可能有助於停用 tty 行為。或者，即使沒有即時終端存在，如果您計劃後處理輸出並處理控制序列，您也可以啟用 tty 行為。
  
  ```sh
  # Avoid TTY features that output ANSI control sequences
  PLAYWRIGHT_FORCE_TTY=0 npx playwright test
  
  # Enable TTY features, assuming a terminal width 80
  PLAYWRIGHT_FORCE_TTY=80 npx playwright test
  ```
  
- 新選項 [testConfig.respectGitIgnore](/api/class-testconfig.mdx#test-config-respect-git-ignore) 和 [testProject.respectGitIgnore](/api/class-testproject.mdx#test-project-respect-git-ignore) 控制在搜尋測試時是否排除符合 `.gitignore` 模式的檔案。
- 新屬性 `timeout` 現在可用於自定義預期比對器。此屬性會考慮 `playwright.config.ts` 和 `expect.configure()`。
  
  ```js
  import { expect as baseExpect } from '@playwright/test';
  
  export const expect = baseExpect.extend({
    async toHaveAmount(locator: Locator, expected: number, options?: { timeout?: number }) {
      // 當未指定 timeout 選項時，使用配置的 timeout。
      const timeout = options?.timeout ?? this.timeout;
      // ... implement the assertion ...
    },
  });
  ```
  
### 其他
- 方法 [locator.setInputFiles()](/api/class-locator.mdx#locator-set-input-files) 現在支援為 `<input type=file webkitdirectory>` 元素上傳目錄。
  
  ```js
  await page.getByLabel('Upload directory').setInputFiles(path.join(__dirname, 'mydir'));
  ```
  
- 多個方法（如 [locator.click()](/api/class-locator.mdx#locator-click) 或 [locator.press()](/api/class-locator.mdx#locator-press)）現在支援 `ControlOrMeta` 修飾鍵。此鍵在 macOS 上對應到 `Meta`，在 Windows 和 Linux 上對應到 `Control`。
  
  ```js
  // Press the common keyboard shortcut Control+S or Meta+S to trigger a "Save" operation.
  await page.keyboard.press('ControlOrMeta+S');
  ```
  
- 新屬性 `httpCredentials.send` 在 [apiRequest.newContext()](/api/class-apirequest.mdx#api-request-new-context) 中，允許永遠傳送 `Authorization` 標頭，或僅在回應 `401 Unauthorized` 時傳送。
- 新選項 `reason` 在 [apiRequestContext.dispose()](/api/class-apirequestcontext.mdx#api-request-context-dispose) 中會包含在因內容處置中斷的持續操作的錯誤訊息中。
- 新選項 `host` 在 [browserType.launchServer()](/api/class-browsertype.mdx#browser-type-launch-server) 中允許在特定位址上接受 websocket 連線，而非未指定的 `0.0.0.0`。
- Playwright 現在支援在 Ubuntu 24.04 上的 Chromium、Firefox 和 WebKit。
- v1.45 是最後一個為 macOS 12 Monterey 接收 WebKit 更新的版本。請更新 macOS 以繼續使用最新的 WebKit。

### 瀏覽器版本
* Chromium 127.0.6533.5
* Mozilla Firefox 127.0
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 126
* Microsoft Edge 126

## 版本 1.44

<LiteYouTube id="avjSahFWdCI" title="Playwright 1.44" />

### 新的 API

**無障礙斷言**
- [expect(locator).toHaveAccessibleName()](/api/class-locatorassertions.mdx#locator-assertions-to-have-accessible-name) 檢查元素是否具有指定的無障礙名稱：
  
  ```js
  const locator = page.getByRole('button');
  await expect(locator).toHaveAccessibleName('Submit');
  ```
  
- [expect(locator).toHaveAccessibleDescription()](/api/class-locatorassertions.mdx#locator-assertions-to-have-accessible-description) 檢查元素是否具有指定的無障礙描述：
  
  ```js
  const locator = page.getByRole('button');
  await expect(locator).toHaveAccessibleDescription('Upload a photo');
  ```
  
- [expect(locator).toHaveRole()](/api/class-locatorassertions.mdx#locator-assertions-to-have-role) 檢查元素是否具有指定的 ARIA 角色：
  
  ```js
  const locator = page.getByTestId('save-button');
  await expect(locator).toHaveRole('button');
  ```
  
**定位器處理器**
- 執行使用 [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) 新增的處理器後，Playwright 現在會等待直到觸發處理器的覆蓋層不再可見。您可以使用新的 `noWaitAfter` 選項退出此行為。
- 您可以在 [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) 中使用新的 `times` 選項來指定處理器應執行的最大次數。
- [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) 中的處理器現在接受 locator 作為參數。
- 新的 [page.removeLocatorHandler()](/api/class-page.mdx#page-remove-locator-handler) 方法用於移除先前新增的 locator 處理器。

```js
const locator = page.getByText('This interstitial covers the button');
await page.addLocatorHandler(locator, async overlay => {
  await overlay.locator('#close').click();
}, { times: 3, noWaitAfter: true });
// Run your tests that can be interrupted by the overlay.
// ...
await page.removeLocatorHandler(locator);
```

**其他選項**
- [`multipart`](./api/class-apirequestcontext#api-request-context-fetch-選項-multipart) 選項在 `apiRequestContext.fetch()` 中現在接受 [`FormData`](https://developer.mozilla.org/en-US/docs/Web/API/FormData) 並支援具有相同名稱的重複欄位。
  
  ```js
  const formData = new FormData();
  formData.append('file', new File(['let x = 2024;'], 'f1.js', { type: 'text/javascript' }));
  formData.append('file', new File(['hello'], 'f2.txt', { type: 'text/plain' }));
  context.request.post('https://example.com/uploadFiles', {
    multipart: formData
  });
  ```
  
- `expect(callback).toPass({ intervals })` 現在可以透過 `expect.toPass.intervals` 選項在 [testConfig.expect](/api/class-testconfig.mdx#test-config-expect) 中全域配置或在 [testProject.expect](/api/class-testproject.mdx#test-project-expect) 中按專案配置。
- `expect(page).toHaveURL(url)` 現在支援 `ignoreCase` [選項](./api/class-pageassertions#page-assertions-to-have-url-選項-ignore-case).
- [testProject.ignoreSnapshots](./api/class-testproject#test-project-ignore-snapshots) 允許按專案配置是否跳過截圖預期。

**報告器 API**
- 新方法 [suite.entries()](/api/class-suite.mdx#suite-entries) 按照宣告順序回傳子測試套件和測試案例。[suite.type](/api/class-suite.mdx#suite-type) 和 [testCase.type](/api/class-testcase.mdx#test-case-type) 可以用來在清單中區分測試案例和套件。
- [Blob](./test-reporters#blob-reporter) 報告器現在允許使用單一選項 `outputFile` 覆寫報告檔案路徑。同一選項也可以指定為 `PLAYWRIGHT_BLOB_OUTPUT_FILE` 環境變數，這在 CI/CD 上可能更方便。
- [JUnit](./test-reporters#junit-reporter) 報告器現在支援 `includeProjectInTestName` 選項。

**命令列**
- `--last-failed` CLI 選項用於僅執行上次執行中失敗的測試。
  
  首先執行所有測試：
  
  ```sh
  $ npx playwright test
  
  Running 103 tests using 5 workers
  ...
  2 failed
    [chromium] › my-test.spec.ts:8:5 › two ─────────────────────────────────────────────────────────
    [chromium] › my-test.spec.ts:13:5 › three ──────────────────────────────────────────────────────
  101 passed (30.0s)
  ```
  
  Now fix the failing tests and run Playwright again with `--last-failed` 選項:
  
  ```sh
  $ npx playwright test --last-failed
  
  Running 2 tests using 2 workers
    2 passed (1.2s)
  ```
  
### 瀏覽器版本
* Chromium 125.0.6422.14
* Mozilla Firefox 125.0.1
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 124
* Microsoft Edge 124

## 版本 1.43

### 新的 API
- 方法 [browserContext.clearCookies()](/api/class-browsercontext.mdx#browser-context-clear-cookies) 現在支援篩選器以僅移除部分 cookies。
  
  ```js
  // Clear all cookies.
  await context.clearCookies();
  // New: clear cookies with a particular name.
  await context.clearCookies({ name: 'session-id' });
  // New: clear cookies for a particular domain.
  await context.clearCookies({ domain: 'my-origin.com' });
  ```
  
- 新模式 `retain-on-first-failure` 用於 [testOptions.trace](/api/class-testoptions.mdx#test-options-trace)。在此模式下，追蹤會為每個測試的第一次執行進行記錄，但不會為重試記錄。當測試執行失敗時，追蹤檔案會被保留，否則會被移除。
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    use: {
      trace: 'retain-on-first-failure',
    },
  });
  ```
  
- 新屬性 [testInfo.tags](/api/class-testinfo.mdx#test-info-tags) exposes test tags during test execution.
  
  ```js
  test('example', async ({ page }) => {
    console.log(test.info().tags);
  });
  ```
  
- 新方法 [locator.contentFrame()](/api/class-locator.mdx#locator-content-frame) 將 [Locator] 物件轉換為 [FrameLocator]。當您在某處取得 [Locator] 物件，稍後想要與框架內的內容互動時，這會很有用。
  
  ```js
  const locator = page.locator('iframe[name="embedded"]');
  // ...
  const frameLocator = locator.contentFrame();
  await frameLocator.getByRole('button').click();
  ```
  
- 新方法 [frameLocator.owner()](/api/class-framelocator.mdx#frame-locator-owner) 將 [FrameLocator] 物件轉換為 [Locator]。當您在某處取得 [FrameLocator] 物件，稍後想要與 `iframe` 元素互動時，這會很有用。
  
  ```js
  const frameLocator = page.frameLocator('iframe[name="embedded"]');
  // ...
  const locator = frameLocator.owner();
  await expect(locator).toBeVisible();
  ```
  
### UI 模式更新

![Playwright UI Mode](https://github.com/microsoft/playwright/assets/9881434/61ca7cfc-eb7a-4305-8b62-b6c9f098f300)
* 在測試清單中查看標籤。
* Filter by tags by typing `@fast` or clicking on the tag itself.
* 新的快速鍵：
  - "F5" to run tests.
  - "Shift F5" to stop running tests.
  - "Ctrl `" to toggle test output.

### 瀏覽器版本
* Chromium 124.0.6367.8
* Mozilla Firefox 124.0
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 123
* Microsoft Edge 123

## 版本 1.42

<LiteYouTube id="KjSaIQLlgns" title="Playwright 1.41 & 1.42" />

### 新的 API
- 新方法 [page.addLocatorHandler()](/api/class-page.mdx#page-add-locator-handler) 註冊一個回呼函數，當指定元素變為可見且可能阻擋 Playwright 動作時會被調用。回呼函數可以移除覆蓋層。以下是一個當 cookie 對話框出現時關閉它的範例：

```js
// Setup the handler.
await page.addLocatorHandler(
    page.getByRole('heading', { name: 'Hej! You are in control of your cookies.' }),
    async () => {
      await page.getByRole('button', { name: 'Accept all' }).click();
    });
// Write the test as usual.
await page.goto('https://www.ikea.com/');
await page.getByRole('link', { name: 'Collection of blue and white' }).click();
await expect(page.getByRole('heading', { name: 'Light and easy' })).toBeVisible();
```

- `expect(callback).toPass()` 超時現在可以透過 `expect.toPass.timeout` 選項進行[全域配置](./api/class-testconfig#test-config-expect)或在[專案配置](./api/class-testproject#test-project-expect)中配置
- [electronApplication.on('console')](/api/class-electronapplication.mdx#electron-application-event-console) 事件在 Electron 主程序呼叫主控台 API 方法時觸發。

```js
electronApp.on('console', async msg => {
  const values = [];
  for (const arg of msg.args())
    values.push(await arg.jsonValue());
  console.log(...values);
});
await electronApp.evaluate(() => console.log('hello', 5, { foo: 'bar' }));
```

- [新語法](./test-annotations#tag-tests) 用於為測試新增標籤（仍支援標題中的 @-token）：

```js
test('test customer login', {
  tag: ['@fast', '@login'],
}, async ({ page }) => {
  // ...
});
```

使用 `--grep` 指令列選項僅執行具有特定標籤的測試。

```sh
npx playwright test --grep @fast
```

- `--project` command line [flag](./test-cli#all-options) 現在支援 '*' wildcard:

```sh
npx playwright test --project='*mobile*'
```

- [新語法](./test-annotations#annotate-tests) 用於測試註釋：

```js
test('test full report', {
  annotation: [
    { type: 'issue', description: 'https://github.com/microsoft/playwright/issues/23180' },
    { type: 'docs', description: 'https://playwright.dev/docs/test-annotations#tag-tests' },
  ],
}, async ({ page }) => {
  // ...
});
```

- [page.pdf()](/api/class-page.mdx#page-pdf) 接受兩個新選項 [`tagged`](./api/class-page#page-pdf-選項-tagged) 和 [`outline`](./api/class-page#page-pdf-選項-outline)。

### 公告
* ⚠️ Ubuntu 18 is not supported anymore.

### 瀏覽器版本
* Chromium 123.0.6312.4
* Mozilla Firefox 123.0
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 122
* Microsoft Edge 123

## 版本 1.41

### 新的 API
- 新方法 [page.unrouteAll()](/api/class-page.mdx#page-unroute-all) 移除所有由 [page.route()](/api/class-page.mdx#page-route) 和 [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) 註冊的路由。可選擇等待正在進行的路由完成，或忽略來自它們的任何錯誤。
- 新方法 [browserContext.unrouteAll()](/api/class-browsercontext.mdx#browser-context-unroute-all) 移除所有由 [browserContext.route()](/api/class-browsercontext.mdx#browser-context-route) 和 [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har) 註冊的路由。可選擇等待正在進行的路由完成，或忽略來自它們的任何錯誤。
- 新選項 [style](/api/class-page.mdx#page-screenshot-選項-style) 在 [page.screenshot()](/api/class-page.mdx#page-screenshot) 和 [style](/api/class-locator.mdx#locator-screenshot-選項-style) 在 [locator.screenshot()](/api/class-locator.mdx#locator-screenshot) 中，以在截圖前為頁面新增自訂 CSS。
- 新選項 `stylePath` 用於方法 [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) 和 [expect(locator).toHaveScreenshot()](/api/class-locatorassertions.mdx#locator-assertions-to-have-screenshot-1) 在截圖時套用自訂樣式表。
- 新的 `fileName` 選項用於 [Blob reporter](./test-reporters#blob-reporter)，以指定要建立的報告名稱。

### 瀏覽器版本
* Chromium 121.0.6167.57
* Mozilla Firefox 121.0
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 120
* Microsoft Edge 120

## 版本 1.40

<LiteYouTube id="mn892dV81_8" title="Playwright 1.40" />

### 測試產生器更新

![Playwright Test Generator](https://github.com/microsoft/playwright/assets/9881434/e8d67e2e-f36d-4301-8631-023948d3e190)

新的產生斷言工具：
- "Assert visibility" tool generates [expect(locator).toBeVisible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible).
- "Assert value" tool generates [expect(locator).toHaveValue()](/api/class-locatorassertions.mdx#locator-assertions-to-have-value).
- "Assert text" tool generates [expect(locator).toContainText()](/api/class-locatorassertions.mdx#locator-assertions-to-contain-text).

以下是產生的測試與斷言的範例：

```js
import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await page.goto('https://playwright.dev/');
  await page.getByRole('link', { name: 'Get started' }).click();
  await expect(page.getByLabel('Breadcrumbs').getByRole('list')).toContainText('Installation');
  await expect(page.getByLabel('Search')).toBeVisible();
  await page.getByLabel('Search').click();
  await page.getByPlaceholder('Search docs').fill('locator');
  await expect(page.getByPlaceholder('Search docs')).toHaveValue('locator');
});
```

### 新的 API
- [page.close()](/api/class-page.mdx#page-close) 中的選項 [reason](/api/class-page.mdx#page-close-選項-reason)、[browserContext.close()](/api/class-browsercontext.mdx#browser-context-close) 中的選項 [reason](/api/class-browsercontext.mdx#browser-context-close-選項-reason) 和 [browser.close()](/api/class-browser.mdx#browser-close) 中的選項 [reason](/api/class-browser.mdx#browser-close-選項-reason)。關閉原因會回報給所有因關閉而中斷的操作。
- 選項 [firefoxUserPrefs](/api/class-browsertype.mdx#browser-type-launch-persistent-context-選項-firefox-user-prefs) in [browserType.launchPersistentContext()](/api/class-browsertype.mdx#browser-type-launch-persistent-context).

### 其他變更
- 方法 [download.path()](/api/class-download.mdx#download-path) 和 [download.createReadStream()](/api/class-download.mdx#download-create-read-stream) 在失敗和取消的下載時會拋出錯誤。
- Playwright [docker image](./docker.mdx) 現在包含 Node.js v20。

### 瀏覽器版本
* Chromium 120.0.6099.28
* Mozilla Firefox 119.0
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 119
* Microsoft Edge 119

## 版本 1.39

<LiteYouTube id="KqVuRAlOkm0" title="Playwright 1.39" />

### 為您的 expect 新增自定義比對器

您可以透過提供自訂匹配器來擴展 Playwright 斷言。這些匹配器將可在 expect 物件上使用。

```js title="test.spec.ts"
import { expect as baseExpect } from '@playwright/test';
export const expect = baseExpect.extend({
  async toHaveAmount(locator: Locator, expected: number, options?: { timeout?: number }) {
    // ... see documentation for how to write matchers.
  },
});

test('pass', async ({ page }) => {
  await expect(page.getByTestId('cart')).toHaveAmount(5);
});
```

請參閱文件[完整範例](./test-assertions#add-custom-matchers-using-expectextend)。

### 合併測試佈置

您現在可以 merge test fixtures from multiple files or modules:

```js title="fixtures.ts"
import { mergeTests } from '@playwright/test';
import { test as dbTest } from 'database-test-utils';
import { test as a11yTest } from 'a11y-test-utils';

export const test = mergeTests(dbTest, a11yTest);
```

```js title="test.spec.ts"
import { test } from './fixtures';

test('passes', async ({ database, page, a11y }) => {
  // use database and a11y fixtures.
});
```

### 合併自定義 expect 比對器

您現在可以 merge custom expect matchers from multiple files or modules:

```js title="fixtures.ts"
import { mergeTests, mergeExpects } from '@playwright/test';
import { test as dbTest, expect as dbExpect } from 'database-test-utils';
import { test as a11yTest, expect as a11yExpect } from 'a11y-test-utils';

export const test = mergeTests(dbTest, a11yTest);
export const expect = mergeExpects(dbExpect, a11yExpect);
```

```js title="test.spec.ts"
import { test, expect } from './fixtures';

test('passes', async ({ page, database }) => {
  await expect(database).toHaveDatabaseUser('admin');
  await expect(page).toPassA11yAudit();
});
```

### 隱藏實作細節：框架測試步驟

您可以將 [test.step()](/api/class-test.mdx#test-step) 標記為「boxed」，這樣其中的錯誤會指向步驟呼叫位置。

```js
async function login(page) {
  await test.step('login', async () => {
    // ...
  }, { box: true });  // Note the "box" 選項 here.
}
```

```txt
Error: Timed out 5000ms waiting for expect(locator).toBeVisible()
  ... error details omitted ...

  14 |   await page.goto('https://github.com/login');
> 15 |   await login(page);
     |         ^
  16 | });
```

請參閱 [test.step()](/api/class-test.mdx#test-step) 文件以取得完整範例。

### 新的 API
- [expect(locator).toHaveAttribute()](/api/class-locatorassertions.mdx#locator-assertions-to-have-attribute-2)

### 瀏覽器版本
* Chromium 119.0.6045.9
* Mozilla Firefox 118.0.1
* WebKit 17.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 118
* Microsoft Edge 118

## 版本 1.38

<LiteYouTube id="YGJTeXaZDTM" title="Playwright 1.38" />

### UI 模式更新

![Playwright UI Mode](https://github.com/microsoft/playwright/assets/746130/8ba27be0-58fd-4f62-8561-950480610369)
1. Zoom into time range.
1. Network panel redesign.

### 新的 API
- [browserContext.on('weberror')](/api/class-browsercontext.mdx#browser-context-event-web-error)
- [locator.pressSequentially()](/api/class-locator.mdx#locator-press-sequentially)
- [reporter.onEnd()](/api/class-reporter.mdx#reporter-on-end) 現在回報 `startTime` 和總執行 `duration`。

### 棄用
* 以下方法已棄用：[page.type()](/api/class-page.mdx#page-type)、[frame.type()](/api/class-frame.mdx#frame-type)、[locator.type()](/api/class-locator.mdx#locator-type) 和 [elementHandle.type()](/api/class-elementhandle.mdx#element-handle-type)。請改用 [locator.fill()](/api/class-locator.mdx#locator-fill)，它快得多。只有當頁面上有特殊的鍵盤處理，並且您需要逐個按鍵時，才使用 [locator.pressSequentially()](/api/class-locator.mdx#locator-press-sequentially)。

### 重大變更：Playwright 不再自動下載瀏覽器

> **注意**：如果您使用 `@playwright/test` 套件，此變更不會影響您。

Playwright 建議使用 `@playwright/test` 套件並透過 `npx playwright install` 命令下載瀏覽器。如果您遵循此建議，對您來說沒有任何變化。

然而，到 v1.38 之前，安裝 `playwright` 套件而不是 `@playwright/test` 會自動下載瀏覽器。現在不再如此，我們建議透過 `npx playwright install` 命令明確下載瀏覽器。

**v1.37 及更早版本**

`playwright` 套件在 `npm install` 期間下載瀏覽器，而 `@playwright/test` 則不會。

**v1.38 及更新版本**

`playwright` 和 `@playwright/test` 套件在 `npm install` 期間都不會下載瀏覽器。

**建議的遷移**

在 `npm install` 之後執行 `npx playwright install` 來下載瀏覽器。例如，在您的 CI 配置中：

```yml
- run: npm ci
- run: npx playwright install --with-deps
```

**替代遷移選項 - 不建議**

新增 `@playwright/browser-chromium`、`@playwright/browser-firefox` 和 `@playwright/browser-webkit` 作為依賴項。這些套件在 `npm install` 期間下載對應的瀏覽器。確保您保持所有 playwright 套件版本同步：

```json
// package.json
{
  "devDependencies": {
    "playwright": "1.38.0",
    "@playwright/browser-chromium": "1.38.0",
    "@playwright/browser-firefox": "1.38.0",
    "@playwright/browser-webkit": "1.38.0"
  }
}
```

### 瀏覽器版本
* Chromium 117.0.5938.62
* Mozilla Firefox 117.0
* WebKit 17.0

此版本也對以下穩定頻道進行了測試：
* Google Chrome 116
* Microsoft Edge 116

## 版本 1.37

<LiteYouTube id="cEd4SH_Xf5U" title="Playwright 1.36 & 1.37" />

### 新的 `npx playwright merge-reports` 工具

如果您在多個分片上執行測試，您現在可以使用新的 `merge-reports` CLI 工具將所有報告合併為單一 HTML 報告（或任何其他報告）。

使用 `merge-reports` 工具需要以下步驟：
1. 在 CI 上執行時將新的「blob」報告器新增至配置：
   
   ```js title="playwright.config.ts"
   export default defineConfig({
     testDir: './tests',
     reporter: process.env.CI ? 'blob' : 'html',
   });
   ```
   
   「blob」報告器會產生包含測試執行所有資訊的「.zip」檔案。

2. 將所有「blob」報告複製到單一共享位置並執行 `npx playwright merge-reports`：

```bash
npx playwright merge-reports --reporter html ./all-blob-reports
```

在[我們的文件](./test-sharding.mdx)中閱讀更多。

### 📚 Debian 12 Bookworm Support

Playwright 現在支援 Debian 12 Bookworm 在 x86_64 和 arm64 上的 Chromium、Firefox 和 WebKit。如果您遇到任何問題，請告訴我們！

Linux 支援如下所示：

|          | Ubuntu 20.04 | Ubuntu 22.04 | Debian 11 | Debian 12 |
| :--- | :---: | :---: | :---: | :---: |
| Chromium | ✅ | ✅ | ✅ | ✅ |
| WebKit | ✅ | ✅ | ✅ | ✅ |
| Firefox | ✅ | ✅ | ✅ | ✅ |

### UI 模式更新
- UI 模式現在遵循專案依賴性。您可以透過在專案清單中勾選/取消勾選來控制要遵循哪些依賴性。
- 測試的主控台日誌現在顯示在 Console 頁籤中。

### 瀏覽器版本
* Chromium 116.0.5845.82
* Mozilla Firefox 115.0
* WebKit 17.0

此版本也對以下穩定頻道進行了測試：
* Google Chrome 115
* Microsoft Edge 115

## 版本 1.36

🏝️ Summer maintenance release.

### 瀏覽器版本
* Chromium 115.0.5790.75
* Mozilla Firefox 115.0
* WebKit 17.0

此版本也對以下穩定頻道進行了測試：
* Google Chrome 114
* Microsoft Edge 114

## 版本 1.35

<LiteYouTube id="pJiirfyJwcA" title="Playwright 1.35" />

### 重點
* UI mode 現在可用 in VSCode Playwright extension via a new "Show trace viewer" button:
  
  ![Playwright UI Mode](https://github.com/microsoft/playwright/assets/746130/13094128-259b-477a-8bbb-c1181178e8a2)
* UI mode and trace viewer mark network requests handled with [page.route()](/api/class-page.mdx#page-route) 和 [browserContext.route()](/api/class-browsercontext.mdx#browser-context-route) handlers, as well as those issued via the [API testing](./api-testing):
  
  ![Trace Viewer](https://github.com/microsoft/playwright/assets/746130/0df2d4b6-faa3-465c-aff3-c435b430bfe1)
* 新選項 `maskColor`用於方法[page.screenshot()](/api/class-page.mdx#page-screenshot), [locator.screenshot()](/api/class-locator.mdx#locator-screenshot), [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) 和 [expect(locator).toHaveScreenshot()](/api/class-locatorassertions.mdx#locator-assertions-to-have-screenshot-1) to change default masking color:
  
  ```js
  await page.goto('https://playwright.dev');
  await expect(page).toHaveScreenshot({
    mask: [page.locator('img')],
    maskColor: '#00FF00', // green
  });
  ```
  
* 新的 `uninstall` CLI 指令用於解除安裝瀏覽器二進位檔：
  
  ```bash
  $ npx playwright uninstall # remove browsers installed by this installation
  $ npx playwright uninstall --all # remove all ever-install Playwright browsers
  ```
  
* Both UI mode and trace viewer now could be opened in a browser tab:
  
  ```bash
  $ npx playwright test --ui-port 0 # open UI mode in a tab on a random port
  $ npx playwright show-trace --port 0 # open trace viewer in tab on a random port
  ```
  
### ⚠️ Breaking changes
* `playwright-core` binary got renamed from `playwright` to `playwright-core`. So if you use `playwright-core` CLI, make sure to update the name:
  
  ```bash
  $ npx playwright-core install # the new way to install browsers when using playwright-core
  ```
  
  此變更**不會**影響 `@playwright/test` 和 `playwright` 套件使用者。

### 瀏覽器版本
* Chromium 115.0.5790.13
* Mozilla Firefox 113.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 114
* Microsoft Edge 114

## 版本 1.34

<LiteYouTube id="JeFD6rqDbBo" title="Playwright 1.34" />

### 重點
* UI Mode now shows steps, fixtures and attachments: ![UI Mode attachments](https://github.com/microsoft/playwright/assets/746130/1d280419-d79a-4a56-b2dc-54d631281d56)
* 新屬性 [testProject.teardown](/api/class-testproject.mdx#test-project-teardown) 用於指定在此專案和所有相依專案完成後需要執行的專案。清理對於清理此專案取得的任何資源很有用。
  
  A common pattern would be a `setup` dependency with a corresponding `teardown`:
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    projects: [
      {
        name: 'setup',
        testMatch: /global.setup\.ts/,
        teardown: 'teardown',
      },
      {
        name: 'teardown',
        testMatch: /global.teardown\.ts/,
      },
      {
        name: 'chromium',
        use: devices['Desktop Chrome'],
        dependencies: ['setup'],
      },
      {
        name: 'firefox',
        use: devices['Desktop Firefox'],
        dependencies: ['setup'],
      },
      {
        name: 'webkit',
        use: devices['Desktop Safari'],
        dependencies: ['setup'],
      },
    ],
  });
  ```
  
* 新方法 [`expect.configure`](./test-assertions.mdx#expectconfigure) 用於建立具有自己預設值（如 `timeout` 和 `soft`）的預配置 expect 實例。
  
  ```js
  const slowExpect = expect.configure({ timeout: 10000 });
  await slowExpect(locator).toHaveText('Submit');
  
  // Always do soft assertions.
  const softExpect = expect.configure({ soft: true });
  ```
  
* 新選項 `stderr` 和 `stdout` 在 [testConfig.webServer](/api/class-testconfig.mdx#test-config-web-server) 中以配置輸出處理：
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    // Run your local dev server before starting the tests
    webServer: {
      command: 'npm run start',
      url: 'http://127.0.0.1:3000',
      reuseExistingServer: !process.env.CI,
      stdout: 'pipe',
      stderr: 'pipe',
    },
  });
  ```
  
* 新方法 [locator.and()](/api/class-locator.mdx#locator-and) 用於建立一個符合兩個定位器的定位器。
  
  ```js
  const button = page.getByRole('button').and(page.getByTitle('Subscribe'));
  ```
  
* 新事件 [browserContext.on('console')](/api/class-browsercontext.mdx#browser-context-event-console) 和 [browserContext.on('dialog')](/api/class-browsercontext.mdx#browser-context-event-dialog) 用於訂閱來自指定瀏覽器上下文中任何頁面的任何對話框和控制台訊息。使用新方法 [consoleMessage.page()](/api/class-consolemessage.mdx#console-message-page) 和 [dialog.page()](/api/class-dialog.mdx#dialog-page) 來精確定位事件來源。

### ⚠️ Breaking changes
* `npx playwright test` 如果您同時安裝 `playwright` 和 `@playwright/test` 將不再有效。沒有必要同時安裝兩者，因為您總是可以直接從 `@playwright/test` 匯入瀏覽器自動化 API：
  
  ```js title="automation.ts"
  import { chromium, firefox, webkit } from '@playwright/test';
  /* ... */
  ```
  
* Node.js 14 不再受支援，因為它在 2023 年 4 月 30 日[達到了生命週期結束](https://nodejs.dev/en/about/releases/)。

### 瀏覽器版本
* Chromium 114.0.5735.26
* Mozilla Firefox 113.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 113
* Microsoft Edge 113

## 版本 1.33

<LiteYouTube id="JeFD6rqDbBo" title="Playwright 1.33" />

### 定位器更新
* 使用 [locator.or()](/api/class-locator.mdx#locator-or) 建立符合兩個定位器中任一個的定位器。考慮一個情境，您想要點擊「新郵件」按鈕，但有時會顯示安全設定對話框。在這種情況下，您可以等待「新郵件」按鈕或對話框，並據此採取相應的動作：
  
  ```js
  const newEmail = page.getByRole('button', { name: 'New email' });
  const dialog = page.getByText('Confirm security settings');
  await expect(newEmail.or(dialog)).toBeVisible();
  if (await dialog.isVisible())
    await page.getByRole('button', { name: 'Dismiss' }).click();
  await newEmail.click();
  ```
  
* Use new options [hasNot](/api/class-locator.mdx#locator-filter-選項-has-not) 和 [hasNotText](/api/class-locator.mdx#locator-filter-選項-has-not-text) in [locator.filter()](/api/class-locator.mdx#locator-filter) to find elements that **do not match** certain conditions.
  
  ```js
  const rowLocator = page.locator('tr');
  await rowLocator
      .filter({ hasNotText: 'text in column 1' })
      .filter({ hasNot: page.getByRole('button', { name: 'column 2 button' }) })
      .screenshot();
  ```
  
* 使用新的 web-first 斷言 [expect(locator).toBeAttached()](/api/class-locatorassertions.mdx#locator-assertions-to-be-attached) 確保元素存在於頁面的 DOM 中。不要與 [expect(locator).toBeVisible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible) 混淆，後者確保元素既已附加又可見。

### 新的 API
- [locator.or()](/api/class-locator.mdx#locator-or)
- 新選項 [hasNot](/api/class-locator.mdx#locator-filter-選項-has-not) in [locator.filter()](/api/class-locator.mdx#locator-filter)
- 新選項 [hasNotText](/api/class-locator.mdx#locator-filter-選項-has-not-text) in [locator.filter()](/api/class-locator.mdx#locator-filter)
- [expect(locator).toBeAttached()](/api/class-locatorassertions.mdx#locator-assertions-to-be-attached)
- 新選項 [timeout](/api/class-route.mdx#route-fetch-選項-timeout) in [route.fetch()](/api/class-route.mdx#route-fetch)
- [reporter.onExit()](/api/class-reporter.mdx#reporter-on-exit)

### ⚠️ Breaking change
* `mcr.microsoft.com/playwright:v1.33.0` 現在提供基於 Ubuntu Jammy 的 Playwright 映像。若要使用基於 focal 的映像，請改用 `mcr.microsoft.com/playwright:v1.33.0-focal`。

### 瀏覽器版本
* Chromium 113.0.5672.53
* Mozilla Firefox 112.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 112
* Microsoft Edge 112

## 版本 1.32

<LiteYouTube id="jF0yA-JLQW0" title="Playwright 1.32" />

### 介紹 UI 模式（預覽）

新的 [UI 模式](./test-ui-mode.mdx) 讓您可以探索、執行和除錯測試。內建觀察模式。

![Playwright UI Mode](https://user-images.githubusercontent.com/746130/227004851-3901a691-4f8e-43d6-8d6b-cbfeafaeb999.png)

使用新的旗標 `--ui` 啟用：

```sh
npx playwright test --ui
```

### 新的 API
- 新選項 [updateMode](/api/class-page.mdx#page-route-from-har-選項-update-mode) 和 [updateContent](/api/class-page.mdx#page-route-from-har-選項-update-content) in [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) 和 [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har).
- 串連現有的定位器物件，請參閱[定位器文件](./locators.mdx#matching-inside-a-locator)以瞭解詳細資訊。
- 新屬性 [testInfo.testId](/api/class-testinfo.mdx#test-info-test-id).
- 新選項 [name](/api/class-tracing.mdx#tracing-start-chunk-選項-name) in 方法 [tracing.startChunk()](/api/class-tracing.mdx#tracing-start-chunk).

### ⚠️ Breaking change in component tests

Note: **component tests only**, does not affect end-to-end tests.
* `@playwright/experimental-ct-react` 現在支援 **React 18 only**.
* If you're running component tests with React 16 or 17, please replace `@playwright/experimental-ct-react` with `@playwright/experimental-ct-react17`.

### 瀏覽器版本
* Chromium 112.0.5615.29
* Mozilla Firefox 111.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 111
* Microsoft Edge 111

## 版本 1.31

<LiteYouTube id="PI50YAPTAs4" title="Playwright 1.31" />

### 新的 API
- 新屬性 [testProject.dependencies](/api/class-testproject.mdx#test-project-dependencies) 以配置專案之間的依賴性。
  
  使用依賴項允許全域設定產生追蹤和其他工件，請查看測試報告中的設定步驟等等。
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    projects: [
      {
        name: 'setup',
        testMatch: /global.setup\.ts/,
      },
      {
        name: 'chromium',
        use: devices['Desktop Chrome'],
        dependencies: ['setup'],
      },
      {
        name: 'firefox',
        use: devices['Desktop Firefox'],
        dependencies: ['setup'],
      },
      {
        name: 'webkit',
        use: devices['Desktop Safari'],
        dependencies: ['setup'],
      },
    ],
  });
  ```
  
- 新斷言 [expect(locator).toBeInViewport()](/api/class-locatorassertions.mdx#locator-assertions-to-be-in-viewport) 確保定位器指向與視窗相交的元素，根據 [intersection observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)。
  
  ```js
  const button = page.getByRole('button');
  
  // Make sure at least some part of element intersects viewport.
  await expect(button).toBeInViewport();
  
  // Make sure element is fully outside of viewport.
  await expect(button).not.toBeInViewport();
  
  // Make sure that at least half of the element intersects viewport.
  await expect(button).toBeInViewport({ ratio: 0.5 });
  ```
  
### 其他
- 追蹤檢視器中的 DOM 快照現在可以在單獨的視窗中開啟。
- 新方法 `defineConfig` to be used in `playwright.config`.
- 新選項 [maxRedirects](/api/class-route.mdx#route-fetch-選項-max-redirects) 用於方法 [route.fetch()](/api/class-route.mdx#route-fetch).
- Playwright 現在支援 Debian 11 arm64.
- 官方 [docker images](./docker.mdx) 現在包含 Node 18 而非 Node 16。

### ⚠️ Breaking change in component tests

Note: **component tests only**, does not affect end-to-end tests.

`playwright-ct.config` configuration file for [component testing](./test-components.mdx) now requires calling `defineConfig`.

```js
// Before

import { type PlaywrightTestConfig, devices } from '@playwright/experimental-ct-react';
const config: PlaywrightTestConfig = {
  // ... config goes here ...
};
export default config;
```

將 `config` 變數定義替換為 `defineConfig` 呼叫：

```js
// After

import { defineConfig, devices } from '@playwright/experimental-ct-react';
export default defineConfig({
  // ... config goes here ...
});
```

### 瀏覽器版本
* Chromium 111.0.5563.19
* Mozilla Firefox 109.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 110
* Microsoft Edge 110

## 版本 1.30

### 瀏覽器版本
* Chromium 110.0.5481.38
* Mozilla Firefox 108.0.2
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 109
* Microsoft Edge 109

## 版本 1.29

<LiteYouTube id="VbVlz61VtNo" title="Playwright 1.29" />

### 新的 API
- 新方法 [route.fetch()](/api/class-route.mdx#route-fetch) 和新選項 `json` 用於[route.fulfill()](/api/class-route.mdx#route-fulfill):
  
  ```js
  await page.route('**/api/settings', async route => {
    // Fetch original settings.
    const response = await route.fetch();
  
    // Force settings theme to a predefined value.
    const json = await response.json();
    json.theme = 'Solorized';
  
    // Fulfill with modified data.
    await route.fulfill({ json });
  });
  ```
  
- 新方法 [locator.all()](/api/class-locator.mdx#locator-all) to iterate over all matching elements:
  
  ```js
  // Check all checkboxes!
  const checkboxes = page.getByRole('checkbox');
  for (const checkbox of await checkboxes.all())
    await checkbox.check();
  ```
  
- [locator.selectOption()](/api/class-locator.mdx#locator-select-選項) 現在可以依據值或標籤進行匹配：
  
  ```html
  <select multiple>
    <選項 value="red">Red</選項>
    <選項 value="green">Green</選項>
    <選項 value="blue">Blue</選項>
  </select>
  ```
  
  ```js
  await element.selectOption('Red');
  ```
  
- 重試程式碼區塊直到所有斷言都通過：
  
  ```js
  await expect(async () => {
    const response = await page.request.get('https://api.example.com');
    await expect(response).toBeOK();
  }).toPass();
  ```
  
在[我們的文件](./test-assertions.mdx#expecttopass)中閱讀更多。
- 在測試失敗時自動擷取**完整頁面螢幕截圖**：
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  export default defineConfig({
    use: {
      screenshot: {
        mode: 'only-on-failure',
        fullPage: true,
      }
    }
  });
  ```
  
### 其他
- Playwright Test 現在遵循 [`jsconfig.json`](https://code.visualstudio.com/docs/languages/jsconfig)。
- 新選項 `args` and `proxy` for [androidDevice.launchBrowser()](/api/class-androiddevice.mdx#android-device-launch-browser).
- 選項 `postData` in 方法 [route.continue()](/api/class-route.mdx#route-continue) 現在支援 [Serializable] values.

### 瀏覽器版本
* Chromium 109.0.5414.46
* Mozilla Firefox 107.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 108
* Microsoft Edge 108

## 版本 1.28

<LiteYouTube id="tVSq-0n-TY4" title="Playwright 1.28" />

### Playwright 工具
* **在 VSCode 中游標處錄製。** 您可以執行測試，將游標置於測試末尾並繼續產生測試。

![New VSCode Extension](https://user-images.githubusercontent.com/746130/202005839-aba2eeba-217b-424d-8496-8b4f5fa72f41.png)
* **VSCode 中的即時定位器。** 您可以在 VSCode 中懸停並編輯定位器，使其在開啟的瀏覽器中被突顯顯示。
* **Live Locators in CodeGen.** Generate a locator for any element on the page using "Explore" tool.

![Locator Explorer](https://user-images.githubusercontent.com/746130/201796876-01567a0b-ca61-4a9d-b12b-04786c471671.png)
* **Codegen and Trace Viewer Dark Theme.** Automatically picked up from operating system settings.

![Dark Theme](https://user-images.githubusercontent.com/746130/201797969-603f74df-d7cf-4c56-befd-798dbd269796.png)

### 測試執行器
* Configure retries and test timeout for a file or a test with [test.describe.configure()](/api/class-test.mdx#test-describe-configure).
  
  ```js
  // Each test in the file will be retried twice and have a timeout of 20 seconds.
  test.describe.configure({ retries: 2, timeout: 20_000 });
  test('runs first', async ({ page }) => {});
  test('runs second', async ({ page }) => {});
  ```
  
* 使用 [testProject.snapshotPathTemplate](/api/class-testproject.mdx#test-project-snapshot-path-template) 和 [testConfig.snapshotPathTemplate](/api/class-testconfig.mdx#test-config-snapshot-path-template) 以配置控制由 [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) 和 [expect(value).toMatchSnapshot()](/api/class-snapshotassertions.mdx#snapshot-assertions-to-match-snapshot-1) 產生的快照位置的範本。
  
  ```js title="playwright.config.ts"
  import { defineConfig } from '@playwright/test';
  export default defineConfig({
    testDir: './tests',
    snapshotPathTemplate: '{testDir}/__screenshots__/{testFilePath}/{arg}{ext}',
  });
  ```
  
### 新的 API
- [locator.blur()](/api/class-locator.mdx#locator-blur)
- [locator.clear()](/api/class-locator.mdx#locator-clear)
- [android.launchServer()](/api/class-android.mdx#android-launch-server) and  [android.connect()](/api/class-android.mdx#android-connect)
- [androidDevice.on('close')](/api/class-androiddevice.mdx#android-device-event-close)

### 瀏覽器版本
* Chromium 108.0.5359.29
* Mozilla Firefox 106.0
* WebKit 16.4

此版本也對以下穩定頻道進行了測試：
* Google Chrome 107
* Microsoft Edge 107

## 版本 1.27

<LiteYouTube id="b84eqab3kwc" title="Playwright 1.27" />

### 定位器

有了這些新的 API，撰寫定位器變得很愉快：
- [page.getByText()](/api/class-page.mdx#page-get-by-text)以定位by text content.
- [page.getByRole()](/api/class-page.mdx#page-get-by-role)以定位by [ARIA role](https://www.w3.org/TR/wai-aria-1.2/#roles), [ARIA attributes](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) 和 [accessible name](https://w3c.github.io/accname/#dfn-accessible-name).
- [page.getByLabel()](/api/class-page.mdx#page-get-by-label)以定位a form control by associated label's text.
- [page.getByTestId()](/api/class-page.mdx#page-get-by-test-id) 根據其 `data-testid` 屬性定位元素（可配置其他屬性）。
- [page.getByPlaceholder()](/api/class-page.mdx#page-get-by-placeholder)以定位an input by placeholder.
- [page.getByAltText()](/api/class-page.mdx#page-get-by-alt-text)以定位an element, usually image, by its text alternative.
- [page.getByTitle()](/api/class-page.mdx#page-get-by-title)以定位an element by its title.

```js
await page.getByLabel('User Name').fill('John');

await page.getByLabel('Password').fill('secret-password');

await page.getByRole('button', { name: 'Sign in' }).click();

await expect(page.getByText('Welcome, John!')).toBeVisible();
```

所有相同的方法也可以在 [Locator]、[FrameLocator] 和 [Frame] 類別上使用。

### 其他重點
- `playwright.config.ts` 中的 `workers` 選項現在接受百分比字串以使用一些可用的 CPU。您也可以在命令列中傳遞它：
  
  ```bash
  npx playwright test --workers=20%
  ```
  
- 新選項 `host` and `port` for the html reporter.
  
  ```js
  import { defineConfig } from '@playwright/test';
  
  export default defineConfig({
    reporter: [['html', { host: 'localhost', port: '9223' }]],
  });
  ```
  
- 新欄位 `FullConfig.configFile` 可用於測試報告器，指定配置檔案的路徑（如果有的話）。
- 如 v1.25 中宣布的，Ubuntu 18 將從 2022 年 12 月起不再受支援。除此之外，從下一個 Playwright 版本開始，Ubuntu 18 上將不會有 WebKit 更新。

### 行為變更
- [expect(locator).toHaveAttribute()](/api/class-locatorassertions.mdx#locator-assertions-to-have-attribute) 具有空值時不再匹配缺少的屬性。例如，當 `button` **沒有** `disabled` 屬性時，以下程式碼片段將成功。
  
  ```js
  await expect(page.getByRole('button')).toHaveAttribute('disabled', '');
  ```
  
- 命令列選項 `--grep` 和 `--grep-invert` 先前錯誤地忽略了配置中指定的 `grep` 和 `grepInvert` 選項。現在所有選項都會一起套用。

### 瀏覽器版本
* Chromium 107.0.5304.18
* Mozilla Firefox 105.0.1
* WebKit 16.0

此版本也對以下穩定頻道進行了測試：
* Google Chrome 106
* Microsoft Edge 106

## 版本 1.26

<LiteYouTube id="b84eqab3kwc" title="Playwright 1.26" />

### 斷言
- 新選項 `enabled` for [expect(locator).toBeEnabled()](/api/class-locatorassertions.mdx#locator-assertions-to-be-enabled).
- [expect(locator).toHaveText()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text) 現在可以穿透開放的陰影根。
- 新選項 `editable` for [expect(locator).toBeEditable()](/api/class-locatorassertions.mdx#locator-assertions-to-be-editable).
- 新選項 `visible` for [expect(locator).toBeVisible()](/api/class-locatorassertions.mdx#locator-assertions-to-be-visible).

### 其他重點
- 新選項 `maxRedirects` 用於 [apiRequestContext.get()](/api/class-apirequestcontext.mdx#api-request-context-get) 和其他方法以限制重定向次數。
- 新的命令列旗標 `--pass-with-no-tests` 允許測試套件在找不到檔案時通過。
- 新的命令列旗標 `--ignore-snapshots` 用於跳過快照預期，例如 `expect(value).toMatchSnapshot()` 和 `expect(page).toHaveScreenshot()`。

### 行為變更

A bunch of Playwright APIs already support the `waitUntil: 'domcontentloaded'` 選項. For example:

```js
await page.goto('https://playwright.dev', {
  waitUntil: 'domcontentloaded',
});
```

在 1.26 之前，這會等待所有 iframe 觸發 `DOMContentLoaded` 事件。

為了與網頁規範保持一致，`'domcontentloaded'` 值僅等待目標框架觸發 `'DOMContentLoaded'` 事件。使用 `waitUntil: 'load'` 來等待所有 iframe。

### 瀏覽器版本
* Chromium 106.0.5249.30
* Mozilla Firefox 104.0
* WebKit 16.0

此版本也對以下穩定頻道進行了測試：
* Google Chrome 105
* Microsoft Edge 105

## 版本 1.25

<LiteYouTube id="NFLHA57a-so" title="Playwright 1.25" />

### VSCode Extension
* Watch your tests running live & keep devtools open.
* Pick selector.
* Record new test from current page state.

![vscode extension screenshot](https://user-images.githubusercontent.com/746130/183781999-1b9fdbc5-cfae-47d6-b4f7-5d4ae89716a8.jpg)

### 測試執行器
* [test.step()](/api/class-test.mdx#test-step) now 回傳 the value of the step function:
  
  ```js
  test('should work', async ({ page }) => {
    const pageTitle = await test.step('get title', async () => {
      await page.goto('https://playwright.dev');
      回傳 await page.title();
    });
    console.log(pageTitle);
  });
  ```
  
* Added [test.describe.fixme()](/api/class-test.mdx#test-describe-fixme).
* 新的 `'interrupted'` 測試狀態。
* Enable tracing via CLI flag: `npx playwright test --trace=on`.

### 公告
* 🎁 我們現在提供 Ubuntu 22.04 Jammy Jellyfish docker 映像：`mcr.microsoft.com/playwright:v1.34.0-jammy`。
* 🪦 這是最後一個支援 macOS 10.15 的版本（自 1.21 起已棄用）。
* 🪦 這是最後一個支援 Node.js 12 的版本，我們建議升級到 Node.js LTS（16）。
* ⚠️ Ubuntu 18 現已棄用，將從 2022 年 12 月起不再受支援。

### 瀏覽器版本
* Chromium 105.0.5195.19
* Mozilla Firefox 103.0
* WebKit 16.0

此版本也對以下穩定頻道進行了測試：
* Google Chrome 104
* Microsoft Edge 104

## 版本 1.24

<LiteYouTube id="9F05o1shxcY" title="Playwright 1.24" />

### 🌍 Multiple Web Servers in `playwright.config.ts`

透過傳遞配置陣列來啟動多個網頁伺服器、資料庫或其他程序：

```js title="playwright.config.ts"
import { defineConfig } from '@playwright/test';
export default defineConfig({
  webServer: [
    {
      command: 'npm run start',
      url: 'http://127.0.0.1:3000',
      timeout: 120 * 1000,
      reuseExistingServer: !process.env.CI,
    },
    {
      command: 'npm run backend',
      url: 'http://127.0.0.1:3333',
      timeout: 120 * 1000,
      reuseExistingServer: !process.env.CI,
    }
  ],
  use: {
    baseURL: 'http://localhost:3000/',
  },
});
```

### 🐂 Debian 11 Bullseye Support

Playwright 現在支援 Debian 11 Bullseye 在 x86_64 上的 Chromium、Firefox 和 WebKit。如果您遇到任何問題，請告訴我們！

Linux 支援如下所示：

|          | Ubuntu 20.04 | Ubuntu 22.04 | Debian 11
| :--- | :---: | :---: | :---: | :---: |
| Chromium | ✅ | ✅ | ✅ |
| WebKit | ✅ | ✅ | ✅ |
| Firefox | ✅ | ✅ | ✅ |

### 🕵️ Anonymous Describe

現在可以呼叫 [test.describe()](/api/class-test.mdx#test-describe) 來建立沒有標題的測試套件。這對於使用 [test.use()](/api/class-test.mdx#test-use) 為一組測試提供共同選項很有用。

```js
test.describe(() => {
  test.use({ colorScheme: 'dark' });

  test('one', async ({ page }) => {
    // ...
  });

  test('two', async ({ page }) => {
    // ...
  });
});
```

### 🧩 Component Tests Update

Playwright 1.24 組件測試引入 `beforeMount` 和 `afterMount` 鉤子。使用這些來為測試配置您的應用程式。

例如，這可以用來在 Vue.js 中設定 App 路由器：

```js title="src/component.spec.ts"
import { test } from '@playwright/experimental-ct-vue';
import { Component } from './mycomponent';

test('should work', async ({ mount }) => {
  const component = await mount(Component, {
    hooksConfig: {
      /* anything to configure your app */
    }
  });
});
```

```js title="playwright/index.ts"
import { router } from '../router';
import { beforeMount } from '@playwright/experimental-ct-vue/hooks';

beforeMount(async ({ app, hooksConfig }) => {
  app.use(router);
});
```

A similar configuration in Next.js would look like this:

```js title="src/component.spec.jsx"
import { test } from '@playwright/experimental-ct-react';
import { Component } from './mycomponent';

test('should work', async ({ mount }) => {
  const component = await mount(<Component></Component>, {
    // Pass mock value from test into `beforeMount`.
    hooksConfig: {
      router: {
        query: { page: 1, per_page: 10 },
        asPath: '/posts'
      }
    }
  });
});
```

```js title="playwright/index.js"
import router from 'next/router';
import { beforeMount } from '@playwright/experimental-ct-react/hooks';

beforeMount(async ({ hooksConfig }) => {
  // Before mount, redefine useRouter to 回傳 mock value from test.
  router.useRouter = () => hooksConfig.router;
});
```

## 版本 1.23

<LiteYouTube id="NRGOV46P3kU" title="Playwright 1.23" />

### 網路重播

現在您可以將網路流量錄製到 HAR 檔案中，並在測試中重複使用此流量。

將網路錄製到 HAR 檔案：

```bash
npx playwright open --save-har=github.har.zip https://github.com/microsoft
```

Alternatively, you can record HAR programmatically:

```js
const context = await browser.newContext({
  recordHar: { path: 'github.har.zip' }
});
// ... do stuff ...
await context.close();
```

使用新方法 [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) 或 [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har) 從 [HAR](http://www.softwareishard.com/blog/har-12-spec/) 檔案提供匹配的回應：

```js
await context.routeFromHAR('github.har.zip');
```

在[我們的文件](./mock.mdx#mocking-with-har-files)中閱讀更多。

### 進階路由

您現在可以使用 [route.fallback()](/api/class-route.mdx#route-fallback) 將路由轉交給其他處理器。

考慮以下範例：

```js
// Remove a header from all requests.
test.beforeEach(async ({ page }) => {
  await page.route('**/*', async route => {
    const headers = await route.request().allHeaders();
    delete headers['if-none-match'];
    await route.fallback({ headers });
  });
});

test('should work', async ({ page }) => {
  await page.route('**/*', async route => {
    if (route.request().resourceType() === 'image')
      await route.abort();
    else
      await route.fallback();
  });
});
```

請注意，新方法 [page.routeFromHAR()](/api/class-page.mdx#page-route-from-har) 和 [browserContext.routeFromHAR()](/api/class-browsercontext.mdx#browser-context-route-from-har) 也參與路由，可以延後處理。

### Web-First 斷言更新
* 新方法 [expect(locator).toHaveValues()](/api/class-locatorassertions.mdx#locator-assertions-to-have-values) that asserts all selected values of `<select multiple>` element.
* Methods [expect(locator).toContainText()](/api/class-locatorassertions.mdx#locator-assertions-to-contain-text) 和 [expect(locator).toHaveText()](/api/class-locatorassertions.mdx#locator-assertions-to-have-text) now accept `ignoreCase` 選項.

### 元件測試更新
* 支援 Vue2 via the [`@playwright/experimental-ct-vue2`](https://www.npmjs.com/package/@playwright/experimental-ct-vue2) package.
* 支援 component tests for [create-react-app](https://www.npmjs.com/package/create-react-app) with components in `.js` files.

在[使用 Playwright 進行元件測試](./test-components)中閱讀更多。

### 其他
* If there's a service worker that's in your way, 您現在可以 easily disable it with a new context 選項 `serviceWorkers`:
  
  ```js title="playwright.config.ts"
  export default {
    use: {
      serviceWorkers: 'block',
    }
  };
  ```
  
* Using `.zip` path for `recordHar` context 選項 automatically zips the resulting HAR:
  
  ```js
  const context = await browser.newContext({
    recordHar: {
      path: 'github.har.zip',
    }
  });
  ```
  
* If you intend to edit HAR by hand, consider using the `"minimal"` HAR recording mode that only records information that is essential for replaying:
  
  ```js
  const context = await browser.newContext({
    recordHar: {
      path: 'github.har',
      mode: 'minimal',
    }
  });
  ```
  
* Playwright now runs on Ubuntu 22 amd64 and Ubuntu 22 arm64. We also publish new docker image `mcr.microsoft.com/playwright:v1.34.0-jammy`.

### ⚠️ Breaking Changes ⚠️

WebServer 現在如果對指定 URL 的請求具有以下任一 HTTP 狀態碼，就被視為「準備就緒」：
* `200-299`
* `300-399` (new)
* `400`, `401`, `402`, `403` (new)

## 版本 1.22

<LiteYouTube id="keV2CIgtBlg" title="Playwright 1.22" />

### 重點
- 元件測試（預覽）
  
  Playwright Test 現在可以測試您的 [React](https://reactjs.org/)、[Vue.js](https://vuejs.org/) 或 [Svelte](https://svelte.dev/) 元件。您可以在真實瀏覽器中運行元件時使用 Playwright Test 的所有功能（如並行化、模擬和除錯）。
  
  以下是典型元件測試的樣子：
  
  ```js title="App.spec.tsx"
  import { test, expect } from '@playwright/experimental-ct-react';
  import App from './App';
  
  // Let's test component in a dark scheme!
  test.use({ colorScheme: 'dark' });
  
  test('should render', async ({ mount }) => {
    const component = await mount(<App></App>);
  
    // As with any Playwright test, assert locator text.
    await expect(component).toContainText('React');
    // Or do a screenshot 🚀
    await expect(component).toHaveScreenshot();
    // Or use any Playwright 方法
    await component.click();
  });
  ```
  
  在[我們的文件](./test-components)中閱讀更多。
- 角色選擇器，允許依據其 [ARIA role](https://www.w3.org/TR/wai-aria-1.2/#roles)、[ARIA attributes](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) 和[無障礙名稱](https://w3c.github.io/accname/#dfn-accessible-name)選取元素。
  
  ```js
  // Click a button with accessible name "log in"
  await page.locator('role=button[name="log in"]').click();
  ```
  
  在我們的[文件](./locators.mdx#locate-by-role)中閱讀更多。
- 新方法 [locator.filter()](/api/class-locator.mdx#locator-filter) API 用於過濾現有定位器
  
  ```js
  const buttons = page.locator('role=button');
  // ...
  const submitButton = buttons.filter({ hasText: 'Submit' });
  await submitButton.click();
  ```
  
- 新的網頁優先斷言 [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) 和 [expect(locator).toHaveScreenshot()](/api/class-locatorassertions.mdx#locator-assertions-to-have-screenshot-1) 等待螢幕截圖穩定並增強測試可靠性。
  
  新的斷言具有螢幕截圖特定的預設值，例如：
  * disables animations
  * uses CSS scale 選項
  
  ```js
  await page.goto('https://playwright.dev');
  await expect(page).toHaveScreenshot();
  ```
  
  新的 [expect(page).toHaveScreenshot()](/api/class-pageassertions.mdx#page-assertions-to-have-screenshot-1) 會將螢幕截圖儲存在與 [expect(value).toMatchSnapshot()](/api/class-snapshotassertions.mdx#snapshot-assertions-to-match-snapshot-1) 相同的位置。

## 版本 1.21

<LiteYouTube id="45HZdbmgEw8" title="Playwright 1.21" />

### 重點
- 新的角色選擇器允許透過 [ARIA 角色](https://www.w3.org/TR/wai-aria-1.2/#roles)、[ARIA 屬性](https://www.w3.org/TR/wai-aria-1.2/#aria-attributes) 和 [可存取的名稱](https://w3c.github.io/accname/#dfn-accessible-name) 來選取元素。
  
  ```js
  // Click a button with accessible name "log in"
  await page.locator('role=button[name="log in"]').click();
  ```
  
  在我們的[文件](./locators.mdx#locate-by-role)中閱讀更多。
- 新 `scale` 選項 in [page.screenshot()](/api/class-page.mdx#page-screenshot) 用於產生較小的螢幕截圖。
- 新 `caret` 選項 in [page.screenshot()](/api/class-page.mdx#page-screenshot) 用於控制文字游標。預設為 `"hide"`。
- 新方法 `expect.poll` to wait for an arbitrary condition:
  
  ```js
  // Poll the 方法 until it 回傳 an expected result.
  await expect.poll(async () => {
    const response = await page.request.get('https://api.example.com');
    回傳 response.status();
  }).toBe(200);
  ```
  
  `expect.poll` 支援大多數同步匹配器，如 `.toBe()`、`.toContain()` 等。在我們的[文件](./test-assertions.mdx#expectpoll)中閱讀更多。

### 行為變更
- 在執行 TypeScript 測試時，ESM 支援現在預設啟用。不再需要 `PLAYWRIGHT_EXPERIMENTAL_TS_ESM` 環境變數。
- `mcr.microsoft.com/playwright` docker 映像不再包含 Python。請使用 `mcr.microsoft.com/playwright/python` 作為預先安裝 Python 的 Playwright 就緒 docker 映像。
- Playwright 現在透過 [locator.setInputFiles()](/api/class-locator.mdx#locator-set-input-files) API 支援大型檔案上傳（數百 MB）。

### 瀏覽器版本
- Chromium 101.0.4951.26
- Mozilla Firefox 98.0.2
- WebKit 15.4

此版本也對以下穩定頻道進行了測試：
- Google Chrome 100
- Microsoft Edge 100

## 版本 1.20

<LiteYouTube id="6vV-XXKsrbA" title="Playwright 1.20" />

### 重點
- 新選項用於方法 [page.screenshot()](/api/class-page.mdx#page-screenshot)、[locator.screenshot()](/api/class-locator.mdx#locator-screenshot) 和 [elementHandle.screenshot()](/api/class-elementhandle.mdx#element-handle-screenshot)：
  * 選項 `animations: "disabled"` rewinds all CSS animations and transitions to a consistent state
  * 選項 `mask: Locator[]` masks given elements, overlaying them with pink `#FF00FF` boxes.
- `expect().toMatchSnapshot()` 現在支援匿名快照：當快照名稱缺少時，Playwright Test 將自動產生一個：
  
  ```js
  expect('Web is Awesome <3').toMatchSnapshot();
  ```
  
- 新的 `maxDiffPixels` 和 `maxDiffPixelRatio` 選項用於使用 `expect().toMatchSnapshot()` 進行細粒度螢幕截圖比較：
  
  ```js
  expect(await page.screenshot()).toMatchSnapshot({
    maxDiffPixels: 27, // allow no more than 27 different pixels.
  });
  ```
  
  It is most convenient以指定`maxDiffPixels` or `maxDiffPixelRatio` once in [testConfig.expect](/api/class-testconfig.mdx#test-config-expect).
- Playwright Test 現在新增 [testConfig.fullyParallel](/api/class-testconfig.mdx#test-config-fully-parallel) 模式。預設情況下，Playwright Test 在檔案間平行化。在完全平行模式中，單一檔案內的測試也會平行執行。您也可以使用 `--fully-parallel` 命令列旗標。
  
  ```js title="playwright.config.ts"
  export default {
    fullyParallel: true,
  };
  ```
  
- [testProject.grep](/api/class-testproject.mdx#test-project-grep) 和 [testProject.grepInvert](/api/class-testproject.mdx#test-project-grep-invert) 現在可按專案配置。例如，您現在可以使用 `grep` 配置冒煙測試專案：
  
  ```js title="playwright.config.ts"
  export default {
    projects: [
      {
        name: 'smoke tests',
        grep: /@smoke/,
      },
    ],
  };
  ```
  
- [追蹤檢視器](./trace-viewer) 現在顯示 [API 測試請求](./api-testing)。
- [locator.highlight()](/api/class-locator.mdx#locator-highlight)視覺化地顯示element(s)以便更輕鬆地debugging.

### 公告
- 我們現在提供專用的 Python Docker 映像 `mcr.microsoft.com/playwright/python`。如果您使用 Python，請切換到此映像。這是最後一個在我們的 JavaScript `mcr.microsoft.com/playwright` Docker 映像中包含 Python 的版本。
- v1.20 是最後一個接收 macOS 10.15 Catalina WebKit 更新的版本。請更新 macOS 以繼續使用最新最好的 WebKit！

### 瀏覽器版本
- Chromium 101.0.4921.0
- Mozilla Firefox 97.0.1
- WebKit 15.4

此版本也對以下穩定頻道進行了測試：
- Google Chrome 99
- Microsoft Edge 99

## 版本 1.19

<LiteYouTube id="z0EOFvlf14U" title="Playwright 1.19" />

### Playwright Test 更新
- Playwright Test v1.19 現在支援 *soft assertions*. Failed soft assertions
  
  **do not** terminate test execution, but mark the test as failed.
  
  ```js
  // Make a few checks that will not stop the test when failed...
  await expect.soft(page.locator('#status')).toHaveText('Success');
  await expect.soft(page.locator('#eta')).toHaveText('1 day');
  
  // ... and continue the test to check more things.
  await page.locator('#next-page').click();
  await expect.soft(page.locator('#title')).toHaveText('Make another order');
  ```
  
  在我們的[文件](./test-assertions#soft-assertions)中閱讀更多
- 您現在可以指定**自訂 expect 訊息**作為 `expect` 和 `expect.soft` 函數的第二個參數，例如：
  
  ```js
  await expect(page.locator('text=Name'), 'should be logged in').toBeVisible();
  ```
  
  錯誤會看起來像這樣：
  
  ```bash
      Error: should be logged in
  
      Call log:
        - expect.toBeVisible with timeout 5000ms
        - waiting for "getByText('Name')"
  
  
        2 |
        3 | test('example test', async({ page }) => {
      > 4 |   await expect(page.locator('text=Name'), 'should be logged in').toBeVisible();
          |                                                                  ^
        5 | });
        6 |
  ```
  
  在我們的[文件](./test-assertions#custom-expect-message)中閱讀更多
- 預設情況下，單一檔案中的測試會依序執行。如果您在單一檔案中有許多獨立的測試，您現在可以使用 [test.describe.configure()](/api/class-test.mdx#test-describe-configure) 平行執行它們。

### 其他更新
- Locator 現在支援 `has` 選項，確保它在內部包含另一個 locator：
  
  ```js
  await page.locator('article', {
    has: page.locator('.highlight'),
  }).click();
  ```
  
  在[定位器文件](./api/class-locator#locator-locator)中閱讀更多
- 新方法 [locator.page()](/api/class-locator.mdx#locator-page)
- [page.screenshot()](/api/class-page.mdx#page-screenshot) 和 [locator.screenshot()](/api/class-locator.mdx#locator-screenshot) 現在會自動隱藏閃爍的游標
- Playwright Codegen 現在會產生定位器和框架定位器
- 新選項 `url`  in [testConfig.webServer](/api/class-testconfig.mdx#test-config-web-server) to ensure your web server is ready before running the tests
- 新屬性 [testInfo.errors](/api/class-testinfo.mdx#test-info-errors) 和 [testResult.errors](/api/class-testresult.mdx#test-result-errors) 包含所有失敗的斷言和軟斷言。

### Playwright Test 全域設定中的潛在重大變更

這項變更不太可能影響您，如果您的測試持續正常運行，則無需採取任何行動。

我們注意到在極少數情況下，要執行的測試集合是透過環境變數在全域設定中配置的。我們也注意到一些應用程式在全域清理中對報告器的輸出進行後處理。如果您正在執行其中一項，[了解更多](https://github.com/microsoft/playwright/issues/12018)

### 瀏覽器版本
- Chromium 100.0.4863.0
- Mozilla Firefox 96.0.1
- WebKit 15.4

此版本也對以下穩定頻道進行了測試：
- Google Chrome 98
- Microsoft Edge 98

## 版本 1.18

<LiteYouTube id="ABLYpw2BN_g" title="Playwright 1.18" />

### 定位器改進
- [locator.dragTo()](/api/class-locator.mdx#locator-drag-to)
- [`expect(locator).toBeChecked({ checked })`](./api/class-locatorassertions#locator-assertions-to-be-checked)
- 每個定位器現在可以選擇性地依據其包含的文字進行篩選：
  
  ```js
  await page.locator('li', { hasText: 'my item' }).locator('button').click();
  ```
  
  在[定位器文件](./api/class-locator#locator-locator)中閱讀更多

### 測試 API 改進
- [`expect(response).toBeOK()`](./test-assertions)
- [`testInfo.attach()`](./api/class-testinfo#test-info-attach)
- [`test.info()`](./api/class-test#test-info)

### 改進的 TypeScript 支援
1. Playwright Test 現在遵循 `tsconfig.json` 的 [`baseUrl`](https://www.typescriptlang.org/tsconfig#baseUrl) 和 [`paths`](https://www.typescriptlang.org/tsconfig#paths)，因此您可以使用別名
1. 有一個新的環境變數 `PW_EXPERIMENTAL_TS_ESM` 允許在您的 TS 程式碼中匯入 ESM 模組，無需編譯步驟。當您匯入 esm 模組時，請不要忘記 `.js` 後綴。執行測試如下：

```bash
npm i --save-dev @playwright/test@1.18.0-rc1
PW_EXPERIMENTAL_TS_ESM=1 npx playwright test
```

### 建立 Playwright

`npm init playwright` 指令現在普遍可供您使用：

```sh
# Run from your project's root directory
npm init playwright@latest
# Or create a new project
npm init playwright@latest new-project
```

這將建立一個 Playwright Test 配置檔案，可選擇新增範例、GitHub Action 工作流程和第一個測試 `example.spec.ts`。

### 新的 API 與變更
- new [`testCase.repeatEachIndex`](./api/class-testcase#test-case-repeat-each-index) API
- [`acceptDownloads`](./api/class-browser#browser-new-context-選項-accept-downloads) 選項現在預設為 `true`

### 重大變更：自定義配置選項

自訂配置選項是使用不同值來參數化專案的便利方法。在[此指南](./test-parameterize#parameterized-projects)中了解更多。

Previously, any fixture introduced through [test.extend()](/api/class-test.mdx#test-extend) could be overridden in the [testProject.use](/api/class-testproject.mdx#test-project-use) config section. For example,

```js
// WRONG: THIS SNIPPET DOES NOT WORK SINCE v1.18.

// fixtures.js
const test = base.extend({
  myParameter: 'default',
});

// playwright.config.js
module.exports = {
  use: {
    myParameter: 'value',
  },
};
```

在配置檔案中使裝置參數化的正確方法是在定義裝置時指定 `選項: true`。例如，

```js
// CORRECT: THIS SNIPPET WORKS SINCE v1.18.

// fixtures.js
const test = base.extend({
  // Fixtures marked as "選項: true" will get a value specified in the config,
  // or fallback to the default value.
  myParameter: ['default', { 選項: true }],
});

// playwright.config.js
module.exports = {
  use: {
    myParameter: 'value',
  },
};
```

### 瀏覽器版本
- Chromium 99.0.4812.0
- Mozilla Firefox 95.0
- WebKit 15.4

此版本也對以下穩定頻道進行了測試：
- Google Chrome 97
- Microsoft Edge 97

## 版本 1.17

<LiteYouTube id="7iyIdeoAP04" title="Playwright 1.17" />

### 框架定位器

Playwright 1.17 介紹了[框架定位器](./api/class-framelocator) - 頁面上 iframe 的定位器。框架定位器擷取足以檢索 `iframe` 然後在該 iframe 中定位元素的邏輯。框架定位器預設是嚴格的，會等待 `iframe` 出現，並且可以在 Web-First 斷言中使用。

![Graphics](https://user-images.githubusercontent.com/746130/142082759-2170db38-370d-43ec-8d41-5f9941f57d83.png)

框架定位器可以使用 [page.frameLocator()](/api/class-page.mdx#page-frame-locator) 或 [locator.frameLocator()](/api/class-locator.mdx#locator-frame-locator) 方法建立。

```js
const locator = page.frameLocator('#my-iframe').locator('text=Submit');
await locator.click();
```

在我們的[文件](./api/class-framelocator)中閱讀更多。

### 追蹤檢視器更新

Playwright 追蹤檢視器現在**可在線上使用**，網址為 https://trace.playwright.dev！只需拖放您的 `trace.zip` 檔案即可檢查其內容。

> **NOTE**: trace files are not uploaded anywhere; [trace.playwright.dev](https://trace.playwright.dev) is a [progressive web application](https://web.dev/progressive-web-apps/) that processes traces locally.
- Playwright Test 追蹤現在預設包含來源（這些可以透過追蹤選項關閉）
- 追蹤檢視器現在顯示測試名稱
- 新的追蹤中繼資料標籤頁，包含瀏覽器詳細資訊
- 快照現在具有 URL 列

![image](https://user-images.githubusercontent.com/746130/141877831-29e37cd1-e574-4bd9-aab5-b13a463bb4ae.png)

### HTML Report Update
- HTML report 現在支援 dynamic filtering
- 報告現在是**單一靜態 HTML 檔案**，可透過電子郵件傳送或作為 slack 附件。

![image](https://user-images.githubusercontent.com/746130/141877402-e486643d-72c7-4db3-8844-ed2072c5d676.png)

### Ubuntu ARM64 支援與更多功能
- Playwright 現在支援 **Ubuntu 20.04 ARM64**。您現在可以在 Apple M1 和 Raspberry Pi 上的 Docker 內執行 Playwright 測試。
- 您現在可以 use Playwright to install stable version of Edge on Linux:
  
  ```bash
  npx playwright install msedge
  ```
  
### 新的 API
- 追蹤現在支援 [`'title'`](./api/class-tracing#tracing-start-選項-title) 選項
- 頁面導覽支援新的 [`'commit'`](./api/class-page#page-goto) 等待選項
- HTML reporter got [new configuration options](./test-reporters#html-reporter)
- [`testConfig.snapshotDir` 選項](./api/class-testconfig#test-config-snapshot-dir)
- [`testInfo.parallelIndex`](./api/class-testinfo#test-info-parallel-index)
- [`testInfo.titlePath`](./api/class-testinfo#test-info-title-path)
- [`testOptions.trace`](./api/class-testoptions#test-options-trace) has new options
- [`expect.toMatchSnapshot`](./api/class-genericassertions.mdx) 支援子目錄
- [`reporter.printsToStdio()`](./api/class-reporter#reporter-prints-to-stdio)

## 版本 1.16

<LiteYouTube id="OQKwFDmY64g" title="Playwright 1.16" />

### 🎭 Playwright Test

#### API Testing

Playwright 1.16 引入新的 [API 測試](./api/class-apirequestcontext)，讓您可以直接從 Node.js 向伺服器發送請求！現在您可以：
- test your server API
- prepare server side state before visiting the web application in a test
- validate server side post-conditions after running some actions in the browser

要代表 Playwright 的頁面發出請求，請使用**新的 [page.request](/api/class-page.mdx#page-request) API**：

```js
import { test, expect } from '@playwright/test';

test('context fetch', async ({ page }) => {
  // Do a GET request on behalf of page
  const response = await page.request.get('http://example.com/foo.json');
  // ...
});
```

要從 node.js 向 API 端點發出獨立請求，請使用**新的 [`request` 裝置](./api/class-fixtures#fixtures-request)**：

```js
import { test, expect } from '@playwright/test';

test('context fetch', async ({ request }) => {
  // Do a GET request on behalf of page
  const response = await request.get('http://example.com/foo.json');
  // ...
});
```

在我們的 [API 測試指南](./api-testing)中閱讀更多。

#### Response Interception

現在可以透過結合 [API 測試](./api-testing) 與[請求攔截](./network#modify-requests)來進行回應攔截。

例如，我們可以模糊頁面上的所有圖片：

```js
import { test, expect } from '@playwright/test';
import jimp from 'jimp'; // image processing library

test('response interception', async ({ page }) => {
  await page.route('**/*.jpeg', async route => {
    const response = await page._request.fetch(route.request());
    const image = await jimp.read(await response.body());
    await image.blur(5);
    await route.fulfill({
      response,
      body: await image.getBufferAsync('image/jpeg'),
    });
  });
  const response = await page.goto('https://playwright.dev');
  expect(response.status()).toBe(200);
});
```

在[回應攔截](./network#modify-responses)中閱讀更多。

#### 新的 HTML 報告

嘗試新的 HTML 報告，使用 `--reporter=html` 或在 `playwright.config.ts` 檔案中新增 `reporter` 項目：

```bash
$ npx playwright test --reporter=html
```

HTML 報告器包含關於測試及其失敗的所有資訊，包括顯示追蹤和圖像工件。

![html reporter](https://user-images.githubusercontent.com/746130/138324311-94e68b39-b51a-4776-a446-f60037a77f32.png)

在[我們的報告](./test-reporters#html-reporter)中閱讀更多。

### 🎭 Playwright Library

#### locator.waitFor

Wait for a locator to resolve to a single element with a given state. Defaults to the `state: 'visible'`.

Comes especially handy when working with lists:

```js
import { test, expect } from '@playwright/test';

test('context fetch', async ({ page }) => {
  const completeness = page.locator('text=Success');
  await completeness.waitFor();
  expect(await page.screenshot()).toMatchSnapshot('screen.png');
});
```

在 [locator.waitFor()](/api/class-locator.mdx#locator-wait-for) 中閱讀更多。

### Arm64 的 Docker 支援

Playwright Docker 映像現在發佈用於 Arm64，因此可以在 Apple Silicon 上使用。

在 [Docker 整合](./docker)中閱讀更多。

### 🎭 Playwright Trace Viewer
- web-first assertions inside trace viewer
- run trace viewer with `npx playwright show-trace` and drop trace files to the trace viewer PWA
- API testing is integrated with trace viewer
- better visual attribution of action targets

在[追蹤檢視器](./trace-viewer)中閱讀更多。

### 瀏覽器版本
- Chromium 97.0.4666.0
- Mozilla Firefox 93.0
- WebKit 15.4

此版本的 Playwright 也已針對以下穩定通道進行測試：
- Google Chrome 94
- Microsoft Edge 94

## 版本 1.15

<LiteYouTube id="6RwzsDeEj7Y" title="Playwright 1.15" />

### 🎭 Playwright Library

#### 🖱️ Mouse Wheel

By using [mouse.wheel()](/api/class-mouse.mdx#mouse-wheel) you are now able to scroll vertically or horizontally.

#### 📜 新的 Headers API

以前無法取得回應的多個標頭值。現在這是可能的，並且提供了額外的輔助函數：
- [request.allHeaders()](/api/class-request.mdx#request-all-headers)
- [request.headersArray()](/api/class-request.mdx#request-headers-array)
- [request.headerValue()](/api/class-request.mdx#request-header-value)
- [response.allHeaders()](/api/class-response.mdx#response-all-headers)
- [response.headersArray()](/api/class-response.mdx#response-headers-array)
- [response.headerValue()](/api/class-response.mdx#response-header-value)
- [response.headerValues()](/api/class-response.mdx#response-header-values)

#### 🌈 Forced-Colors emulation

Its now possible to emulate the `forced-colors` CSS media feature by passing it in the [browser.newContext()](/api/class-browser.mdx#browser-new-context) or calling [page.emulateMedia()](/api/class-page.mdx#page-emulate-media).

#### 新的 API
- [page.route()](/api/class-page.mdx#page-route) 接受新的 `times` 選項來指定此路由應匹配多少次。
- [page.setChecked()](/api/class-page.mdx#page-set-checked) 和 [locator.setChecked()](/api/class-locator.mdx#locator-set-checked) 被引入以設定the checked state of a checkbox.
- [request.sizes()](/api/class-request.mdx#request-sizes) 回傳 resource size information for given http request.
- [tracing.startChunk()](/api/class-tracing.mdx#tracing-start-chunk) - Start a new trace chunk.
- [tracing.stopChunk()](/api/class-tracing.mdx#tracing-stop-chunk) - Stops a new trace chunk.

### 🎭 Playwright Test

#### 🤝 `test.parallel()` run tests in the same file in parallel

```js
test.describe.parallel('group', () => {
  test('runs in parallel 1', async ({ page }) => {
  });
  test('runs in parallel 2', async ({ page }) => {
  });
});
```

By default, tests in a single file are run in order. If you have many independent tests in a single file, 您現在可以 run them in parallel with [test.describe.parallel(title, callback)](./api/class-test#test-describe-parallel).

#### 🛠 Add `--debug` CLI flag

By using `npx playwright test --debug` it will enable the [Playwright Inspector](./debug#playwright-inspector) for you to debug your tests.

### 瀏覽器版本
- Chromium 96.0.4641.0
- Mozilla Firefox 92.0
- WebKit 15.0

## 版本 1.14

<LiteYouTube id="LczBDR0gOhk" title="Playwright 1.14" />

### 🎭 Playwright Library

#### ⚡️ 新的「嚴格」模式

選擇器歧義是自動化測試中的常見問題。**「嚴格」模式**確保您的選擇器指向單一元素，否則會拋出例外。

Pass `strict: true` into your action calls to opt in.

```js
// 如果您有超過一個按鈕，這會拋出例外！
await page.click('button', { strict: true });
```

#### 📍 新的 [**定位器 API**](./api/class-locator)

定位器代表頁面上元素的檢視。它擷取在任何給定時刻檢索元素所需的邏輯。

The difference between the [Locator](./api/class-locator) 和 [ElementHandle](./api/class-elementhandle) is that the latter points to a particular element, while [Locator](./api/class-locator) captures the logic of how to retrieve that element.

Also, locators are **"strict" by default**!

```js
const locator = page.locator('button');
await locator.click();
```

在[文件](./api/class-locator)中了解更多。

#### 🧩 Experimental [**React**](./other-locators.mdx#react-locator) 和 [**Vue**](./other-locators.mdx#vue-locator) selector engines

React and Vue selectors allow selecting elements by its component name and/or 屬性 values. The syntax is very similar to [attribute selectors](https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors) and supports all attribute selector operators.

```js
await page.locator('_react=SubmitButton[enabled=true]').click();
await page.locator('_vue=submit-button[enabled=true]').click();
```

在 [react 選擇器文件](./other-locators.mdx#react-locator)和 [vue 選擇器文件](./other-locators.mdx#vue-locator)中了解更多。

#### ✨ 新的 [**`nth`**](./other-locators.mdx#n-th-element-locator) 和 [**`visible`**](./other-locators.mdx#css-matching-only-visible-elements) 選擇器引擎
- [`nth`](./other-locators.mdx#n-th-element-locator) selector engine is equivalent to the `:nth-match` pseudo class, but could be combined with other selector engines.
- [`visible`](./other-locators.mdx#css-matching-only-visible-elements) selector engine is equivalent to the `:visible` pseudo class, but could be combined with other selector engines.

```js
// select the first button among all buttons
await button.click('button >> nth=0');
// or if you are using locators, you can use first(), nth() and last()
await page.locator('button').first().click();

// click a visible button
await button.click('button >> visible=true');
```

### 🎭 Playwright Test

#### ✅ Web-First Assertions

`expect` 現在支援許多新的網頁優先斷言。

考慮以下範例：

```js
await expect(page.locator('.status')).toHaveText('Submitted');
```

Playwright Test 會重複測試具有選擇器 `.status` 的節點，直到取得的節點具有 `"Submitted"` 文字為止。它會不斷重新取得節點並檢查，直到滿足條件或達到逾時為止。您可以傳遞此逾時或透過測試配置中的 [`testProject.expect`](./api/class-testproject#test-project-expect) 值一次性配置它。

預設情況下，斷言的逾時未設定，因此會永遠等待，直到整個測試逾時。

所有新斷言的清單：
- [`expect(locator).toBeChecked()`](./api/class-locatorassertions#locator-assertions-to-be-checked)
- [`expect(locator).toBeDisabled()`](./api/class-locatorassertions#locator-assertions-to-be-disabled)
- [`expect(locator).toBeEditable()`](./api/class-locatorassertions#locator-assertions-to-be-editable)
- [`expect(locator).toBeEmpty()`](./api/class-locatorassertions#locator-assertions-to-be-empty)
- [`expect(locator).toBeEnabled()`](./api/class-locatorassertions#locator-assertions-to-be-enabled)
- [`expect(locator).toBeFocused()`](./api/class-locatorassertions#locator-assertions-to-be-focused)
- [`expect(locator).toBeHidden()`](./api/class-locatorassertions#locator-assertions-to-be-hidden)
- [`expect(locator).toBeVisible()`](./api/class-locatorassertions#locator-assertions-to-be-visible)
- [`expect(locator).toContainText(text, options?)`](./api/class-locatorassertions#locator-assertions-to-contain-text)
- [`expect(locator).toHaveAttribute(name, value)`](./api/class-locatorassertions#locator-assertions-to-have-attribute)
- [`expect(locator).toHaveClass(expected)`](./api/class-locatorassertions#locator-assertions-to-have-class)
- [`expect(locator).toHaveCount(count)`](./api/class-locatorassertions#locator-assertions-to-have-count)
- [`expect(locator).toHaveCSS(name, value)`](./api/class-locatorassertions#locator-assertions-to-have-css)
- [`expect(locator).toHaveId(id)`](./api/class-locatorassertions#locator-assertions-to-have-id)
- [`expect(locator).toHaveJSProperty(name, value)`](./api/class-locatorassertions#locator-assertions-to-have-js-屬性)
- [`expect(locator).toHaveText(expected, options)`](./api/class-locatorassertions#locator-assertions-to-have-text)
- [`expect(page).toHaveTitle(title)`](./api/class-pageassertions#page-assertions-to-have-title)
- [`expect(page).toHaveURL(url)`](./api/class-pageassertions#page-assertions-to-have-url)
- [`expect(locator).toHaveValue(value)`](./api/class-locatorassertions#locator-assertions-to-have-value)

#### ⛓ Serial mode with [`describe.serial`](./api/class-test#test-describe-serial)

Declares a group of tests that should always be run serially. If one of the tests fails, all subsequent tests are skipped. All tests in a group are retried together.

```js
test.describe.serial('group', () => {
  test('runs first', async ({ page }) => { /* ... */ });
  test('runs second', async ({ page }) => { /* ... */ });
});
```

在[文件](./api/class-test#test-describe-serial)中了解更多。

#### 🐾 Steps API with [`test.step`](./api/class-test#test-step)

Split long tests into multiple steps using `test.step()` API:

```js
import { test, expect } from '@playwright/test';

test('test', async ({ page }) => {
  await test.step('Log in', async () => {
    // ...
  });
  await test.step('news feed', async () => {
    // ...
  });
});
```

Step information is exposed in reporters API.

#### 🌎 Launch web server before running tests

To launch a server during the tests, use the [`webServer`](./test-webserver) 選項 in the configuration file. The server will wait for a given url to be available before running the tests, and the url will be passed over to Playwright as a [`baseURL`](./api/class-testoptions#test-options-base-url) when creating a context.

```js title="playwright.config.ts"
import { defineConfig } from '@playwright/test';
export default defineConfig({
  webServer: {
    command: 'npm run start', // command to launch
    url: 'http://127.0.0.1:3000', // url to await for
    timeout: 120 * 1000,
    reuseExistingServer: !process.env.CI,
  },
});
```

在[文件](./test-webserver)中了解更多。

### 瀏覽器版本
- Chromium 94.0.4595.0
- Mozilla Firefox 91.0
- WebKit 15.0

## 版本 1.13

#### Playwright Test
- **⚡️ 介紹 [Reporter API](https://github.com/microsoft/playwright/blob/65a9037461ffc15d70cdc2055832a0c5512b227c/packages/playwright-test/types/testReporter.d.ts)**，已用於建立 [Allure Playwright reporter](https://github.com/allure-framework/allure-js/pull/297)。
- **⛺️ New [`baseURL` fixture](./test-configuration#basic-configuration)** to support relative paths in tests.

#### Playwright
- **🖖 Programmatic drag-and-drop support** via the [page.dragAndDrop()](/api/class-page.mdx#page-drag-and-drop) API.
- **🔎 Enhanced HAR**具有請求和回應的主體大小. 透過 `recordHar` 選項 in [browser.newContext()](/api/class-browser.mdx#browser-new-context). 使用

#### 工具
- Playwright 追蹤檢視器現在顯示參數、回傳值和 `console.log()` 呼叫。
- Playwright 檢查器可以產生 Playwright Test 測試。

#### 新增與重新編寫的指南
- [Intro](./intro.mdx)
- [Authentication](./auth.mdx)
- [Chrome Extensions](./chrome-extensions.mdx)
- [Playwright Test Annotations](./test-annotations.mdx)
- [Playwright Test Configuration](./test-configuration.mdx)
- [Playwright Test Fixtures](./test-fixtures.mdx)

#### 瀏覽器版本
- Chromium 93.0.4576.0
- Mozilla Firefox 90.0
- WebKit 14.2

#### 新的 Playwright API
- new `baseURL` 選項 in [browser.newContext()](/api/class-browser.mdx#browser-new-context) 和 [browser.newPage()](/api/class-browser.mdx#browser-new-page)
- [response.securityDetails()](/api/class-response.mdx#response-security-details) 和 [response.serverAddr()](/api/class-response.mdx#response-server-addr)
- [page.dragAndDrop()](/api/class-page.mdx#page-drag-and-drop) 和 [frame.dragAndDrop()](/api/class-frame.mdx#frame-drag-and-drop)
- [download.cancel()](/api/class-download.mdx#download-cancel)
- [page.inputValue()](/api/class-page.mdx#page-input-value), [frame.inputValue()](/api/class-frame.mdx#frame-input-value) 和 [elementHandle.inputValue()](/api/class-elementhandle.mdx#element-handle-input-value)
- new `force` 選項 in [page.fill()](/api/class-page.mdx#page-fill), [frame.fill()](/api/class-frame.mdx#frame-fill), 和 [elementHandle.fill()](/api/class-elementhandle.mdx#element-handle-fill)
- new `force` 選項 in [page.selectOption()](/api/class-page.mdx#page-select-選項), [frame.selectOption()](/api/class-frame.mdx#frame-select-選項), 和 [elementHandle.selectOption()](/api/class-elementhandle.mdx#element-handle-select-選項)

## 版本 1.12

#### ⚡️ Introducing Playwright Test

[Playwright Test](./intro.mdx) is a **new test runner** built from scratch by Playwright team specifically to accommodate end-to-end testing needs:
- 跨所有瀏覽器執行測試。
- 平行執行測試。
- 享受現成的情境隔離和明智的預設值。
- 在失敗時擷取影片、螢幕截圖和其他製品。
- 將您的 POM 整合為可擴充的佈置。

Installation:

```bash
npm i -D @playwright/test
```

Simple test `tests/foo.spec.ts`:

```js
import { test, expect } from '@playwright/test';

test('basic test', async ({ page }) => {
  await page.goto('https://playwright.dev/');
  const name = await page.innerText('.navbar__title');
  expect(name).toBe('Playwright');
});
```

Running:

```bash
npx playwright test
```

👉  在 [Playwright Test 文件](./intro.mdx) 中閱讀更多。

#### 🧟‍♂️ Introducing Playwright Trace Viewer

[Playwright Trace Viewer](./trace-viewer.mdx) is a new GUI tool that helps exploring recorded Playwright traces after the script ran. Playwright traces let you examine:
- page DOM before and after each Playwright action
- page rendering before and after each Playwright action
- browser network during script execution

Traces are recorded using the new [browserContext.tracing](/api/class-browsercontext.mdx#browser-context-tracing) API:

```js
const browser = await chromium.launch();
const context = await browser.newContext();

// Start tracing before creating / navigating a page.
await context.tracing.start({ screenshots: true, snapshots: true });

const page = await context.newPage();
await page.goto('https://playwright.dev');

// Stop tracing and export it into a zip archive.
await context.tracing.stop({ path: 'trace.zip' });
```

Traces are examined later with the Playwright CLI:

```sh
npx playwright show-trace trace.zip
```

That will open the following GUI:

![image](https://user-images.githubusercontent.com/746130/121109654-d66c4480-c7c0-11eb-8d4d-eb70d2b03811.png)

👉 在[追蹤檢視器文件](./trace-viewer.mdx)中閱讀更多。

#### 瀏覽器版本
- Chromium 93.0.4530.0
- Mozilla Firefox 89.0
- WebKit 14.2

This version of Playwright was also tested against the following stable channels:
- Google Chrome 91
- Microsoft Edge 91

#### 新的 API
- `reducedMotion` 選項 in [page.emulateMedia()](/api/class-page.mdx#page-emulate-media), [browserType.launchPersistentContext()](/api/class-browsertype.mdx#browser-type-launch-persistent-context), [browser.newContext()](/api/class-browser.mdx#browser-new-context) 和 [browser.newPage()](/api/class-browser.mdx#browser-new-page)
- [browserContext.on('request')](/api/class-browsercontext.mdx#browser-context-event-request)
- [browserContext.on('requestfailed')](/api/class-browsercontext.mdx#browser-context-event-request-failed)
- [browserContext.on('requestfinished')](/api/class-browsercontext.mdx#browser-context-event-request-finished)
- [browserContext.on('response')](/api/class-browsercontext.mdx#browser-context-event-response)
- `tracesDir` 選項 in [browserType.launch()](/api/class-browsertype.mdx#browser-type-launch) 和 [browserType.launchPersistentContext()](/api/class-browsertype.mdx#browser-type-launch-persistent-context)
- new [browserContext.tracing](/api/class-browsercontext.mdx#browser-context-tracing) API namespace
- new [download.page()](/api/class-download.mdx#download-page) 方法

## 版本 1.11

🎥  新影片：[Playwright: A New Test Automation Framework for the Modern Web](https://youtu.be/_Jla6DyuEu4) ([投影片](https://docs.google.com/presentation/d/1xFhZIJrdHkVe2CuMKOrni92HoG2SWslo0DhJJQMR1DI/edit?usp=sharing))
- We talked about Playwright
- 展示幕後的工程工作
- 使用新功能進行實時演示 ✨
- **特別感謝** [applitools](http://applitools.com/) 主辦活動並邀請我們！

#### 瀏覽器版本
- Chromium 92.0.4498.0
- Mozilla Firefox 89.0b6
- WebKit 14.2

#### 新的 API
- 在整個 API 中支援 **非同步謂詞**，例如在 [page.waitForRequest()](/api/class-page.mdx#page-wait-for-request) 和其他方法中
- 新的 **模擬裝置**：Galaxy S8、Galaxy S9+、Galaxy Tab S4、Pixel 3、Pixel 4
- 新方法：
  * [page.waitForURL()](/api/class-page.mdx#page-wait-for-url) 以等待導航至 URL
  * [video.delete()](/api/class-video.mdx#video-delete) 和 [video.saveAs()](/api/class-video.mdx#video-save-as) 以管理螢幕錄製
- 新選項：
  * `screen` 選項在 [browser.newContext()](/api/class-browser.mdx#browser-new-context) 方法中以模擬 `window.screen` 尺寸
  * `position` 選項在 [page.check()](/api/class-page.mdx#page-check) 和 [page.uncheck()](/api/class-page.mdx#page-uncheck) 方法中
  * `trial` 選項以在 [page.check()](/api/class-page.mdx#page-check)、[page.uncheck()](/api/class-page.mdx#page-uncheck)、[page.click()](/api/class-page.mdx#page-click)、[page.dblclick()](/api/class-page.mdx#page-dblclick)、[page.hover()](/api/class-page.mdx#page-hover) 和 [page.tap()](/api/class-page.mdx#page-tap) 中執行乾運行動作

## 版本 1.10
- [Playwright for Java v1.10](https://github.com/microsoft/playwright-java) is **now stable**!
- Run Playwright against **Google Chrome** and **Microsoft Edge** stable channels with the [new channels API](./browsers).
- Chromium screenshots are **fast** on Mac & Windows.

#### Bundled Browser Versions
- Chromium 90.0.4430.0
- Mozilla Firefox 87.0b10
- WebKit 14.2

This version of Playwright was also tested against the following stable channels:
- Google Chrome 89
- Microsoft Edge 89

#### 新的 API
- [browserType.launch()](/api/class-browsertype.mdx#browser-type-launch) 現在接受新的 `'channel'` 選項。在[我們的文件](./browsers)中閱讀更多。

## 版本 1.9
- [Playwright Inspector](./debug.mdx) is a **new GUI tool** to author and debug your tests.
  - **Line-by-line debugging** of your Playwright scripts, with play, pause and step-through.
  - Author new scripts by **recording user actions**.
  - **Generate element selectors** for your script by hovering over elements.
  - Set the `PWDEBUG=1` environment variable to launch the Inspector
- **Pause script execution** with [page.pause()](/api/class-page.mdx#page-pause) in headed mode. Pausing the page launches [Playwright Inspector](./debug.mdx) for debugging.
- **新的 has-text 偽類**用於 CSS 選擇器。`:has-text("example")` 匹配任何在內部包含 `"example"` 的元素，可能在子元素或後代元素中。請參閱[更多範例](./other-locators.mdx#css-matching-by-text)。
- **頁面對話框現在會自動關閉**在執行期間，除非為 `dialog` 事件配置了監聽器。[了解更多](./dialogs.mdx)相關資訊。
- [Playwright for Python](https://github.com/microsoft/playwright-python) is **now stable** with an idiomatic snake case API and pre-built [Docker image](./docker.mdx) to run tests in CI/CD.

#### 瀏覽器版本
- Chromium 90.0.4421.0
- Mozilla Firefox 86.0b10
- WebKit 14.1

#### 新的 API
- [page.pause()](/api/class-page.mdx#page-pause).

## 版本 1.8
- [Selecting elements based on layout](./other-locators.mdx#css-matching-elements-based-on-layout) with `:left-of()`, `:right-of()`, `:above()` and `:below()`.
- Playwright 現在包含[命令列介面](./test-cli.mdx)，以前稱為 playwright-cli。
  
  ```bash
  npx playwright --help
  ```
  
- [page.selectOption()](/api/class-page.mdx#page-select-選項) 現在會等待選項出現。
- 新方法 to [assert element state](./actionability#assertions) like [page.isEditable()](/api/class-page.mdx#page-is-editable).

#### 新的 API
- [elementHandle.isChecked()](/api/class-elementhandle.mdx#element-handle-is-checked).
- [elementHandle.isDisabled()](/api/class-elementhandle.mdx#element-handle-is-disabled).
- [elementHandle.isEditable()](/api/class-elementhandle.mdx#element-handle-is-editable).
- [elementHandle.isEnabled()](/api/class-elementhandle.mdx#element-handle-is-enabled).
- [elementHandle.isHidden()](/api/class-elementhandle.mdx#element-handle-is-hidden).
- [elementHandle.isVisible()](/api/class-elementhandle.mdx#element-handle-is-visible).
- [page.isChecked()](/api/class-page.mdx#page-is-checked).
- [page.isDisabled()](/api/class-page.mdx#page-is-disabled).
- [page.isEditable()](/api/class-page.mdx#page-is-editable).
- [page.isEnabled()](/api/class-page.mdx#page-is-enabled).
- [page.isHidden()](/api/class-page.mdx#page-is-hidden).
- [page.isVisible()](/api/class-page.mdx#page-is-visible).
- 新選項 `'editable'` in [elementHandle.waitForElementState()](/api/class-elementhandle.mdx#element-handle-wait-for-element-state).

#### 瀏覽器版本
- Chromium 90.0.4392.0
- Mozilla Firefox 85.0b5
- WebKit 14.1

## 版本 1.7
- **新 Java SDK**：[Playwright for Java](https://github.com/microsoft/playwright-java) 現在與 [JavaScript](https://github.com/microsoft/playwright)、[Python](https://github.com/microsoft/playwright-python) 和 [.NET 綁定](https://github.com/microsoft/playwright-dotnet)同步。
- **瀏覽器儲存 API**：新的便利 API 用於儲存和載入瀏覽器儲存狀態（cookies、本機儲存），以簡化需要驗證的自動化情境。
- **新的 CSS 選擇器**：我們聽取了您對更靈活選擇器的回饋，並重新設計了選擇器實作。Playwright 1.7 引入[新的 CSS 擴充功能](./other-locators.mdx#css-locator)，更多功能即將推出。
- **新網站**：[playwright.dev](https://playwright.dev/) 的文件網站已更新，現在使用 [Docusaurus](https://v2.docusaurus.io/) 建置。
- **Apple Silicon 支援**：WebKit 和 Chromium 的 Playwright 瀏覽器二進位檔案現在為 Apple Silicon 建置。

#### 新的 API
- [browserContext.storageState()](/api/class-browsercontext.mdx#browser-context-storage-state) to get current state for later reuse.
- `storageState` 選項 in [browser.newContext()](/api/class-browser.mdx#browser-new-context) 和 [browser.newPage()](/api/class-browser.mdx#browser-new-page) to setup browser context state.

#### 瀏覽器版本
- Chromium 89.0.4344.0
- Mozilla Firefox 84.0b9
- WebKit 14.1


[Accessibility]: /api/class-accessibility.mdx "Accessibility"
[Android]: /api/class-android.mdx "Android"
[AndroidDevice]: /api/class-androiddevice.mdx "AndroidDevice"
[AndroidInput]: /api/class-androidinput.mdx "AndroidInput"
[AndroidSocket]: /api/class-androidsocket.mdx "AndroidSocket"
[AndroidWebView]: /api/class-androidwebview.mdx "AndroidWebView"
[APIRequest]: /api/class-apirequest.mdx "APIRequest"
[APIRequestContext]: /api/class-apirequestcontext.mdx "APIRequestContext"
[APIResponse]: /api/class-apiresponse.mdx "APIResponse"
[APIResponseAssertions]: /api/class-apiresponseassertions.mdx "APIResponseAssertions"
[Browser]: /api/class-browser.mdx "Browser"
[BrowserContext]: /api/class-browsercontext.mdx "BrowserContext"
[BrowserServer]: /api/class-browserserver.mdx "BrowserServer"
[BrowserType]: /api/class-browsertype.mdx "BrowserType"
[CDPSession]: /api/class-cdpsession.mdx "CDPSession"
[Clock]: /api/class-clock.mdx "Clock"
[ConsoleMessage]: /api/class-consolemessage.mdx "ConsoleMessage"
[Coverage]: /api/class-coverage.mdx "Coverage"
[Dialog]: /api/class-dialog.mdx "Dialog"
[Download]: /api/class-download.mdx "Download"
[Electron]: /api/class-electron.mdx "Electron"
[ElectronApplication]: /api/class-electronapplication.mdx "ElectronApplication"
[ElementHandle]: /api/class-elementhandle.mdx "ElementHandle"
[FileChooser]: /api/class-filechooser.mdx "FileChooser"
[Frame]: /api/class-frame.mdx "Frame"
[FrameLocator]: /api/class-framelocator.mdx "FrameLocator"
[GenericAssertions]: /api/class-genericassertions.mdx "GenericAssertions"
[JSHandle]: /api/class-jshandle.mdx "JSHandle"
[Keyboard]: /api/class-keyboard.mdx "Keyboard"
[Locator]: /api/class-locator.mdx "Locator"
[LocatorAssertions]: /api/class-locatorassertions.mdx "LocatorAssertions"
[Logger]: /api/class-logger.mdx "Logger"
[Mouse]: /api/class-mouse.mdx "Mouse"
[Page]: /api/class-page.mdx "Page"
[PageAssertions]: /api/class-pageassertions.mdx "PageAssertions"
[Playwright]: /api/class-playwright.mdx "Playwright"
[PlaywrightAssertions]: /api/class-playwrightassertions.mdx "PlaywrightAssertions"
[Request]: /api/class-request.mdx "Request"
[Response]: /api/class-response.mdx "Response"
[Route]: /api/class-route.mdx "Route"
[Selectors]: /api/class-selectors.mdx "Selectors"
[SnapshotAssertions]: /api/class-snapshotassertions.mdx "SnapshotAssertions"
[TimeoutError]: /api/class-timeouterror.mdx "TimeoutError"
[Touchscreen]: /api/class-touchscreen.mdx "Touchscreen"
[Tracing]: /api/class-tracing.mdx "Tracing"
[Video]: /api/class-video.mdx "Video"
[WebError]: /api/class-weberror.mdx "WebError"
[WebSocket]: /api/class-websocket.mdx "WebSocket"
[WebSocketRoute]: /api/class-websocketroute.mdx "WebSocketRoute"
[Worker]: /api/class-worker.mdx "Worker"
[Fixtures]: /api/class-fixtures.mdx "Fixtures"
[FullConfig]: /api/class-fullconfig.mdx "FullConfig"
[FullProject]: /api/class-fullproject.mdx "FullProject"
[Location]: /api/class-location.mdx "Location"
[Test]: /api/class-test.mdx "Test"
[TestConfig]: /api/class-testconfig.mdx "TestConfig"
[TestInfo]: /api/class-testinfo.mdx "TestInfo"
[TestInfoError]: /api/class-testinfoerror.mdx "TestInfoError"
[TestOptions]: /api/class-testoptions.mdx "TestOptions"
[TestProject]: /api/class-testproject.mdx "TestProject"
[TestStepInfo]: /api/class-teststepinfo.mdx "TestStepInfo"
[WorkerInfo]: /api/class-workerinfo.mdx "WorkerInfo"
[Reporter]: /api/class-reporter.mdx "Reporter"
[Suite]: /api/class-suite.mdx "Suite"
[TestCase]: /api/class-testcase.mdx "TestCase"
[TestError]: /api/class-testerror.mdx "TestError"
[TestResult]: /api/class-testresult.mdx "TestResult"
[TestStep]: /api/class-teststep.mdx "TestStep"
[Element]: https://developer.mozilla.org/en-US/docs/Web/API/element "Element"
[EvaluationArgument]: /evaluating.mdx#evaluation-argument "EvaluationArgument"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[iterator]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols "Iterator"
[origin]: https://developer.mozilla.org/en-US/docs/Glossary/Origin "Origin"
[selector]: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors "selector"
[Serializable]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description "Serializable"
[UIEvent.detail]: https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/detail "UIEvent.detail"
[UnixTime]: https://en.wikipedia.org/wiki/Unix_time "Unix Time"
[xpath]: https://developer.mozilla.org/en-US/docs/Web/XPath "xpath"

[Array]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array "Array"
[boolean]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type "Boolean"
[Buffer]: https://nodejs.org/api/buffer.html#buffer_class_buffer "Buffer"
[ChildProcess]: https://nodejs.org/api/child_process.html "ChildProcess"
[Date]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date "Date"
[Error]: https://nodejs.org/api/errors.html#errors_class_error "Error"
[EventEmitter]: https://nodejs.org/api/events.html#events_class_eventemitter "EventEmitter"
[function]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function "Function"
[FormData]: https://developer.mozilla.org/en-US/docs/Web/API/FormData "FormData"
[Map]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map "Map"
[Metadata]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object&lt;string, any&gt;"
[null]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null "null"
[number]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type "Number"
[Object]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object "Object"
[Promise]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise "Promise"
[Readable]: https://nodejs.org/api/stream.html#stream_class_stream_readable "Readable"
[ReadStream]: https://nodejs.org/api/fs.html#class-fsreadstream "ReadStream"
[RegExp]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp "RegExp"
[string]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type "string"
[void]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined "void"
[URL]: https://nodejs.org/api/url.html "URL"
[URLSearchParams]: https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams "URLSearchParams"

[all available image tags]: https://mcr.microsoft.com/en-us/product/playwright/about "all available image tags"
[Microsoft Artifact Registry]: https://mcr.microsoft.com/en-us/product/playwright/about "Microsoft Artifact Registry"
[Dockerfile.noble]: https://github.com/microsoft/playwright/blob/main/utils/docker/Dockerfile.noble "Dockerfile.noble"
